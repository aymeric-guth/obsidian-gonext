/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  ExampleModal: () => ExampleModal,
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// constants.ts
var Paths = {
  Tasks: "813 Tasks",
  Components: "Components",
  Goals: "Goals",
  Slipbox: "803 Slipbox",
  Inbox: "800 Inbox",
  Refs: "802 Refs",
  Archives: "400 Archives",
  Logs: "600 Log",
  Attachments: "000 Attachments",
  Journal: "Journal",
  Resources: "Resources",
  Projects: "100 Projects",
  Domains: "Domains",
  Names: "Names"
};
var Status = {
  Todo: "todo",
  Doing: "doing",
  Done: "done",
  Maybe: "maybe",
  Standby: "standby",
  Trash: "trash"
};
var Types = {
  Fleeting: 13,
  Literature: 1,
  Permanent: 2,
  Task: 3,
  Praxis: 4,
  Provision: 5,
  Log: 6,
  Resource: 7,
  Media: 8,
  Project: 12,
  Org: 9,
  Domain: 10,
  Component: 11
};
var Namespace = {
  Area: "area",
  Context: "context",
  Layer: "layer",
  Org: "org",
  Project: "project"
};
var Default = {
  Area: "none",
  Context: "any",
  Layer: "none",
  Org: "none",
  Project: "none"
};

// api.ts
var FilterBy = class {
  constructor(fm) {
    this.fm = fm;
    if (fm === void 0) {
      this.predicates = [];
    } else {
      this.predicates = Array.isArray(fm.filter_by) ? fm.filter_by : [];
    }
  }
  nameInNamespace(fm, ns) {
    let found = false;
    if (ns.length === 0) {
      return true;
    }
    for (const a of ns) {
      const root = a.split("/");
      Assert.True(root.length === 2, `Invalid tag: '${a}'`);
      const parent = root[0].slice(0, 1) === "!" ? root[0].slice(1) : root[0];
      const name = Helper.getTag(fm, parent);
      if (a.slice(0, 1) === "!") {
        if (name === a.slice(1)) {
          return false;
        } else {
          found = true;
        }
      } else {
        if (name === a) {
          found = true;
        } else {
          found = false;
        }
      }
    }
    return found;
  }
  filter(fm) {
    if (this.predicates.length == 0) {
      return false;
    }
    return !this.nameInNamespace(fm, this.predicates);
  }
};
var FrontmatterJS = class {
  singular(values, field) {
    if (!Helper.nilCheck(this.fm[field])) {
      const value = this.fm[field];
      if (typeof value === "string") {
        if (!values.contains(value)) {
          values.push(value);
        }
      } else {
        console.warn(
          `'${field}' is ignored, invalid data-type: '${typeof this.fm[field]}'`
        );
      }
    }
  }
  plural(values, field) {
    if (!Helper.nilCheck(this.fm[field])) {
      if (!Array.isArray(this.fm[field])) {
        console.warn(
          `'${field}' is ignored, invalid data-type: '${field}'`
        );
      } else {
        for (const value of this.fm[field]) {
          if (typeof value === "string") {
            if (!values.contains(value)) {
              values.push(value);
            }
          } else {
            console.warn(
              `'${value}s.${value}' is ignored, invalid data-type: '${typeof value}'`
            );
          }
        }
      }
    }
  }
  constructor(page) {
    Assert.True(page !== void 0, "'page' is undefined");
    this.f = page.file;
    const f = this.f;
    Assert.True(f !== void 0, "'f' is undefined");
    this.fm = f.frontmatter;
    Assert.True(this.fm !== void 0, "'fm' is undefined");
    Assert.True(
      this.fm.uuid !== void 0,
      `'uuid' is undefined for '${this.f.path}'`
    );
    this.uuid = this.fm.uuid;
    this.version = this.fm.version;
    this.createdAt = new Date(this.fm.created_at);
    this.at = this.fm.at !== void 0 ? new Date(this.fm.at) : new Date();
    this.before = this.fm.before !== void 0 ? new Date(this.fm.before) : new Date();
    this.after = this.fm.after !== void 0 ? new Date(this.fm.after) : new Date();
    this.components = [];
    this.domains = [];
    this.projects = [];
    this.contexts = [];
    this.traits = [];
    const domains = [];
    const components = [];
    const projects = [];
    const names = [];
    const contexts = [];
    const contents = [];
    const traits = [];
    if (!Helper.nilCheck(this.fm.tags)) {
      if (!Array.isArray(this.fm.tags)) {
        console.warn("'tags' is ignored, invalid data-type");
        this.fm.tags = [];
      }
      for (const tag of this.fm.tags) {
        if (tag.slice(0, 7) === "domain/") {
          domains.push(tag.slice(7));
        } else if (tag.slice(0, 10) === "component/") {
          components.push(tag.slice(10));
        } else if (tag.slice(0, 8) === "project/") {
          projects.push(tag.slice(8));
        } else if (tag.slice(0, 5) === "name/") {
          names.push(tag.slice(5));
        } else if (tag.slice(0, 8) == "context/") {
          contexts.push(tag.slice(8));
        } else if (tag.slice(0, 8) == "content/") {
          contents.push(tag.slice(8));
        } else if (tag.slice(0, 6) == "trait/") {
          traits.push(tag.slice(6));
        }
      }
    }
    this.singular(domains, "domain");
    this.plural(domains, "domains");
    this.singular(components, "components");
    this.plural(components, "components");
    this.singular(projects, "project");
    this.plural(projects, "projects");
    this.singular(contents, "contents");
    this.plural(contents, "contents");
    this.singular(names, "name");
    this.plural(names, "names");
    this.plural(names, "alias");
    this.singular(traits, "trait");
    this.plural(traits, "traits");
    this.domains = domains;
    this.components = components;
    this.projects = projects;
    this.names = names;
    this.contexts = contexts;
    this.contents = contents;
    this.traits = traits;
  }
  getDomain(emptyDefault = true) {
    if (emptyDefault) {
      return this.domains[0];
    } else {
      return this.domains[0] === void 0 ? "unknown" : this.domains[0];
    }
  }
  getDomains() {
    return this.domains;
  }
  getTraits() {
    return this.traits;
  }
  getComponents() {
    return this.components;
  }
  getProject(emptyDefault = true) {
    if (emptyDefault) {
      return this.projects[0];
    } else {
      return this.projects[0] === void 0 ? "" : this.projects[0];
    }
  }
  getProjects() {
    return this.projects;
  }
  getName(emptyDefault = true) {
    if (emptyDefault) {
      return this.names[0];
    } else {
      return this.names[0] === void 0 ? "" : this.names[0];
    }
  }
  getContent(emptyDefault = true) {
    if (emptyDefault) {
      return this.contents[0];
    } else {
      return this.contents[0] === void 0 ? "" : this.contents[0];
    }
  }
  getNames() {
    return this.names;
  }
  getContext(emptyDefault = true) {
    if (emptyDefault) {
      return this.contexts[0];
    } else {
      return this.contexts[0] === void 0 ? "" : this.contexts[0];
    }
  }
  resolve(dv) {
    const domains = [];
    for (const domain of this.domains) {
      if (Helper.isUUID(domain)) {
        const pages = dv.pages(`"${Paths.Domains}"`).where((page) => page.file.frontmatter.uuid === domain);
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 1) {
          const page = pages[0];
          domains.push(page.file.frontmatter.name);
        }
      } else {
        const pages = dv.pages(`"${Paths.Domains}"`).where((page) => page.file.frontmatter.name === domain);
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 1) {
          const page = pages[0];
          domains.push(page.file.frontmatter.name);
        }
      }
    }
    if (domains.length !== this.domains.length) {
      console.warn(`Domain resolution failed for: ${this.domains}`);
    }
    this.domains = domains;
  }
};
var ValidationError = class extends Error {
  constructor(message) {
    super(message);
    this.name = "ValidationError";
  }
};
var Assert = {
  True(predicate, message) {
    if (!predicate) {
      throw new ValidationError(message);
    }
  }
};
var Helper = {
  nilCheck(val) {
    return val === void 0 || val === null;
  },
  getKeyFuck(groupBy) {
    switch (groupBy) {
      default:
      case "doneAt":
        return (entry) => entry.file.frontmatter.doneAt.toISOString().slice(0, 10);
        break;
      case "createdAt":
        return (entry) => entry.file.frontmatter.createdAt.toISOString().slice(0, 10);
        break;
      case "project":
        return (entry) => entry.file.frontmatter.project;
        break;
      case "area":
        return (entry) => entry.file.frontmatter.area;
        break;
    }
  },
  getKey(groupBy) {
    switch (groupBy) {
      default:
      case "doneAt":
        return (entry) => entry.doneAt.toISOString().slice(0, 10);
        break;
      case "createdAt":
        return (entry) => entry.createdAt.toISOString().slice(0, 10);
        break;
      case "project":
        return (entry) => entry.project;
        break;
      case "area":
        return (entry) => entry.area;
        break;
    }
  },
  numberTypeToString(val) {
    switch (val.type) {
      case Types.Fleeting:
        return "fleeting";
      case Types.Log:
        return "log";
      case Types.Project:
        return "project";
      case Types.Org:
        return "org";
      case Types.Domain:
        return "domain";
      case Types.Component:
        return "component";
      default:
        throw new Error(
          `numberTypeToString: type: "${val.type}" not implemented "${val.uuid}"`
        );
    }
  },
  roundToOneDecimal(val) {
    return Math.round(val * 10) / 10;
  },
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  },
  getField(field, defaultValue) {
    if (field === void 0 || field === null) {
      return defaultValue;
    } else {
      return field;
    }
  },
  getDate(dt) {
    if (dt === "" || dt === null) {
      return void 0;
    } else if (dt !== void 0) {
      dt = new Date(dt);
      if (isNaN(dt)) {
        return void 0;
      } else {
        return dt;
      }
    } else {
      return void 0;
    }
  },
  getTag(fm, type, emptyDefault = void 0) {
    let name = "";
    let defaultValue = "";
    if (type === "area") {
      name = Namespace.Area;
      defaultValue = Default.Area;
    } else if (type === "context") {
      name = Namespace.Context;
      defaultValue = Default.Context;
    } else if (type === "layer") {
      name = Namespace.Layer;
      defaultValue = Default.Layer;
    } else if (type === "org") {
      name = Namespace.Org;
      defaultValue = Default.Org;
    } else if (type === "project") {
      name = Namespace.Project;
      defaultValue = Default.Project;
    } else if (type == "domain") {
      name = "domain";
      defaultValue = "none";
    } else {
      throw new Error(`getTag got unsuported type: '${type}'`);
    }
    const len = name.length + 1;
    const defaultTag = `${name}/${defaultValue}`;
    let defaultRetVal = defaultTag;
    if (emptyDefault) {
      defaultRetVal = void 0;
    }
    if (fm === void 0) {
      return defaultRetVal;
    }
    const tags = fm.tags;
    if (tags === void 0 || tags.length === 0) {
      return defaultRetVal;
    }
    for (const tag of tags) {
      if (tag == defaultTag) {
        return defaultRetVal;
      }
      if (tag.length > len && tag.slice(0, len) == `${name}/`) {
        return tag;
      }
    }
    return defaultRetVal;
  },
  getName(fm) {
    const components = Helper.getComponents(fm);
    if (components.length < 1) {
      throw new Error(`Helper.getName() ${fm}`);
    }
    let name = void 0;
    let occurences = 0;
    for (const component of components) {
      if (component.slice(0, 15) === "component/name/") {
        name = component.slice(15);
        occurences += 1;
      }
    }
    if (occurences > 1) {
      throw new Error(
        `Helper.getName() ${fm} multiple occurences of 'component/name'`
      );
    }
    if (name === void 0) {
      throw new Error(
        `Helper.getName() ${fm} 'component/name' undefined`
      );
    }
    return name;
  },
  getComponents(fm) {
    const components = [];
    if (Helper.nilCheck(fm.tags)) {
      return [];
    }
    for (const tag of fm.tags) {
      if (tag.length > 10 && tag.slice(0, 10) === "component/") {
        components.push(tag);
      }
    }
    return components;
  },
  getArea(fm, emptyDefault = false) {
    return Helper.getTag(fm, "area", emptyDefault);
  },
  getContext(fm, emptyDefault = false) {
    return Helper.getTag(fm, "context", emptyDefault);
  },
  getDomain(fm, emptyDefault = false) {
    return Helper.getTag(fm, "domain", emptyDefault);
  },
  getLayer(fm, emptyDefault = false) {
    return Helper.getTag(fm, "layer", emptyDefault);
  },
  getOrg(fm, emptyDefault = false) {
    return Helper.getTag(fm, "org", emptyDefault);
  },
  getProject(fm, emptyDefault = false) {
    return Helper.getTag(fm, "project", emptyDefault);
  },
  durationStringToSec(val) {
    if (val === void 0 || val.length === 0) {
      return 0;
    }
    const mult = val.slice(-1);
    let m = 0;
    if (mult === "h") {
      m = 60 * 60;
    } else if (mult === "m") {
      m = 60;
    } else if (mult === "d") {
      m = 24 * 60 * 60;
    } else if (mult == "w") {
      m = 24 * 60 * 60 * 7;
    } else {
      console.warn(`Unhandled case val: ${val}`);
      return void 0;
    }
    return m * parseInt(val.slice(0, -1));
  },
  msecToStringDuration(val) {
    const oneHourInMsec = 36e5;
    const oneDayInMsec = 864e5;
    if (val >= 24 * oneHourInMsec) {
      return String(Helper.roundToOneDecimal(val / oneDayInMsec)).padStart(
        2,
        "0"
      ) + " d";
    } else {
      return String(Helper.roundToOneDecimal(val / oneHourInMsec)).padStart(
        2,
        "0"
      ) + " h";
    }
  },
  isUUID(val) {
    if (typeof val !== "string") {
      return false;
    }
    return val.length === 36;
  }
};
var AutoField = {
  tags(dv, fm, level = 2) {
    const tags = fm.tags;
    if (tags == void 0 || tags.length === 0) {
      return;
    }
    tags.sort();
    dv.header(level, "Tags");
    let s = "";
    for (const tag of tags) {
      s += ` #${tag}`;
    }
    dv.paragraph(s);
  },
  authors(dv, fm) {
    const authors = fm.authors;
    if (authors === void 0 || authors.length === 0) {
      return;
    }
    dv.header(3, "Authors");
    dv.list(authors);
  },
  title(dv, fm) {
    const title = fm.alias;
    if (title === void 0 || title.length === 0) {
      return;
    }
    dv.header(3, title);
  },
  logs(dv, entries) {
    const buff = [];
    let totalTime = 0;
    for (const entry of entries) {
      const fme = entry.file.frontmatter;
      const e = [];
      let start = 0;
      let stop = 0;
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      if (fme.done_at === void 0) {
        stop = Date.now();
      } else {
        stop = new Date(fme.done_at);
      }
      totalTime += stop - start;
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      e.push(Math.round((stop - start) / (1e3 * 60 * 60) * 10) / 10);
      if (fme.reviewed === void 0 || fme.reviewed === 0) {
        e.push(0);
      } else {
        e.push(fme.reviewed);
      }
      buff.push(e);
    }
    if (buff.length > 0) {
      dv.header(2, "Logs");
      dv.table(["created_at", "uuid", "session", "reviewed"], buff);
      if (totalTime > 0) {
        dv.paragraph(
          `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
        );
      }
    }
  },
  media(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    const pages = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
    if (pages.length !== 1) {
      return;
    }
    const media = pages[0];
    const mediaFm = media.file.frontmatter;
    AutoField.title(dv, mediaFm);
    dv.paragraph(Renderer.makeLinkAlias(dv, media.file));
    AutoField.authors(dv, mediaFm);
    AutoField.tags(dv, mediaFm, 3);
    const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
    AutoField.logs(dv, logEntries);
  },
  autoFieldTitle(dv, fm) {
    const title = fm.alias;
    if (title == void 0) {
      return;
    }
    dv.header(1, title);
  },
  autoFieldAuthors(dv, fm) {
    const authors = fm.authors;
    if (authors === void 0 || authors.length === 0) {
      return;
    }
    dv.header(2, "Authors");
    dv.list(authors);
  },
  autoFieldTags(dv, fm) {
    const tags = fm.tags;
    if (tags == void 0 || tags.length === 0) {
      return;
    }
    tags.sort();
    dv.header(2, "Tags");
    let s = "";
    for (const tag of tags) {
      s += ` #${tag}`;
    }
    dv.paragraph(s);
  },
  literature(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    if (Helper.nilCheck(fm.authors)) {
    } else {
      this.autoFieldTitle(dv, fm);
      this.autoFieldAuthors(dv, fm);
      this.autoFieldTags(dv, fm);
    }
  },
  calendar(dv) {
    const current = dv.current().file.frontmatter;
    const currentAt = new Date(current.at);
    const currentAtShort = currentAt.toISOString().slice(0, 10);
    const pages = dv.pages(`"Calendar"`).where((page) => {
      const fm = page.file.frontmatter;
      if (fm.completed === true) {
        return false;
      }
      const now = new Date();
      if (fm.date !== currentAtShort) {
        return false;
      }
      if (fm.completed === false) {
        return true;
      } else {
        return true;
      }
    }).sort((k) => k.at, "asc");
    if (pages.length === 0) {
      return;
    }
    const buff = [];
    for (const page of pages) {
      const fm = page.file.frontmatter;
      buff.push([`${fm.startTime} - ${fm.endTime}`, `${fm.title}`]);
    }
    console.log(pages.length);
    dv.table(["at", "title"], buff);
  },
  daily(dv) {
    const current = dv.current().file.frontmatter;
    const currentAt = new Date(current.at);
    const currentAtShort = currentAt.toISOString().slice(0, 10);
    const pages = dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (current.uuid === fm.uuid) {
        return false;
      }
      if (fm.fm.status !== "todo" || fm.getProject() === "daily") {
        return false;
      }
      const now = new Date();
      if (page.file.frontmatter.at !== void 0 && fm.at.toISOString().slice(0, 10) === currentAtShort) {
        return true;
      }
      if (page.file.frontmatter.at !== void 0 && fm.at.getTime() < now.getTime()) {
        return true;
      }
      if (page.file.frontmatter.before !== void 0 && fm.before.getTime() > now.getTime()) {
        return true;
      }
      if (page.file.frontmatter.after !== void 0 && fm.after.getTime() < now.getTime()) {
        return true;
      }
      return false;
    }).sort((k) => k.at, "asc");
    if (pages.length === 0) {
      return;
    }
    const buff = [];
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      const h = String(fm.at.getHours()).padStart(2, "0");
      const m = String(fm.at.getMinutes()).padStart(2, "0");
      if (page.file.frontmatter.status === "done") {
        buff.push([
          `~~${Renderer.makeLinkShortUUID(dv, page.file, "Task")}~~`,
          `~~${h}:${m}~~`
        ]);
      } else {
        buff.push([
          `${Renderer.makeLinkShortUUID(dv, page.file, "Task")}`,
          `${h}:${m}`
        ]);
      }
    }
    dv.table(["uuid", "at"], buff);
  },
  task(dv) {
    const dvLib = new DvLib();
    dvLib.autoFieldTask(dv);
  },
  log(dv) {
    const dvLib = new DvLib();
    dvLib.autoFieldLog(dv);
  }
};
var Renderer = {
  makeLinkName(dv, f, anchor = "Content") {
    if (Helper.nilCheck(f.frontmatter.name)) {
      return Renderer.makeLinkShortUUID(dv, f, anchor);
    }
    return dv.sectionLink(f.path, anchor, false, `${f.frontmatter.name}`);
  },
  makeLinkAlias(dv, f, anchor = "Content") {
    if (Helper.nilCheck(f.frontmatter.alias)) {
      return Renderer.makeLinkShortUUID(dv, f, anchor);
    }
    return dv.sectionLink(f.path, anchor, false, `${f.frontmatter.alias}`);
  },
  makeLinkShortUUID(dv, f, anchor = "Content") {
    return dv.sectionLink(
      f.path,
      anchor,
      false,
      `${f.frontmatter.uuid.slice(0, 8)}`
    );
  },
  makeLink(dv, f, name = void 0, anchor = "Content") {
    return dv.sectionLink(f.path, anchor, false, name);
  },
  projectLogs(dv, data) {
    const cols = ["type", "task_id", "log_id", "took", "reviewed"];
    const buff = [];
    let totalTime = 0;
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      Assert.True(
        !Helper.nilCheck(fm.type),
        `"type" id not defined for: ${f.path}`
      );
      const createdAt = new Date(fm.created_at);
      const doneAt = new Date(fm.done_at);
      const delta = doneAt.getTime() - createdAt.getTime();
      totalTime += delta;
      const record = {
        taskId: "",
        logId: Renderer.makeLinkAlias(dv, f),
        took: Math.round(delta / (1e3 * 60 * 60) * 10) / 10,
        reviewed: Helper.nilCheck(fm.reviewed) ? 0 : fm.reviewed,
        type: void 0
      };
      const pages = dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (pages.length !== 1) {
        throw new Error(
          `parent task with id: "${fm.parent_id}" does not exists`
        );
      }
      const parent = pages[0];
      switch (parent.file.frontmatter.type) {
        case Types.Task:
          record.type = `<font color=8B0000>task</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Task"
          );
          break;
        case Types.Media:
          record.type = `<font color=00008B>media</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Content"
          );
          break;
        case Types.Praxis:
          record.type = `<font color=FF8C00>praxis</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Content"
          );
          break;
        case Types.Provision:
          record.type = `<font color=DC143C>provision</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Content"
          );
          break;
        default:
          throw new Error(
            `Renderer.projectLogs: type "${parent.file.frontmatter.type}" not implemented`
          );
      }
      buff.push([
        record.type,
        record.taskId,
        record.logId,
        record.took,
        record.reviewed
      ]);
    }
    dv.table(cols, buff);
  },
  inboxEntry(dv, data) {
    const cols = [
      "uuid",
      // "type",
      // "age",
      // "size",
      "name"
      // "project",
      // "domain",
      // "components",
    ];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      Assert.True(
        !Helper.nilCheck(fm.type),
        `"type" id not defined for: ${f.path}`
      );
      const now = new Date();
      const delta = now.getTime() - fm.createdAt.getTime();
      const since = Helper.msecToStringDuration(delta);
      let name = "";
      console.log("\n");
      console.log(fm.domain);
      console.log(fm.project);
      console.log("\n");
      if (fm.domain !== "domain/undefined") {
        name = fm.domain;
      } else if (fm.project !== void 0) {
        name = fm.project;
      } else {
        name = "\\-";
      }
      const record = {
        uuid: Helper.numberTypeToString(fm) === "fleeting" ? `&#128196 ${Renderer.makeLinkAlias(dv, f)}` : Renderer.makeLinkAlias(dv, f),
        // uuid: `&#9728 ${Renderer.makeLinkAlias(dv, f)}`,
        type: Helper.numberTypeToString(fm),
        since: `${since}`,
        size: f.size,
        project: fm.project === void 0 ? "\\-" : fm.project.slice(8),
        domain: fm.domain === void 0 ? "\\-" : fm.domain.slice(7),
        //Renderer.domainBase(dv, fm.domain),
        name
      };
      if (record.type === "log") {
        const pages = dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
        if (pages.length !== 1) {
          throw new Error(`${fm.parent_id} ${fm.id}`);
        }
        const parent = pages[0];
        switch (parent.type) {
          case Types.Task:
            record.uuid = `&#128211 ${record.uuid}`;
            record.type = `<font color=8B0000>task</font>`;
            break;
          case Types.Praxis:
            record.uuid = `&#128188 ${record.uuid}`;
            record.type = `<font color=FF8C00>praxis</font>`;
            break;
          case Types.Media:
            record.uuid = `&#128191 ${record.uuid}`;
            record.type = `<font color=00008B>media</font>`;
            break;
          case Types.Provision:
            record.type = `<font color=DC143C>provision</font>`;
            break;
          default:
            break;
        }
      }
      buff.push([
        record.uuid,
        // record.type,
        // record.since,
        // record.size,
        record.name
        // record.project,
        // record.domain,
      ]);
    }
    dv.table(cols, buff);
  },
  resourceBase(dv, data) {
    const cols = ["uuid"];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      buff.push([Renderer.makeLinkAlias(dv, f)]);
    }
    dv.table(cols, buff);
  },
  basicRelation(dv, data) {
    const cols = ["uuid", "name"];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      buff.push([Renderer.makeLinkAlias(dv, f), fm.name]);
    }
    dv.table(cols, buff);
  },
  praxisBase(dv, data) {
    const buff = [];
    const cols = ["tasks", "uuid", "estimate"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        dv.markdownTaskList(f.tasks),
        dv.fileLink(f.path, false, f.name.slice(0, 8)),
        fm.time_estimate
      ]);
    }
    dv.table(cols, buff);
  },
  waitingTask(dv, data) {
    const buff = [];
    const cols = ["tasks", "uuid", "estimate", "cause"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        dv.markdownTaskList(f.tasks),
        dv.fileLink(f.path, false, f.name.slice(0, 8)),
        fm.time_estimate,
        fm.cause
      ]);
    }
    dv.table(cols, buff);
  },
  readyTask(dv, data) {
    const buff = [];
    const cols = ["uuid", "task", "estimate", "area"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        Renderer.makeLinkAlias(dv, f, "Task"),
        dv.markdownTaskList(f.tasks),
        fm.time_estimate,
        Helper.getField(Helper.getArea(fm, true), "\\-")
      ]);
    }
    dv.table(cols, buff);
  },
  provisionBase(dv, data) {
    const buff = [];
    const cols = ["uuid", "supplier", "content", "estimate"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        fm.supplier,
        dv.markdownTaskList(f.tasks),
        fm.time_estimate
      ]);
    }
    dv.table(cols, buff);
  },
  basicTaskJournal(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate"];
    for (const d of data) {
      console.log(d);
      const f = d.file;
      const fm = f.frontmatter;
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      if (fm.ref_id === void 0) {
        buff.push([
          // journal.contains(fm.uuid) ? "->" : "\\-",
          dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
          dv.markdownTaskList(f.tasks),
          fm.time_estimate
        ]);
      } else {
        const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
        if (ref.length === 0) {
          throw new Error(
            `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
          );
        } else {
          buff.push([
            dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
            Renderer.makeLinkAlias(dv, ref[0].file),
            fm.time_estimate,
            domain
          ]);
        }
      }
    }
    dv.table(cols, buff);
  },
  activeTask(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "session"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const logs = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
      const last = logs[0];
      const createdAt = new Date(last.created_at);
      const now = new Date();
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        dv.markdownTaskList(f.tasks),
        ((t) => {
          return Math.round(t / (3600 * 1e3) * 10) / 10;
        })(now.getTime() - createdAt.getTime())
      ]);
    }
    dv.table(cols, buff);
  },
  basicTask(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate", "domain"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      if (fm.ref_id === void 0) {
        buff.push([
          dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
          dv.markdownTaskList(f.tasks),
          fm.time_estimate,
          domain
        ]);
      } else {
        const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
        if (ref.length === 0) {
          throw new Error(
            `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
          );
        } else {
          buff.push([
            dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
            Renderer.makeLinkAlias(dv, ref[0].file),
            fm.time_estimate,
            domain
          ]);
        }
      }
    }
    dv.table(cols, buff);
  },
  logs(dv, entries) {
    const buff = [];
    let totalTime = 0;
    for (const entry of entries) {
      const fme = entry.file.frontmatter;
      const e = [];
      let start = 0;
      let stop = 0;
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      if (fme.done_at === void 0) {
        stop = Date.now();
      } else {
        stop = new Date(fme.done_at);
      }
      totalTime += stop - start;
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      e.push(Math.round((stop - start) / (1e3 * 60 * 60) * 10) / 10);
      if (fme.reviewed === void 0 || fme.reviewed === 0) {
        e.push(0);
      } else {
        e.push(fme.reviewed);
      }
      buff.push(e);
    }
    if (buff.length > 0) {
      dv.header(2, "Logs");
      dv.table(["created_at", "uuid", "session", "reviewed"], buff);
      if (totalTime > 0) {
        dv.paragraph(
          `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
        );
      }
    }
  },
  mediaWithLogs(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate", "current", "domain"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
      if (ref.length === 0) {
        throw new Error(
          `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
        );
      }
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === Types.Log).sort((k) => k.created_at, "desc");
      let totalTime = 0;
      for (const entry of logEntries) {
        const fme = entry.file.frontmatter;
        const e = [];
        let start = 0;
        let stop = 0;
        if (fme === void 0 || fme.created_at === void 0) {
          throw new Error(`Invalid frontmatter: ${fme.uuid}`);
        }
        start = new Date(fme.created_at);
        e.push(start.toISOString().slice(0, 10));
        if (fme.done_at === void 0) {
          stop = Date.now();
        } else {
          stop = new Date(fme.done_at);
        }
        totalTime += stop - start;
      }
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        Renderer.makeLinkAlias(dv, ref[0].file),
        fm.time_estimate,
        `${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}h`,
        domain
      ]);
    }
    dv.table(cols, buff);
  },
  taskDoneWithLogs(dv, data) {
    const buff = [];
    const cols = [
      "taskId",
      "logId",
      "createdAt",
      "doneAt",
      "timeEstimate",
      "took",
      "project"
    ];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      const createdAt = new Date(fm.created_at);
      const doneAt = new Date(fm.done_at);
      const timeEstimate = "";
      const took = (doneAt - createdAt) / (1e3 * 3600);
      const pages = dv.pages(`"${Paths.Tasks}"`).where((page) => page.file.frontmatter.uuid === fm.parent_id);
      if (pages.length !== 1) {
        throw new Error();
      }
      const parent = pages[0];
      const parentFm = parent.file.frontmatter;
      const parentF = parent.file;
      buff.push([
        Renderer.makeLinkShortUUID(dv, parent.file, "Task"),
        Renderer.makeLinkShortUUID(dv, f),
        createdAt.toISOString().slice(0, 10),
        doneAt.toISOString().slice(0, 10),
        timeEstimate,
        ((t) => {
          return Math.round(t * 10) / 10;
        })(took),
        Helper.getProject(parentFm)
      ]);
    }
    dv.table(cols, buff);
  },
  basicDoneTaskWithLogs(dv, data) {
    const cols = [
      "uuid",
      "createdAt",
      "doneAt",
      "timeEstimate",
      "took",
      "delta",
      "project",
      "area"
    ];
    dv.table(cols, data);
  },
  basicDoneTaskWithoutLogs(dv, data) {
    const cols = ["taskId", "createdAt", "project", "area"];
    dv.table(cols, data);
  },
  basicProgressedTaskWithLog(dv, data) {
    const cols = [
      "taskId",
      "logId",
      // "createdAt",
      // "doneAt",
      "took",
      // "tookAcc",
      "project"
      // "domain",
    ];
    dv.table(cols, data);
  },
  // dailyTask(dv, data) {
  // 	Renderer.makeLinkShortUUID(this.dv, page.file),
  // 	dv.
  // 				rs.push([
  // 					"paragraph",
  // 					Renderer.makeLinkShortUUID(this.dv, page.file),
  // 				]);
  // }
  do(dv, rs) {
    for (const row of rs) {
      switch (row[0]) {
        case "header":
          const [, level, heading] = row;
          dv.header(level, heading);
          break;
        case "paragraph":
          const [, text] = row;
          dv.paragraph(text);
          break;
        case "array":
          const [, renderer, data] = row;
          renderer(dv, data);
          break;
        case "stats":
          const [, name, unit, value] = row;
          dv.paragraph(`${name} (${unit}): ${value}`);
          break;
        default:
          throw new Error(`Unsuported opcode: "fuckoff"`);
      }
    }
  }
};
var Frontmatter = class {
  constructor(gonext) {
    this.gonext = gonext;
  }
  projectParseMeta(dv) {
    const current = dv.current();
    const projectName = current.file.folder.slice(
      Paths.Projects.length + 1
    );
    const projectDir = current.file.folder;
    if (projectName.contains("/")) {
      throw new Error(
        `projectDir: ${projectDir} folder: ${current.file.folder}`
      );
    }
    const pages = dv.pages(`"${projectDir}/meta"`).array();
    if (pages.length !== 1) {
      throw new Error(`len: ${pages.length}`);
    }
    const fm = pages[0].file.frontmatter;
    const uuid = fm.uuid;
    if (Helper.nilCheck(uuid)) {
      throw new Error(`project 'uuid' is not defined`);
    }
    const name = fm.name;
    if (Helper.nilCheck(name)) {
      throw new Error(`'name' is not defined`);
    }
    const domains = fm.domains;
    if (!Array.isArray(domains)) {
      throw new Error(`'domains' must be of array type`);
    }
    return {
      uuid,
      name,
      domains
    };
  }
  getCreatedAt(f) {
    return Helper.nilCheck(f.frontmatter.created_at) ? new Date(f.ctime.ts) : new Date(f.frontmatter.created_at);
  }
  getCurrentFrontmatter() {
    const file = this.gonext.workspace.getActiveFile();
    const fileContent = this.gonext.metadataCache.getFileCache(file);
    if (fileContent === void 0) {
      return void 0;
    }
    const fm = fileContent.frontmatter;
    if (fm === void 0) {
      return void 0;
    }
    return fm;
  }
  parseListByNamespace(fm) {
    const byAreas = fm.by_areas === void 0 ? [] : fm.by_areas;
    const byContexts = fm.by_contexts === void 0 ? [] : fm.by_contexts;
    const byLayers = fm.by_layers === void 0 ? [] : fm.by_layers;
    const byOrgs = fm.by_orgs === void 0 ? [] : fm.by_orgs;
    const byProjects = fm.by_projects === void 0 ? [] : fm.by_projects;
    return [byAreas, byContexts, byLayers, byOrgs, byProjects];
  }
  parseListBeforeAfter(fm) {
    const before = Helper.getDate(fm.before);
    const after = Helper.getDate(fm.after);
    return [before, after];
  }
  parseListFilterBy(fm) {
    if (fm === void 0) {
      return [];
    }
    const filterBy = fm.filter_by;
    if (!Array.isArray(filterBy)) {
      return [];
    }
    return filterBy;
  }
  parseListGroupBy(fm) {
    if (fm === void 0) {
      return "";
    }
    const groupBy = fm.group_by;
    if (!(typeof groupBy === "undefined") && !(typeof groupBy === "string")) {
      return "";
    }
    return groupBy;
  }
  parseAllProgressedTasks() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const groupBy = this.parseListGroupBy(fm);
    const filterBy = this.parseListFilterBy(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    return [groupBy, filterBy, before, after];
  }
  parseAllDoneTasks() {
    return this.parseAllProgressedTasks();
  }
  parseAllDoneTaskWithoutLog() {
    return this.parseAllProgressedTasks();
  }
  parseAllTodoAdHoc() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const groupBy = this.parseListGroupBy(fm);
    const filterBy = this.parseListFilterBy(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    const minPriority = Helper.getField(fm.min_priority, 0);
    return [groupBy, filterBy, before, after, minPriority];
  }
  parseInbox() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], 0, 4294967295];
    }
    const source = Helper.nilCheck(fm.source) ? ["logs", "fleeting"] : fm.source;
    const groupBy = Helper.nilCheck(fm.group_by) ? "none" : fm.group_by;
    const filterBy = this.parseListFilterBy(fm);
    const minSize = Helper.nilCheck(fm.min_size) ? 0 : fm.min_size;
    const maxSize = Helper.nilCheck(fm.max_size) ? 4294967295 : fm.max_size;
    return [source, groupBy, filterBy, minSize, maxSize];
  }
  parseJournal() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], [], [], []];
    }
    const [byAreas, byContexts, byLayers, byOrgs, byProjects] = this.parseListByNamespace(fm);
    const tasks = Helper.getField(fm.tasks, []);
    return [byAreas, byContexts, byLayers, byOrgs, byProjects, tasks];
  }
  parseTodoList() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], [], [], [], 0];
    }
    const [byAreas, byContexts, byLayers, byOrgs, byProjects] = this.parseListByNamespace(fm);
    const minPriority = Helper.getField(fm.min_priority, 0);
    return [byAreas, byContexts, byLayers, byOrgs, byProjects, minPriority];
  }
  parseDoneList() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], [], [], [], [], []];
    }
    const [byAreas, byContexts, byLayers, byOrgs, byProjects] = this.parseListByNamespace(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    const fields = Helper.getField(fm.fields, []);
    const stats = Helper.getField(fm.stats, []);
    return [
      byAreas,
      byContexts,
      byLayers,
      byOrgs,
      byProjects,
      fields,
      stats,
      before,
      after
    ];
  }
};
var NoteHelper = class {
  constructor(gonext, dv, frontmatter) {
    this.gonext = gonext;
    this.dv = dv;
    this.frontmatter = frontmatter;
  }
  isDoable(task) {
    const fm = task.file.frontmatter;
    if (fm.status !== Status.Todo) {
      return false;
    }
    if (fm.after !== void 0) {
      const after = new Date(fm.after);
      if (Date.now() <= after.getTime()) {
        return false;
      }
    }
    const deps = fm.needs;
    if (deps === void 0 || deps.length === 0) {
      return true;
    }
    if (this.hasPendingDependencies(deps)) {
      return false;
    }
    return true;
  }
  hasPendingDependencies(deps) {
    for (const dep of deps) {
      const task = this.dv.pages(`"${Paths.Tasks}/${dep}"`).array();
      if (task.length === 0) {
        console.warn(
          `hasPendingDependencies: "${Paths.Tasks}/${dep}" task does not exists`
        );
        continue;
      }
      const fm = task[0].file.frontmatter;
      if (fm.type !== Types.Task && fm.type !== Types.Provision && fm.type !== Types.Praxis) {
        continue;
      }
      if (fm.status === Status.Todo) {
        return true;
      }
    }
    return false;
  }
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  }
  getNamespaceContent(ns) {
    const children = [];
    const pages = this.dv.pages(`#${ns}`);
    for (const p of pages) {
      const tags = p.file.frontmatter.tags;
      if (tags === void 0 || tags.length === 0) {
        continue;
      }
      for (const tag of tags) {
        if (this.isChildTag(ns, tag)) {
          const t = tag.slice(ns.length + 1);
          if (!children.contains(t)) {
            children.push(t);
          }
        }
      }
    }
    return children;
  }
  isLastRevision(page) {
    const revisionList = (dv, root, current) => {
      let head = current;
      while (true) {
        const pages = dv.pages(`"${root}"`).where(
          (page2) => page2.file.frontmatter.next === head.file.frontmatter.uuid
        );
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 0) {
          break;
        }
        head = pages[0];
      }
      const buff = [];
      let cur = head;
      while (true) {
        buff.push(cur);
        const fm2 = cur.file.frontmatter;
        if (fm2.next === void 0) {
          break;
        }
        const pages = dv.pages(`"${root}/${fm2.next}"`);
        if (pages.length === 0) {
          break;
        }
        cur = pages[0];
      }
      return buff;
    };
    const note = page;
    const fm = note.file.frontmatter;
    let revisions = [];
    switch (fm.type) {
      case Types.Permanent:
        revisions = revisionList(this.dv, Paths.Slipbox, note);
        break;
      case Types.Resource:
        revisions = revisionList(this.dv, Paths.Resources, note);
        break;
      default:
        throw new Error();
    }
    if (revisions.length <= 1) {
      return true;
    }
    return revisions[0].file.frontmatter.uuid === fm.uuid;
  }
};
var ListMaker = class {
  constructor(gonext, dv, frontmatter) {
    this.gonext = gonext;
    this.dv = dv;
    this.frontmatter = frontmatter;
    this.noteHelper = new NoteHelper(gonext, dv, frontmatter);
  }
  nameInNamespace(fm, ns) {
    let found = false;
    if (ns.length === 0) {
      return true;
    }
    for (const a of ns) {
      const root = a.split("/");
      Assert.True(root.length === 2, `Invalid tag: '${a}'`);
      const parent = root[0].slice(0, 1) === "!" ? root[0].slice(1) : root[0];
      const name = Helper.getTag(fm, parent);
      if (a.slice(0, 1) === "!") {
        if (name === a.slice(1)) {
          return false;
        } else {
          found = true;
        }
      } else {
        if (name === a) {
          found = true;
        } else {
          found = false;
        }
      }
    }
    return found;
  }
  myNameInNamespace(name, ns) {
    let found = false;
    if (ns.length === 0) {
      return true;
    }
    for (const a of ns) {
      if (a.slice(0, 1) === "!") {
        if (name === a.slice(1)) {
          return false;
        } else {
          found = true;
        }
      } else {
        if (name === a) {
          found = true;
        } else {
          found = false;
        }
      }
    }
    return found;
  }
  filterByNamespace(fm, byAreas, byContexts, byLayers, byOrgs, byProjects) {
    if (!this.myNameInNamespace(Helper.getArea(fm), byAreas)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getContext(fm), byContexts)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getLayer(fm), byLayers)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getOrg(fm), byOrgs)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getProject(fm), byProjects)) {
      return false;
    }
    return true;
  }
  filterByDate(dt, before, after) {
    if (before !== void 0 && dt.getTime() > before.getTime()) {
      return false;
    }
    if (after !== void 0 && dt.getTime() < after.getTime()) {
      return false;
    }
    return true;
  }
  projectResourceSheet() {
    const curFm = this.frontmatter.getCurrentFrontmatter();
    if (curFm === void 0) {
      return;
    }
    const components = curFm.components;
    const domains = curFm.domains;
    let noteTypes = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    if (!Helper.nilCheck(curFm.types) && curFm.types !== "*") {
      noteTypes = curFm.types;
    }
    const dropTasks = curFm.drop_status;
    const minMatchingComponent = components.length;
    const rs = {
      fleeting: [],
      literature: [],
      permanent: [],
      task: [],
      praxis: [],
      supply: [],
      log: [],
      resource: [],
      media: []
    };
    const Types2 = {
      0: "fleeting",
      1: "literature",
      2: "permanent",
      3: "task",
      4: "praxis",
      5: "supply",
      6: "log",
      7: "resource",
      8: "media"
    };
    const pages = this.dv.pages();
    for (const page of pages) {
      const fm = page.file.frontmatter;
      const tags = fm.tags;
      if (tags === void 0 || tags.length === 0) {
        continue;
      }
      const comp = [];
      for (const t of tags) {
        if (t.length > 10 && t.slice(0, 10) === "component/") {
          comp.push(t);
        }
      }
      if (comp.length < components.length) {
        continue;
      }
      let missing = 0;
      for (const component of components) {
        if (!comp.contains(component)) {
          missing += 1;
        }
      }
      if (components.length - missing < minMatchingComponent) {
        continue;
      }
      if (domains.length > 0) {
        let domain = "";
        for (const t of tags) {
          if (t.length > 7 && t.slice(0, 7) === "domain/") {
            domain = t;
            break;
          }
        }
        if (domain === "") {
          console.warn(
            `Missing domain for note: '${page.file.path}'`
          );
        }
        let found2 = false;
        for (const d of domains) {
          if (d === domain) {
            found2 = true;
          }
        }
        if (!found2) {
          continue;
        }
      }
      if (Types2[fm.type] === void 0) {
        console.warn(`Invalid type for note: '${page.file.path}'`);
        continue;
      }
      if (fm.type === 3 || fm.type === 4 || fm.type === 5) {
        let found2 = false;
        for (const status of dropTasks) {
          if (fm.status === status) {
            found2 = true;
            break;
          }
        }
        if (found2) {
          continue;
        }
      }
      let found = false;
      for (const t of noteTypes) {
        if (fm.type === t) {
          found = true;
          break;
        }
      }
      if (!found) {
        continue;
      }
      rs[Types2[fm.type]].push(page);
    }
    const resources = [];
    const types = Object.keys(rs);
    types.sort();
    for (const t of types) {
      if (rs[t].length === 0) {
        continue;
      }
      resources.push(["header", 2, t]);
      for (const note of rs[t]) {
        resources.push(["paragraph", this.dv.fileLink(note.file.path)]);
      }
    }
    return resources;
  }
  resourceLocatorGlobal() {
    const curFm = this.frontmatter.getCurrentFrontmatter();
    if (curFm === void 0) {
      return;
    }
    const components = [];
    if (Array.isArray(curFm.components)) {
      for (const component of curFm.components) {
        if (component.length > 10 && component.slice(0, 10) === "component/") {
          components.push(component);
        } else {
          components.push(`component/${component}`);
        }
      }
    }
    const domains = [];
    if (Array.isArray(curFm.domains)) {
      for (const domain of curFm.domains) {
        if (domain.length > 7 && domain.slice(0, 7) === "domain/") {
          domains.push(domain);
        } else {
          domains.push(`domain/${domain}`);
        }
      }
    }
    let minMatchingComponent = 0;
    if (components.length > 0) {
      if (Helper.nilCheck(curFm.min_matching_components)) {
        minMatchingComponent = components.length;
      } else {
        minMatchingComponent = curFm.min_matching_components;
      }
    }
    let noteTypes = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13];
    if (!Helper.nilCheck(curFm.types) && curFm.types !== "*") {
      noteTypes = curFm.types;
    }
    const dropTasks = Helper.nilCheck(curFm.drop_status) ? [] : curFm.drop_status;
    const groupBy = "type";
    const rs = {
      fleeting: [],
      literature: [],
      permanent: [],
      task: [],
      praxis: [],
      supply: [],
      log: [],
      resource: [],
      media: [],
      org: [],
      domain: [],
      component: [],
      project: []
    };
    const Types2 = {
      1: "literature",
      2: "permanent",
      3: "task",
      4: "praxis",
      5: "supply",
      6: "log",
      7: "resource",
      8: "media",
      9: "org",
      10: "domain",
      11: "component",
      12: "project",
      13: "fleeting"
    };
    const pages = this.dv.pages().where((page) => {
      if (page.file.frontmatter.type !== void 0 && noteTypes.contains(page.file.frontmatter.type)) {
        return true;
      }
      return false;
    });
    for (const page of pages) {
      const fm = page.file.frontmatter;
      const tags = fm.tags;
      if (tags === void 0 || tags.length === 0) {
        continue;
      }
      const comp = [];
      for (const t of tags) {
        if (t.length > 10 && t.slice(0, 10) === "component/") {
          comp.push(t);
        }
      }
      let missing = 0;
      for (const component of components) {
        if (!comp.contains(component)) {
          missing += 1;
        }
      }
      if (components.length - missing < minMatchingComponent) {
        continue;
      }
      if (domains.length > 0) {
        let domain = "";
        for (const t of tags) {
          if (t.length > 7 && t.slice(0, 7) === "domain/") {
            domain = t;
            break;
          }
        }
        if (domain === "") {
          console.warn(
            `Missing domain for note: '${page.file.path}'`
          );
        }
        let found2 = false;
        for (const d of domains) {
          if (d === domain) {
            found2 = true;
          }
        }
        if (!found2) {
          continue;
        }
      }
      if (Types2[fm.type] === void 0) {
        console.warn(`Invalid type for note: '${page.file.path}'`);
        continue;
      }
      if (fm.type === 3 || fm.type === 4 || fm.type === 5 || fm.type === 8) {
        let found2 = false;
        for (const status of dropTasks) {
          if (fm.status === status) {
            found2 = true;
            break;
          }
        }
        if (found2) {
          continue;
        }
      }
      let found = false;
      for (const t of noteTypes) {
        if (fm.type === t) {
          found = true;
          break;
        }
      }
      if (!found) {
        continue;
      }
      if (fm.type === 7 || fm.type === 2) {
        if (!this.noteHelper.isLastRevision(page)) {
          continue;
        }
      }
      rs[Types2[fm.type]].push(page);
    }
    const buff = [];
    const types = Object.keys(rs);
    types.sort();
    for (const t of types) {
      if (rs[t].length === 0) {
        continue;
      }
      rs[t].sort((a, b) => {
        const createdAtA = this.frontmatter.getCreatedAt(a.file);
        const createdAtB = this.frontmatter.getCreatedAt(b.file);
        return createdAtA.getTime() - createdAtB.getTime();
      });
      buff.push(["header", 2, t]);
      buff.push(["array", Renderer.resourceBase, rs[t]]);
    }
    return buff;
  }
  indexAreaDomainMap() {
    const domainMap = {};
    const areaMap = {};
    for (const n of this.dv.pages(`"700 Link/Domains"`).array()) {
      const fm = n.file.frontmatter;
      if (fm.name === void 0 || fm.name === null || fm.name === "") {
        throw new Error(`Missing field 'name' for: ${n.file.path}`);
      }
      if (fm.areas === void 0 || fm.areas === void 0 || fm.areas.length === 0) {
        throw new Error(`Invalid area note: ${n.file.path}`);
      }
      const domain = `domain/${fm.name}`;
      if (domainMap[domain] === void 0) {
        domainMap[domain] = [];
      }
      for (const area of fm.areas) {
        if (!domainMap[domain].contains(area)) {
          domainMap[domain].push(area);
        }
        if (areaMap[area] === void 0) {
          areaMap[area] = [domain];
        } else {
          areaMap[area].push(domain);
        }
      }
    }
    return [domainMap, areaMap];
  }
  indexCommon(path) {
    const bins = {};
    const [domainMap, areaMap] = this.indexAreaDomainMap();
    const notes = this.dv.pages(`"${path}"`).array();
    const rs = [];
    for (const n of notes) {
      const fm = n.file.frontmatter;
      if (fm.tags === void 0 || fm.tags.length === 0) {
        continue;
      }
      const domain = Helper.getDomain(fm);
      if (domain === "domain/none") {
        throw new Error(`Invalid Node: ${n.file.path}`);
      }
      const components = [];
      for (const t of fm.tags) {
        if (t.length > 10 && t.slice(0, 10) === "component/") {
          components.push(t);
        }
      }
      if (components.length === 0) {
        components.push("component/unknown");
      }
      const areas2 = domainMap[domain];
      if (areas2 === void 0) {
        throw new Error(
          `Programming error 'areas' is undefined for domain: '${domain}' note: '${n.file.path}'`
        );
      }
      for (const a of areas2) {
        if (bins[a] === void 0) {
          bins[a] = {};
        }
        for (const d of areaMap[a]) {
          if (bins[a][d] === void 0) {
            bins[a][d] = {};
          }
          if (d !== domain) {
            continue;
          }
          for (const c of components) {
            if (bins[a][d][c] === void 0) {
              bins[a][d][c] = [n];
            } else {
              bins[a][d][c].push(n);
            }
          }
        }
      }
    }
    const areas = Object.keys(bins);
    areas.sort();
    rs.push(["header", 1, "Content"]);
    for (const a of areas) {
      rs.push(["header", 2, a.slice(5)]);
      rs.push(["paragraph", `#${a}`]);
      for (const d of areaMap[a]) {
        rs.push(["header", 3, d.slice(7)]);
        rs.push(["paragraph", `#${d}`]);
        const components = Object.keys(bins[a][d]);
        components.sort();
        for (const c of components) {
          rs.push(["header", 4, c.slice(10)]);
          rs.push(["paragraph", `#${c}`]);
          const tasks = bins[a][d][c];
          for (const t of tasks) {
            rs.push(["paragraph", this.dv.fileLink(t.file.path)]);
          }
        }
      }
    }
    return rs;
  }
  indexResources() {
    return this.indexCommon(Paths.Resources);
  }
  indexContent() {
    return this.indexCommon(Paths.Refs);
  }
  indexKnowledge() {
    const curFm = this.frontmatter.getCurrentFrontmatter();
    if (curFm === void 0) {
      return;
    }
    const allComponents = [];
    if (Array.isArray(curFm.components)) {
      for (const component of curFm.components) {
        if (component.length > 10 && component.slice(0, 10) === "component/") {
          allComponents.push(component);
        } else {
          allComponents.push(`component/${component}`);
        }
      }
    }
    const allDomains = [];
    if (Array.isArray(curFm.domains)) {
      for (const domain of curFm.domains) {
        if (domain.length > 7 && domain.slice(0, 7) === "domain/") {
          allDomains.push(domain);
        } else {
          allDomains.push(`domain/${domain}`);
        }
      }
    }
    const bins = {};
    let groupBy = "domain";
    if (!Helper.nilCheck(curFm.group_by)) {
      groupBy = curFm.group_by;
    }
    const [domainMap, areaMap] = this.indexAreaDomainMap();
    const notes = this.dv.pages(`"${Paths.Slipbox}"`).array();
    const rs = [];
    for (const n of notes) {
      const fm = n.file.frontmatter;
      if (fm.tags === void 0 || fm.tags.length === 0) {
        continue;
      }
      const domain = Helper.getDomain(fm);
      if (domain === "domain/none") {
        throw new Error(`Invalid Node: ${n.file.path}`);
      }
      if (!allDomains.contains(domain)) {
        continue;
      }
      const components = [];
      let isContent = false;
      for (const t of fm.tags) {
        if (t.length > 8 && t.slice(0, 8) === "content/") {
          isContent = true;
          break;
        }
        if (t.length > 10 && t.slice(0, 10) === "component/") {
          components.push(t);
        }
      }
      if (isContent) {
        continue;
      }
      if (components.length === 0) {
        components.push("component/unknown");
      }
      if (bins[domain] === void 0) {
        bins[domain] = {};
      }
      for (const c of components) {
        if (bins[domain][c] === void 0) {
          bins[domain][c] = [];
        }
        bins[domain][c].push(n);
      }
    }
    rs.push(["header", 1, "Index"]);
    if (groupBy === "domain") {
      const domains = Object.keys(bins);
      domains.sort();
      for (const domain of domains) {
        if (domainMap[domain] === void 0) {
          rs.push(["header", 2, "Error"]);
          rs.push(["paragraph", `domain: ${domain} is not in map`]);
          rs.push(["paragraph", `#${domain}`]);
          break;
        }
        if (allDomains.length > 0 && !allDomains.contains(domain)) {
          continue;
        }
        rs.push(["header", 2, domain.slice(7)]);
        rs.push(["paragraph", `#${domain}`]);
        const componentsNamespace = Object.keys(bins[domain]);
        componentsNamespace.sort();
        const components = {};
        for (const componentNamespace of componentsNamespace) {
          let fragment = "";
          const s = componentNamespace.split("/");
          const component = s[1];
          if (s.length === 3) {
            fragment = s[2];
          }
          if (components[component] === void 0) {
            components[component] = [fragment];
          } else {
            components[component].push(fragment);
          }
        }
        const cmp = Object.keys(components);
        cmp.sort();
        for (const component of cmp) {
          const fragments = components[component];
          fragments.sort();
          if (allComponents.length > 0 && !allComponents.contains(`component/${component}`)) {
            continue;
          }
          rs.push(["header", 3, component]);
          rs.push(["paragraph", `#component/${component}`]);
          if (fragments.length > 1) {
            for (const fragment of fragments) {
              const key = `component/${component}${fragment === "" ? "" : "/" + fragment}`;
              rs.push(["paragraph", `#${key}`]);
              const tasks = bins[domain][key];
              if (tasks !== void 0) {
                rs.push([
                  "array",
                  Renderer.knowledgeFull,
                  tasks
                ]);
              }
            }
          } else {
            const key = `component/${component}`;
            const tasks = bins[domain][key];
            if (tasks !== void 0) {
              rs.push(["array", Renderer.knowledgeFull, tasks]);
            }
          }
        }
      }
    } else if (groupBy === "component") {
      const buff = {};
      for (const domain of Object.keys(bins)) {
        for (const componentNamespace of Object.keys(bins[domain])) {
          let fragment = "";
          const s = componentNamespace.split("/");
          const component = s[1];
          if (s.length === 3) {
            fragment = s[2];
          }
          if (buff[component] === void 0) {
            buff[component] = {};
          }
          if (buff[component][fragment] === void 0) {
            buff[component][fragment] = {};
          }
          if (buff[component][fragment][domain] === void 0) {
            buff[component][fragment][domain] = [
              ...bins[domain][componentNamespace]
            ];
          } else {
            for (const task of bins[domain][componentNamespace]) {
              buff[component][fragment][domain].push(task);
            }
          }
        }
      }
      const components = Object.keys(buff);
      components.sort();
      for (const component of components) {
        rs.push(["header", 2, component]);
        rs.push(["paragraph", `#component/${component}`]);
        const fragments = Object.keys(buff[component]);
        fragments.sort();
        for (const fragment of fragments) {
          if (fragment !== "") {
            rs.push([
              "paragraph",
              `#component/${component}/${fragment}`
            ]);
          }
          const domains = Object.keys(buff[component][fragment]);
          domains.sort();
          for (const domain of domains) {
            rs.push(["header", 3, domain.slice(7)]);
            rs.push(["paragraph", `#${domain}`]);
            const tasks = buff[component][fragment][domain];
            for (const task of tasks) {
              rs.push([
                "paragraph",
                this.dv.fileLink(task.file.path)
              ]);
            }
          }
        }
      }
    } else {
      const ontologyMap = {};
      const pages = {};
      const keys = Object.keys(bins);
      keys.sort();
      for (const domain of keys) {
        const keys2 = Object.keys(bins[domain]);
        keys2.sort();
        for (const component of keys2) {
          for (const task of bins[domain][component]) {
            if (task.file.frontmatter.uuid === void 0) {
              continue;
            } else if (pages[task.file.frontmatter.uuid] !== void 0) {
              continue;
            }
            pages[task.file.frontmatter.uuid] = task;
          }
        }
      }
      const keys3 = Object.keys(pages);
      keys3.sort();
      for (const uuid of keys3) {
        const page = pages[uuid];
        const fm = page.file.frontmatter;
        const domain = Helper.getDomain(fm);
        const components = [];
        for (const tag of fm.tags) {
          if (tag.length > 10 && tag.slice(0, 10) === "component/") {
            components.push(tag);
          }
        }
        let s = "";
        s += `${domain}
`;
        components.sort();
        for (const component of components) {
          s += `${component}
`;
        }
        const key = s;
        if (ontologyMap[key] === void 0) {
          ontologyMap[key] = [page];
        } else {
          ontologyMap[key].push(page);
        }
      }
      const keys4 = Object.keys(ontologyMap);
      keys4.sort((a, b) => ontologyMap[a].length - ontologyMap[b].length);
      for (const key of keys4.reverse()) {
        rs.push(["header", 2, key]);
        for (const page of ontologyMap[key]) {
          rs.push([
            "paragraph",
            Renderer.makeLinkShortUUID(this.dv, page.file)
          ]);
        }
      }
    }
    return rs;
  }
  getProjectTasks(project) {
    return this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = page.file.frontmatter;
      if (page.type !== Types.Task && page.type !== Types.Media) {
        return false;
      }
      if (Helper.getProject(fm) !== `${Namespace.Project}/${project === "adhoc" ? "none" : project}`) {
        return false;
      }
      if (fm.status === Status.Done) {
        return false;
      }
      return true;
    });
  }
  projectTasksSheetRelationFrontmatter(dv) {
    const current = dv.current();
    const fm = new FrontmatterJS(current);
    return {
      name: fm.getName(),
      uuid: fm.uuid
    };
  }
  contextTasksSheet(dv) {
    const minPriority = 0;
    const rs = [];
    const bins = {
      doable: [],
      waiting: [],
      journal: []
    };
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = page.file.frontmatter;
      if (page.type !== Types.Task && page.type !== Types.Media) {
        return false;
      }
      if (fm.status === Status.Done) {
        return false;
      }
      const fmjs = new FrontmatterJS(page);
      if (fmjs.getContext() !== `outside`) {
        return false;
      }
      return true;
    });
    for (const task of pages) {
      const fm = task.file.frontmatter;
      if (fm.priority !== void 0 && fm.priority < minPriority) {
        continue;
      }
      if (this.noteHelper.isDoable(task)) {
        bins.doable.push(task);
      } else if (fm.status === Status.Todo) {
        bins.waiting.push(task);
      } else {
        continue;
      }
    }
    if (bins.doable.length > 0) {
      rs.push(["header", 2, `Next Actions (${bins.doable.length})`]);
      bins.doable.sort(
        (a, b) => (a.file.frontmatter.priority - b.file.frontmatter.priority) * -1
      );
      rs.push(["array", Renderer.basicTaskJournal, bins.doable]);
    }
    if (bins.waiting.length > 0) {
      rs.push(["header", 2, `Waiting (${bins.waiting.length})`]);
      const buff = [];
      for (const task of bins.waiting) {
        const fm = task.file.frontmatter;
        fm.cause = "unknown";
        buff.push(task);
      }
      rs.push(["array", Renderer.waitingTask, buff]);
    }
    return rs;
  }
  projectTasksSheetRelation(dv) {
    const project = this.projectTasksSheetRelationFrontmatter(dv);
    const minPriority = 0;
    const rs = [];
    const bins = {
      nextAction: [],
      doable: [],
      waiting: [],
      journal: [],
      maybe: []
    };
    const tasks = this.getProjectTasks(project.name);
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm.priority !== void 0 && fm.priority < minPriority) {
        continue;
      }
      if (this.noteHelper.isDoable(task)) {
        if (fm.priority == 9) {
          bins.nextAction.push(task);
        } else if (fm.priority > 0) {
          bins.doable.push(task);
        } else {
          bins.maybe.push(task);
        }
      } else if (fm.status === Status.Todo) {
        bins.waiting.push(task);
      } else if (fm.status === Status.Doing) {
      } else {
        throw new Error(`${fm.uuid}`);
      }
    }
    {
      let toReview = 0;
      const logs = this.getProjectLogs(dv, project);
      for (const log of logs) {
        if (log.file.frontmatter.reviewed < 1) {
          toReview += 1;
        }
      }
    }
    if (bins.nextAction.length > 0) {
      rs.push(["header", 2, `Next Actions (${bins.doable.length})`]);
      bins.nextAction.sort(
        (a, b) => (a.file.frontmatter.priority - b.file.frontmatter.priority) * -1
      );
      rs.push(["array", Renderer.basicTaskJournal, bins.nextAction]);
    }
    if (bins.doable.length > 0) {
      rs.push(["header", 2, `Doable (${bins.doable.length})`]);
      bins.doable.sort(
        (a, b) => (a.file.frontmatter.priority - b.file.frontmatter.priority) * -1
      );
      rs.push(["array", Renderer.basicTaskJournal, bins.doable]);
    }
    if (bins.waiting.length > 0) {
      rs.push(["header", 2, `Waiting (${bins.waiting.length})`]);
      const buff = [];
      for (const task of bins.waiting) {
        const fm = task.file.frontmatter;
        if (fm.needs !== void 0 && fm.needs.length > 0) {
          fm.cause = fm.needs;
        } else if (fm.after !== void 0) {
          fm.cause = `after: ${fm.after}`;
        } else {
          fm.cause = "unknown";
        }
        buff.push(task);
      }
      rs.push(["array", Renderer.waitingTask, buff]);
    }
    if (bins.maybe.length > 0) {
      rs.push(["header", 2, `Maybe`]);
      bins.maybe.sort(
        (a, b) => (a.file.frontmatter.priority - b.file.frontmatter.priority) * -1
      );
      rs.push(["array", Renderer.readyTask, bins.maybe]);
    }
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = page.file.frontmatter;
      if (page.type !== Types.Praxis) {
        return false;
      }
      if (Helper.getProject(fm) !== `${Namespace.Project}/${project.name === "adhoc" ? "none" : project.name}`) {
        return false;
      }
      if (fm.status === Status.Done) {
        return false;
      }
      return true;
    }).array();
    if (pages.length > 0) {
      rs.push(["header", 3, "Praxis"]);
      rs.push(["array", Renderer.praxisBase, pages]);
    }
    return rs;
  }
  projectLogsSheetRelation(dv) {
    const project = this.projectTasksSheetRelationFrontmatter(dv);
    const filterBy = [];
    const rs = [];
    rs.push(["header", 2, "Logs"]);
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((page) => {
      if (page.type !== Types.Log) {
        return false;
      }
      if (page.file.frontmatter.reviewed > 0) {
        return false;
      }
      return true;
    });
    const buff = {};
    for (const e of logs) {
      const fm = e.file.frontmatter;
      if (filterBy.length > 0 && !this.nameInNamespace(fm, filterBy)) {
        continue;
      }
      fm.createdAt = this.frontmatter.getCreatedAt(e.file);
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (parent.length !== 1) {
        continue;
      }
      Assert.True(
        parent.length === 1,
        `Parent: ${fm.parent_id} not found for log: "${fm.uuid}"`
      );
      fm.project = Helper.getProject(parent[0].file.frontmatter);
      fm.area = Helper.getArea(parent[0].file.frontmatter, true);
      if (fm.project !== `project/${project.name === "adhoc" ? "none" : project.name}`) {
        continue;
      }
      if (Helper.nilCheck(fm.done_at)) {
        continue;
      }
      const date = fm.done_at.slice(0, 10);
      if (buff[date] === void 0) {
        buff[date] = [e];
      } else {
        buff[date].push(e);
      }
    }
    const keys = Object.keys(buff);
    keys.sort();
    for (const date of keys) {
      buff[date].sort(
        (a, b) => b.file.frontmatter.createdAt.getTime() - a.file.frontmatter.createdAt.getTime()
      );
    }
    for (const date of keys.reverse()) {
      rs.push(["header", 3, date]);
      rs.push(["array", Renderer.projectLogs, buff[date]]);
    }
    return rs;
  }
  projectTasksSheet(dv) {
    const project = this.frontmatter.projectParseMeta(dv);
    const fml = this.frontmatter.getCurrentFrontmatter();
    if (fml === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const minPriority = fml.min_priority === void 0 ? 0 : fml.min_priority;
    const journal = this.dv.pages(`"${Paths.Journal}"`).array()[0].file.frontmatter.tasks;
    const rs = [];
    rs.push(["header", 1, project.name]);
    const bins = {
      doable: [],
      waiting: [],
      journal: [],
      maybe: [],
      praxis: []
    };
    const tasks = this.getProjectTasks(project.name);
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm.priority !== void 0 && fm.priority < minPriority) {
        continue;
      }
      if (this.noteHelper.isDoable(task)) {
        bins.doable.push(task);
      } else if (fm.status === Status.Todo) {
        bins.waiting.push(task);
      } else {
        bins.maybe.push(task);
      }
    }
    {
      let toReview = 0;
      const logs = this.getProjectLogs(dv, project);
      for (const log of logs) {
        if (log.file.frontmatter.reviewed < 1) {
          toReview += 1;
        }
      }
      rs.push(["header", 2, `Pending Logs (${toReview})`]);
      if (toReview > 0) {
        rs.push([
          "paragraph",
          `[[${Paths.Projects}/${project.name === "adhoc" ? "ad hoc" : project.name}/logs]]`
        ]);
      }
    }
    if (bins.doable.length > 0) {
      rs.push(["header", 2, `Next Actions (${bins.doable.length})`]);
      bins.doable.sort(
        (a, b) => (a.file.frontmatter.priority - b.file.frontmatter.priority) * -1
      );
      rs.push(["array", Renderer.basicTaskJournal, bins.doable]);
    }
    if (bins.waiting.length > 0) {
      rs.push(["header", 2, `Waiting (${bins.waiting.length})`]);
      const buff = [];
      for (const task of bins.waiting) {
        const fm = task.file.frontmatter;
        if (fm.needs !== void 0 && fm.needs.length > 0) {
          fm.cause = fm.needs;
        } else if (fm.after !== void 0) {
          fm.cause = `after: ${fm.after}`;
        } else {
          fm.cause = "unknown";
        }
        buff.push(task);
      }
      rs.push(["array", Renderer.waitingTask, buff]);
    }
    if (bins.maybe.length > 0) {
      rs.push(["header", 2, `Maybe`]);
      bins.maybe.sort(
        (a, b) => (a.file.frontmatter.priority - b.file.frontmatter.priority) * -1
      );
      rs.push(["array", Renderer.readyTask, bins.maybe]);
    }
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = page.file.frontmatter;
      if (page.type !== Types.Praxis) {
        return false;
      }
      if (Helper.getProject(fm) !== `${Namespace.Project}/${project.name === "adhoc" ? "none" : project.name}`) {
        return false;
      }
      if (fm.status === Status.Done) {
        return false;
      }
      return true;
    }).array();
    if (pages.length > 0) {
      rs.push(["header", 3, "Praxis"]);
      rs.push(["array", Renderer.praxisBase, pages]);
    }
    return rs;
  }
  getProjectLogs(dv, project) {
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((page) => {
      if (page.type !== Types.Log) {
        return false;
      }
      return true;
    });
    const buff = [];
    for (const e of logs) {
      const fm = e.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (parent.length !== 1) {
        continue;
      }
      fm.project = Helper.getProject(parent[0].file.frontmatter);
      fm.area = Helper.getArea(parent[0].file.frontmatter, true);
      if (fm.project !== `project/${project.name === "adhoc" ? "none" : project.name}`) {
        continue;
      }
      if (Helper.nilCheck(fm.done_at)) {
        continue;
      }
      buff.push(e);
    }
    return buff;
  }
  projectLogsSheet(dv) {
    const project = this.frontmatter.projectParseMeta(dv);
    const fml = this.frontmatter.getCurrentFrontmatter();
    if (fml === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const before = Helper.nilCheck(fml.before) ? new Date(0) : new Date(fml.before);
    const after = Helper.nilCheck(fml.after) ? new Date() : new Date(fml.after);
    const filterBy = this.frontmatter.parseListFilterBy(fml);
    const rs = [];
    let totalTime = 0;
    rs.push(["header", 1, project.name]);
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((page) => {
      if (page.type !== Types.Log) {
        return false;
      }
      return true;
    });
    const buff = {};
    for (const e of logs) {
      const fm = e.file.frontmatter;
      if (filterBy.length > 0 && !this.nameInNamespace(fm, filterBy)) {
        continue;
      }
      fm.createdAt = this.frontmatter.getCreatedAt(e.file);
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (parent.length !== 1) {
        continue;
      }
      fm.project = Helper.getProject(parent[0].file.frontmatter);
      fm.area = Helper.getArea(parent[0].file.frontmatter, true);
      if (fm.project !== `project/${project.name === "adhoc" ? "none" : project.name}`) {
        continue;
      }
      if (Helper.nilCheck(fm.done_at)) {
        continue;
      }
      const date = fm.done_at.slice(0, 10);
      const createdAt = new Date(fm.created_at);
      const doneAt = new Date(fm.done_at);
      if (createdAt > before) {
        continue;
      }
      if (createdAt < after) {
        continue;
      }
      if (buff[date] === void 0) {
        buff[date] = [e];
      } else {
        buff[date].push(e);
      }
      const delta = doneAt.getTime() - createdAt.getTime();
      totalTime += delta;
    }
    dv.paragraph(
      `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
    );
    const keys = Object.keys(buff);
    keys.sort();
    for (const date of keys) {
      buff[date].sort(
        (a, b) => b.file.frontmatter.createdAt.getTime() - a.file.frontmatter.createdAt.getTime()
      );
    }
    for (const date of keys.reverse()) {
      rs.push(["header", 3, date]);
      rs.push(["array", Renderer.projectLogs, buff[date]]);
    }
    return rs;
  }
  allTodoProjects() {
    const [byAreas, byContexts, byLayers, byOrgs, byProjects, minPriority] = this.frontmatter.parseTodoList();
    const fml = this.frontmatter.getCurrentFrontmatter();
    if (fml === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const filterBy = fml.filter_by;
    let groupBy = fml.group_by;
    if (typeof groupBy === "undefined" || groupBy === "") {
      groupBy = "";
    } else if (typeof groupBy === "string") {
    } else {
      throw new Error(`Unsuported implementation groupBy: '${groupBy}'`);
    }
    const today = this.dv.pages(`"${Paths.Journal}"`)[0].file.frontmatter.tasks;
    const projects = this.noteHelper.getNamespaceContent(Namespace.Project);
    projects.sort();
    const rs = [];
    rs.push(["header", 1, "Projects"]);
    for (const project of projects) {
      const bins = [];
      if (project === "none") {
        continue;
      }
      const tasks = this.dv.pages(`#${Namespace.Project}/${project}`).where(
        (page) => page.type === Types.Task && page.status === Status.Todo
      );
      let elCount = 0;
      for (const task of tasks) {
        const fm = task.file.frontmatter;
        if (filterBy !== void 0 && filterBy !== null && filterBy.length > 0) {
          if (!this.nameInNamespace(fm, filterBy)) {
            continue;
          }
        }
        if (today.contains(fm.uuid)) {
          continue;
        }
        if (fm.priority !== void 0 && fm.priority < minPriority) {
          continue;
        }
        if (this.noteHelper.isDoable(task)) {
          let by = groupBy;
          if (groupBy !== "") {
            by = Helper.getTag(
              task.file.frontmatter,
              groupBy,
              true
            );
            if (by === void 0) {
              by = "";
            }
          }
          if (bins[by] === void 0) {
            bins[by] = [task];
          } else {
            bins[by].push(task);
          }
          elCount++;
        }
      }
      if (elCount === 0) {
        continue;
      }
      rs.push(["header", 2, project]);
      if (groupBy === "") {
        bins[""].sort(
          (a, b) => a.file.frontmatter.priority - b.file.frontmatter.priority
        );
        rs.push(["array", Renderer.readyTask, bins[""]]);
      } else {
        const keys = Object.keys(bins);
        keys.sort();
        for (const key of keys) {
          if (key !== Helper.getTag({ tags: [] }, groupBy)) {
            rs.push(["header", 3, key]);
          }
          bins[key].sort(
            (a, b) => a.file.frontmatter.priority - b.file.frontmatter.priority
          );
          rs.push(["array", Renderer.readyTask, bins[key]]);
        }
      }
    }
    return rs;
  }
  logs() {
    const [groupBy, filterBy, before, after] = this.frontmatter.parseAllProgressedTasks();
    const tasks = this.dv.pages(`"${Paths.Tasks}"`).where((page) => page.file.frontmatter.status !== "doing");
    const buff = [];
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (filterBy.length > 0 && !this.nameInNamespace(fm, filterBy)) {
        continue;
      }
      const timeEstimate = Helper.durationStringToSec(fm.time_estimate);
      if (timeEstimate === void 0 && fm.time_estimate !== void 0) {
        throw new Error(
          `Invalid value: "${fm.time_estimate}" for entry: "${fm.uuid}"`
        );
      } else {
        fm.timeEstimate = timeEstimate;
      }
      const logs = this.dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((page) => page.type === Types.Log).sort((k) => k.created_at, "asc");
      if (logs.length < 1) {
        continue;
      }
      fm.took = 0;
      const project = Helper.getField(Helper.getProject(fm, true), "");
      const area = Helper.getField(Helper.getArea(fm, true), "");
      for (const log of logs) {
        const fml = log.file.frontmatter;
        const entry = {
          alias: fm.alias,
          uuid: fm.uuid,
          logId: fml.uuid,
          estimate: fm.timeEstimate,
          project,
          area,
          domain: Helper.getField(Helper.getDomain(fm, true), ""),
          path: task.file.path,
          logPath: log.file.path,
          createdAt: void 0,
          doneAt: void 0,
          took: void 0,
          tookAcc: void 0,
          deltaAcc: void 0
        };
        if (fml.created_at === void 0) {
          console.log(log);
          throw new Error(
            `task: ${fm.uuid} last entry is missing 'created_at' field`
          );
        }
        if (fml.done_at === void 0) {
          console.log(log);
          throw new Error(
            `task: ${fm.uuid} last entry is missing 'done_at' field`
          );
        }
        entry.createdAt = new Date(fml.created_at);
        entry.doneAt = new Date(fml.done_at);
        if (!this.filterByDate(entry.doneAt, before, after)) {
          continue;
        }
        const took = (entry.doneAt.getTime() - entry.createdAt.getTime()) / 1e3;
        fm.took += took;
        entry.took = took;
        entry.tookAcc = fm.took;
        entry.deltaAcc = timeEstimate - fm.took;
        buff.push(entry);
      }
    }
    const keyGetter = Helper.getKey(groupBy);
    const bins = {};
    for (const entry of buff) {
      let d = void 0;
      try {
        d = keyGetter(entry);
      } catch (e) {
        throw new Error(entry);
      }
      if (bins[d] === void 0) {
        bins[d] = [entry];
      } else {
        bins[d].push(entry);
      }
    }
    const keys = Object.keys(bins);
    keys.sort();
    const rs = [];
    for (const key of keys.reverse()) {
      rs.push(["header", 2, key]);
      const arr = [];
      let totalTime = 0;
      for (const e of bins[key]) {
        const buff2 = [];
        buff2.push(
          Renderer.makeLinkShortUUID(
            this.dv,
            { path: e.path, frontmatter: { uuid: e.uuid } },
            "Task"
          )
        );
        buff2.push(
          Renderer.makeLinkShortUUID(
            this.dv,
            { path: e.logPath, frontmatter: { uuid: e.logId } },
            "Content"
          )
        );
        const convertSecondsToHours = (t) => {
          return Math.round(t / 3600 * 10) / 10;
        };
        buff2.push(`${convertSecondsToHours(e.took)}`);
        buff2.push(`${e.project}`);
        arr.push(buff2);
        totalTime += e.took;
      }
      totalTime = Math.round(totalTime / 3600 * 10) / 10;
      rs.push(["stats", "totalTime", "h", totalTime]);
      rs.push(["array", Renderer.basicProgressedTaskWithLog, arr]);
    }
    return rs;
  }
  inbox() {
    const rs = [];
    const buff = [];
    const filterBy = [];
    const minSize = 0;
    const maxSize = 4294967295;
    const fleetings = this.dv.pages(`"${Paths.Inbox}"`).array();
    for (const e of fleetings) {
      const fm = e.file.frontmatter;
      e.file.frontmatter.createdAt = this.frontmatter.getCreatedAt(
        e.file
      );
      const fmjs = new FrontmatterJS(e);
      fm.project = Helper.getProject(fm, true);
      fm.domain = `domain/${fmjs.getDomain()}`;
      fm.components = Helper.getComponents(fm);
      if (e.file.size < minSize) {
        continue;
      }
      if (e.file.size > maxSize) {
        continue;
      }
      buff.push(e);
    }
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((p) => {
      if (p.type !== Types.Log) {
        return false;
      }
      const f = p.file;
      const createdAt = this.frontmatter.getCreatedAt(f);
      const now = new Date();
      if (createdAt.getTime() + 864e5 - now.getTime() > 0) {
        return false;
      }
      if (p.reviewed !== void 0 && p.reviewed >= 1) {
        return false;
      }
      const pages = this.dv.pages(`"${Paths.Tasks}/${f.frontmatter.parent_id}"`).array();
      if (pages.length !== 1) {
        return false;
      }
      return true;
    });
    for (const e of logs) {
      const fm = e.file.frontmatter;
      fm.createdAt = this.frontmatter.getCreatedAt(e.file);
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      Assert.True(
        parent.length === 1,
        `Parent: ${fm.parent_id} not found for log: "${fm.uuid}"`
      );
      fm.project = Helper.getProject(parent[0].file.frontmatter, true);
      fm.domain = void 0;
      fm.components = [];
      if (e.file.size < minSize) {
        continue;
      }
      if (e.file.size > maxSize) {
        continue;
      }
      buff.push(e);
    }
    const sortBySizeThenDate = function(a, b) {
      const fA = a.file;
      const fB = b.file;
      if (fA.size !== fB.size) {
        return fB.size - fA.size;
      } else {
        return fA.frontmatter.createdAt.getTime() - fB.frontmatter.createdAt.getTime();
      }
    };
    const sortByAge = (a, b) => a.file.frontmatter.createdAt.getTime() - b.file.frontmatter.createdAt.getTime();
    buff.sort(sortByAge);
    const filterFunc = (page) => {
      const fm = page.file.frontmatter;
      return true;
      if (Helper.getProject(fm, true) !== void 0) {
        return false;
      }
      if (Helper.getDomain(fm, true) !== void 0) {
        return false;
      }
      return true;
    };
    rs.push(["array", Renderer.inboxEntry, buff.filter(filterFunc)]);
    return rs;
  }
  domains() {
    const pages = this.dv.pages(`"${Paths.Domains}"`).where((page) => {
      const fm = page.file.frontmatter;
      if (fm.name === void 0) {
        return false;
      }
      if (this.dv.pages(`#domain/${fm.name}`).array().length <= 0) {
        return false;
      }
      return true;
    }).sort((k) => k.name, "asc").array();
    const rs = [];
    const buff = [];
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      fm.resolve(this.dv);
      buff.push(fm);
    }
    rs.push(["array", Renderer.basicDomain, buff]);
    return rs;
  }
  components() {
    const pages = this.dv.pages(`"${Paths.Components}"`).sort((k) => k.name, "asc").array();
    const rs = [];
    const buff = [];
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      fm.resolve(this.dv);
      buff.push(fm);
    }
    rs.push(["array", Renderer.basicDomain, buff]);
    return rs;
  }
  names() {
    const pages = this.dv.pages(`"${Paths.Names}"`).sort((k) => k.name, "asc").array();
    const rs = [];
    const buff = [];
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      fm.resolve(this.dv);
      buff.push(fm);
    }
    rs.push(["array", Renderer.basicDomain, buff]);
    return rs;
  }
  projects() {
    let fml = this.frontmatter.getCurrentFrontmatter();
    if (fml === void 0) {
      fml = { inactive: [] };
    }
    const rs = [];
    const bins = {
      active: [],
      inactive: []
    };
    const pages = this.dv.pages(`"Projects"`).sort((k) => k.name, "asc");
    for (const project of pages) {
      const fmProject = new FrontmatterJS(project);
      if (fmProject.getName() === "adhoc") {
        bins.active.push(project);
        continue;
      }
      const tasks = this.dv.pages(`#project/${fmProject.getName()}`).where((page) => {
        if (page.file.folder !== `${Paths.Tasks}`) {
          return false;
        }
        const fmTask = new FrontmatterJS(page);
        if (fmTask.getProject() !== fmProject.getName()) {
          return false;
        }
        if (fmTask.fm.status === "todo" || fmTask.fm.status === "doing") {
          return true;
        }
        return false;
      });
      let nextActionCount = 0;
      for (const task of tasks) {
        if (task.file.frontmatter.priority === 9) {
          nextActionCount++;
        }
      }
      if (tasks.length === 0 || nextActionCount === 0 || fml.inactive.contains(fmProject.getName())) {
        bins.inactive.push(project);
      } else {
        bins.active.push(project);
      }
    }
    rs.push(["array", Renderer.basicRelation, bins.active]);
    rs.push(["header", 2, "Inactive"]);
    rs.push(["array", Renderer.basicRelation, bins.inactive]);
    return rs;
  }
  praxis() {
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      if (page.file.frontmatter.type !== Types.Praxis) {
        return false;
      }
      if (page.file.frontmatter.status !== Status.Todo) {
        return false;
      }
      return true;
    }).array();
    const rs = [];
    rs.push(["header", 1, "Praxis"]);
    rs.push(["array", Renderer.basicTask, pages]);
    return rs;
  }
  goals() {
    const fm = this.frontmatter.getCurrentFrontmatter();
    const filterBy = new FilterBy(fm);
    const rs = [];
    const pages = this.dv.pages(`"${Paths.Goals}"`).where((page) => {
      const fmp = page.file.frontmatter;
      if (fmp.status !== "todo") {
        return false;
      }
      return true;
    });
    const buff = [];
    for (const page of pages) {
      const p = new FrontmatterJS(page);
      if (filterBy.filter(page.file.frontmatter)) {
        continue;
      }
      buff.push(p);
    }
    buff.sort((a, b) => {
      const dta = new Date(a.fm.before);
      const dtb = new Date(b.fm.before);
      return dta.getTime() - dtb.getTime();
    });
    rs.push(["header", 1, "Goals"]);
    rs.push(["array", Renderer.goal, buff]);
    return rs;
  }
  library() {
    const rs = [];
    const domains = [];
    const refDomains = [];
    {
      const pages = this.dv.pages(`"${Paths.Domains}"`).sort((k) => k.name, "asc").array();
      for (const page of pages) {
        const fm = new FrontmatterJS(page);
        fm.resolve(this.dv);
        domains.push(fm.getName());
      }
    }
    {
      for (const domain of domains) {
        rs.push(["header", 2, `${domain}`]);
        const pages = this.dv.pages(`"802 Refs"`).where((page) => {
          const fm = new FrontmatterJS(page);
          const content = fm.getContent();
          if (content === "person" || content === "place") {
            return false;
          }
          if (!domains.contains(fm.getDomain(false))) {
            if (!refDomains.contains(fm.getDomain(false))) {
              refDomains.push(fm.getDomain(false));
            }
          }
          return fm.getDomain(false) === domain;
        });
        rs.push(["array", Renderer.knowledgeBase, pages]);
      }
      {
        if (refDomains.length === 0) {
          return rs;
        }
        rs.push(["header", 2, "undeclared domains"]);
        for (const domain of refDomains) {
          rs.push(["header", 3, domain]);
          const pages = this.dv.pages(`"802 Refs"`).where((page) => {
            const fm = new FrontmatterJS(page);
            const content = fm.getContent();
            if (content === "person" || content === "place") {
              return false;
            }
            return fm.getDomain(false) === domain;
          });
          rs.push(["array", Renderer.knowledgeBase, pages]);
        }
      }
    }
    return rs;
  }
  planning(lastWeek = 2) {
    const rs = [];
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.at === void 0) {
        return false;
      }
      if (fm.getProject() !== "daily") {
        return false;
      }
      return true;
    }).sort((page) => page.file.frontmatter.at, "desc");
    const bins = {};
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      let at = void 0;
      try {
        at = fm.at.toISOString().slice(0, 10);
      } catch (e) {
        throw new Error(`Invalid date: '${fm.fm.uuid}'`);
      }
      const weekNumber = this.getWeekNumber(fm.at);
      if (bins[weekNumber] === void 0) {
        bins[weekNumber] = [fm];
      } else {
        bins[weekNumber].push(fm);
      }
    }
    const now = new Date();
    const currentWeekNumber = this.getWeekNumber(now);
    for (const key of Object.keys(bins)) {
      const weekNumber = Number(key);
      if (weekNumber + lastWeek < currentWeekNumber) {
        continue;
      }
      if (weekNumber < currentWeekNumber) {
        rs.push(["header", 2, `~~week ${key}~~`]);
      } else if (weekNumber === currentWeekNumber) {
        rs.push(["header", 2, `*week ${key}*`]);
      } else {
        rs.push(["header", 2, `week ${key}`]);
      }
      bins[key].sort((a, b) => {
        return a.at.getTime() - b.at.getTime();
      });
      for (const task of bins[key]) {
        const day = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"][task.at.getDay()];
        const text = Renderer.makeLink(
          this.dv,
          task.f,
          `${task.at.toISOString().slice(0, 10)}, ${day}`,
          "daily"
        );
        if (weekNumber < currentWeekNumber) {
          rs.push(["paragraph", `~~${text}~~`]);
        } else if (weekNumber === currentWeekNumber) {
          if (this.dayOfYear(task.at) < this.dayOfYear(now)) {
            rs.push(["paragraph", `~~${text}~~`]);
          } else {
            rs.push(["paragraph", `${text}`]);
          }
        } else {
          rs.push(["paragraph", `${text}`]);
        }
      }
    }
    return rs;
  }
  dayOfYear(dt) {
    const year = dt.getFullYear();
    const month = dt.getMonth() + 1;
    const day = dt.getDate();
    const N1 = Math.floor(275 * month / 9);
    const N2 = Math.floor((month + 9) / 12);
    const N3 = 1 + Math.floor((year - 4 * Math.floor(year / 4) + 2) / 3);
    return N1 - N2 * N3 + day - 30;
  }
  getWeekNumber(d) {
    d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
    d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));
    const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
    return Math.ceil(((d - yearStart) / 864e5 + 1) / 7);
  }
};
var DvLib = class {
  constructor() {
    this.taskDir = "813 Tasks";
    this.inboxDir = "800 Inbox";
    this.refDir = "802 Refs";
    this.logDir = "600 Log";
    this.Task = {
      BASE: 3,
      DAILY: 4
    };
    this.Type = {
      TASK: 3,
      DAILY: 4,
      LOG: 6
    };
    this.Status = {
      TODO: "todo",
      DONE: "done",
      DOING: "doing",
      TRASH: "trash",
      MAYBE: "maybe",
      STANDBY: "standby"
    };
    this.Namespace = {
      AREA: "area",
      CONTEXT: "context",
      LAYER: "layer",
      ORG: "org",
      PROJECT: "project"
    };
    this.Default = {
      AREA: "none",
      CONTEXT: "any",
      LAYER: "none",
      ORG: "none",
      PROJECT: "none"
    };
    this._dv = "";
  }
  set dv(mod) {
    this._dv = mod;
  }
  get dv() {
    return this._dv;
  }
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  }
  stripTag(tag) {
    let t = "";
    if (tag.slice(-1) === "/") {
      t = tag.slice(0, -1);
    } else {
      t = tag;
    }
    if (t.slice(0, 1) === "#") {
      t = t.slice(1, t.length);
    }
    return t;
  }
  getTaskFromUUID(dv, uuid) {
    const n = dv.pages(`"${this.taskDir}/${uuid}"`);
    if (n.length === 0) {
      console.warn(`"${this.taskDir}/${uuid}" task does not exists`);
      return void 0;
    }
    return n[0];
  }
  hasValidFormat(task) {
    const fm = task.file.frontmatter;
    if (fm === void 0) {
      console.warn(
        `"${this.taskDir}/${task.uuid}" task does not have a frontmatter`
      );
      return false;
    }
    if (fm.type === void 0) {
      console.warn(
        `"${this.taskDir}/${task.uuid}" task does not have a \`type\` field`
      );
      return false;
    }
    if (fm.status === void 0) {
      console.warn(
        `"${this.taskDir}/${task.uuid}" task does not have a \`status\` field`
      );
      return false;
    }
    return true;
  }
  hasPendingDependencies(dv, deps) {
    for (const dep of deps) {
      const task = this.getTaskFromUUID(dv, dep);
      if (task === void 0) {
        continue;
      }
      if (!this.hasValidFormat(task)) {
        continue;
      }
      const fm = task.file.frontmatter;
      if (fm.type !== this.Task.BASE && fm.type !== this.Task.DAILY) {
        continue;
      }
      if (fm.status === this.Status.TODO) {
        return true;
      }
    }
    return false;
  }
  isDoable(dv, task) {
    const fm = task.file.frontmatter;
    if (fm.status !== this.Status.TODO) {
      return false;
    }
    if (fm.after !== void 0) {
      const after = new Date(fm.after);
      if (Date.now() <= after.getTime()) {
        return false;
      }
    }
    const deps = fm.needs;
    if (deps === void 0 || deps.length === 0) {
      return true;
    }
    if (this.hasPendingDependencies(dv, deps)) {
      return false;
    }
    return true;
  }
  getNamespaceContent(dv, ns) {
    const children = [];
    const resp = dv.pages(`#${ns}`);
    for (const f of resp) {
      const tags = f.tags;
      if (tags === void 0) {
        continue;
      }
      for (const tag of tags) {
        if (this.isChildTag(ns, tag)) {
          const t = tag.slice(ns.length + 1);
          if (!children.includes(t)) {
            children.push(t);
          }
        }
      }
    }
    return children;
  }
  isDone(dv, dep) {
    const task = this.getTaskFromUUID(dv, dep);
    if (task === void 0) {
      return false;
    }
    if (!this.hasValidFormat(task)) {
      return false;
    }
    const fm = task.file.frontmatter;
    if (fm.status === this.Status.DONE) {
      return true;
    }
    return false;
  }
  getTasks(dv, tag, taskType = [this.Task.BASE, this.Task.DAILY], status = this.Status.TODO) {
    const buff = [];
    const tasks = dv.pages(tag);
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm === void 0) {
        continue;
      }
      if (fm.status === void 0 || fm.status !== status) {
        continue;
      }
      if (fm.type === void 0 || !taskType.contains(fm.type)) {
        continue;
      }
      buff.push(task);
    }
    return buff;
  }
  formatTask(dv, task) {
    return dv.fileLink(task.file.path);
  }
  formatTaskBis(dv, task) {
    const f = task.file;
    let ctx = "";
    for (const tag of f.tags) {
      if (tag.slice(0, 9) == "#context/") {
        ctx = tag.slice(9);
      }
    }
    return [
      dv.fileLink(f.path),
      dv.markdownTaskList(f.tasks),
      f.frontmatter.time_estimate,
      ctx
    ];
  }
  formatTaskBase(dv, task) {
    const f = task.file;
    const fm = f.frontmatter;
    const tags = fm.tags;
    const area = this.getArea(tags);
    return [
      dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
      dv.markdownTaskList(f.tasks),
      fm.time_estimate,
      area
    ];
  }
  formatTaskWaiting(dv, task) {
    const f = task.file;
    const fm = f.frontmatter;
    const deps = [];
    if (fm.needs !== void 0) {
      for (const dep of fm.needs) {
        deps.push(dv.fileLink(`${this.taskDir}/${dep}`));
      }
    }
  }
  formatTaskMaybe(dv, task) {
    const f = task.file;
    const fm = f.frontmatter;
    const deps = [];
    return [dv.fileLink(f.path)];
  }
  makeAsyncRequest(dv, uuid) {
    return dv.query(`LIST WHERE needs AND contains(needs, "${uuid}")`).then((value) => {
      return value;
    });
  }
  getDependantTasks(dv, task) {
    const buff = [];
    const uuid = task.file.name;
    if (task.file.frontmatter === void 0) {
      return buff;
    }
    const tasks = dv.pages(`"${this.taskDir}"`).where((p) => p.needs !== void 0 && p.needs.contains(uuid));
    for (const tk of tasks) {
      const t = dv.pages(`"${tk.file.path}"`);
      buff.push(t[0]);
    }
    return buff;
  }
  byDependencyAndPriorityAndCreatedAt(dv, a, b) {
    const ftA = a.file.frontmatter;
    const ftB = b.file.frontmatter;
    const prioA = ftA.priority;
    const prioB = ftB.priority;
    const depsA = this.getDependantTasks(dv, a);
    const depsB = this.getDependantTasks(dv, b);
    if (depsA.length - depsB.length !== 0) {
      return depsA.length - depsB.length;
    }
    if (prioA - prioB !== 0) {
      return prioA - prioB;
    }
    const dateA = new Date(ftA.created_at);
    const dateB = new Date(ftB.created_at);
    return (dateA.getTime() - dateB.getTime()) * -1;
  }
  formatTaskPlanningWaiting(dv, task) {
    const f = task.file;
    return [
      // ajouter alias sur le link
      dv.markdownTaskList(f.tasks),
      dv.fileLink(f.path, false, f.name.slice(0, 8)),
      f.frontmatter.time_estimate,
      f.frontmatter.cause
    ];
  }
  renderBaseAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatTaskBase(dv, task));
    });
    dv.table(["uuid", "tasks", "estimate", "area"], arr);
  }
  renderPlanningWaiting(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatTaskPlanningWaiting(dv, task));
    });
    dv.table(["tasks", "uuid", "estimate", "cause"], arr);
  }
  renderMaybeAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach(({ ref, task }) => {
      if (task !== void 0) {
        arr.push(this.formatTaskMaybe(dv, task));
      }
    });
    dv.table(["uuid"], arr);
  }
  formatTaskDaily(dv, task) {
    const f = task.file;
    const fm = task.file.frontmatter;
    const tags = task.file.tags;
    const areas = [];
    for (const tag of tags) {
      if (tag.slice(0, 6) == "#area/") {
        areas.push(tag.slice(6));
      }
    }
    const links = [];
    for (const link of f.outlinks) {
      links.push(link);
    }
    const tasks = [];
    for (const t of f.tasks) {
      tasks.push(t);
    }
    return [
      dv.fileLink(f.path),
      links.length > 0 ? dv.markdownList(links) : dv.markdownTaskList(tasks),
      fm.time_allocated,
      areas.length > 0 ? dv.markdownList(areas) : ""
    ];
  }
  formatFleeting(dv, task) {
    const f = task.file;
    const fm = task.file.frontmatter;
    const tags = task.file.tags;
    const hours = 3600;
    const days = 86400;
    let dt = new Date();
    if (fm !== void 0 && fm.created_at !== void 0) {
      dt = new Date(fm.created_at);
    } else {
      dt = new Date(f.ctime.ts);
    }
    const now = new Date();
    const delta = (now.getTime() - dt.getTime()) / 1e3;
    let since = "";
    const toDt = (t) => {
      return String(Math.round(t * 10) / 10).padStart(2, "0");
    };
    if (delta >= days) {
      since = toDt(delta / days) + "d";
    } else {
      since = toDt(delta / hours) + "h";
    }
    if (fm.alias === void 0 || fm.alias === "") {
      return [dv.fileLink(`${f.path}`), since, f.size];
    } else {
      return [dv.fileLink(`${f.path}`, false, fm.alias), since, f.size];
    }
  }
  renderDailyAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatTaskDaily(dv, task));
    });
    dv.table(["uuid", "content", "duration", "area"], arr);
  }
  renderFleetingAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatFleeting(dv, task));
    });
    dv.table(["content", "age", "size"], arr);
  }
  autoFieldNeed(dv, fm) {
    if (fm.needs === void 0) {
      return;
    }
    const buff = [];
    for (const dep of fm.needs) {
      if (!this.isDone(dv, dep)) {
        buff.push(dv.fileLink(`${this.taskDir}/${dep}`));
      }
    }
    if (buff.length > 0) {
      dv.header(2, "Needs");
      dv.list(buff);
    }
  }
  autoFieldNeededBy(dv, current) {
    const tasks = this.getDependantTasks(dv, current);
    if (tasks.length === 0) {
      return;
    }
    const buff = [];
    for (const task of tasks) {
      if (!this.isDone(dv, task.uuid)) {
        buff.push(dv.fileLink(task.file.path));
      }
    }
    if (buff.length > 0) {
      dv.header(2, "NeededBy");
      dv.list(buff);
    }
  }
  autoFieldTags(dv, fm) {
    const tags = fm.tags;
    if (tags == void 0 || tags.length === 0) {
      return;
    }
    tags.sort();
    dv.header(2, "Tags");
    let s = "";
    for (const tag of tags) {
      s += ` #${tag}`;
    }
    dv.paragraph(s);
  }
  autoFieldTaskBase(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      console.warn("fm is required");
      return;
    }
    this.autoFieldNeed(dv, fm);
    this.autoFieldNeededBy(dv, current);
    this.autoFieldTags(dv, fm);
    const logEntries = dv.pages(`"${this.logDir}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
    const buff = [];
    let totalTime = 0;
    for (const entry of logEntries) {
      const fme = entry.file.frontmatter;
      const e = [];
      let start = 0;
      let stop = 0;
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      if (fme.done_at === void 0) {
        stop = Date.now();
      } else {
        stop = new Date(fme.done_at);
      }
      totalTime += stop - start;
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      e.push(Math.round((stop - start) / (1e3 * 60 * 60) * 10) / 10);
      if (fme.reviewed === void 0 || fme.reviewed === 0) {
        e.push(0);
      } else {
        e.push(fme.reviewed);
      }
      buff.push(e);
    }
    if (buff.length > 0) {
      dv.header(2, "Logs");
      dv.table(["created_at", "uuid", "session", "reviewed"], buff);
      if (totalTime > 0) {
        dv.paragraph(
          `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
        );
      }
    }
  }
  autoFieldLog(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    dv.header(2, "Parent");
    dv.paragraph(dv.fileLink(`${this.taskDir}/${fm.parent_id}`));
  }
  autoFieldAuthors(dv, fm) {
    const authors = fm.authors;
    if (authors === void 0 || authors.length === 0) {
      return;
    }
    dv.header(2, "Authors");
    dv.list(authors);
  }
  autoFieldTitle(dv, fm) {
    const title = fm.alias;
    if (title == void 0) {
      return;
    }
    dv.header(1, title);
  }
  autoFieldLiteratureNote(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    this.autoFieldTitle(dv, fm);
    this.autoFieldAuthors(dv, fm);
    this.autoFieldTags(dv, fm);
  }
  autoFieldPermanent(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    this.autoFieldTags(dv, fm);
  }
  autoFieldTask(dv) {
    return this.autoFieldTaskBase(dv);
  }
  autoFieldLiterature(dv) {
    return this.autoFieldLiteratureNote(dv);
  }
  autoFieldFleeting(dv) {
    return;
  }
  autoFieldSupply(dv) {
    return;
  }
  findTasksByProject(dv, name) {
    const buff = [];
    if (name !== "" && name !== "none") {
      const tasks = this.getTasks(dv, `${this.Namespace.PROJECT}/none`, [
        this.Task.BASE
      ]);
      for (const task of tasks) {
        const fm = task.file.frontmatter;
        if (this.isDoable(dv, task)) {
          buff.push(task);
        }
      }
    } else {
      const tasks = this.getTasks(dv, "", [this.Task.BASE]);
      for (const task of tasks) {
        const fm = task.file.frontmatter;
        const tags = fm.tags;
        if (fm.tags === void 0 && (name === "" || name === "none") || fm.tags.contains(`${this.Namespace.PROJECT}/none`)) {
          if (this.isDoable(dv, task)) {
            buff.push(task);
          }
        }
      }
    }
    buff.sort();
    return buff;
  }
  getTag(tags, type) {
    let name = "";
    let defaultValue = "";
    if (type === "area") {
      name = this.Namespace.AREA;
      defaultValue = this.Default.AREA;
    } else if (type === "context") {
      name = this.Namespace.CONTEXT;
      defaultValue = this.Default.CONTEXT;
    } else if (type === "layer") {
      name = this.Namespace.LAYER;
      defaultValue = this.Default.LAYER;
    } else if (type === "org") {
      name = this.Namespace.ORG;
      defaultValue = this.Default.ORG;
    } else if (type === "project") {
      name = this.Namespace.PROJECT;
      defaultValue = this.Default.PROJECT;
    } else {
      throw new Error(`getTag got unsuported type: ${type}`);
    }
    const len = name.length + 1;
    const defaultTag = `${name}/${defaultValue}`;
    if (tags === void 0) {
      return defaultTag;
    }
    for (const tag of tags) {
      if (tag.length > len && tag.slice(0, len) == `${name}/`) {
        return tag;
      }
    }
    return defaultTag;
  }
  getArea(tags) {
    return this.getTag(tags, "area");
  }
  getContext(tags) {
    return this.getTag(tags, "context");
  }
  getLayer(tags) {
    return this.getTag(tags, "layer");
  }
  getOrg(tags) {
    return this.getTag(tags, "org");
  }
  getProject(tags) {
    return this.getTag(tags, "project");
  }
  parseListFrontmatter(fm) {
    let minPriority = 0;
    if (fm.min_priority !== void 0) {
      minPriority = fm.min_priority;
    }
    let ignore = [];
    if (fm.ignore !== void 0) {
      ignore = fm.ignore;
    }
    let byAreas = [];
    if (fm.by_areas !== void 0) {
      byAreas = fm.by_areas;
    }
    let byProjects = [];
    if (fm.by_projects !== void 0) {
      byProjects = fm.by_projects;
    }
    return [minPriority, ignore, byAreas, byProjects];
  }
  renderNamespaceContent(dv) {
    const self = dv.current();
    const name = self.file.name.toLowerCase().slice(0, -1);
    dv.header(1, "Index");
    dv.header(2, `${self.file.name}`);
    const tags = this.getNamespaceContent(dv, name);
    tags.sort();
    for (const tag of tags) {
      dv.paragraph(`#${name}/${tag}`);
    }
  }
  renderUnprocessedLogs(dv) {
    const logs = dv.pages(`"${this.logDir}"`).where(
      (p) => p.type === this.Type.LOG && (p.reviewd === void 0 || p.reviewed < 1)
    ).sort((k) => k.created_at, "asc");
    const buff = [];
    for (const entry of logs) {
    }
    const arr = [];
    logs.forEach((entry) => {
      const fm = entry.file.frontmatter;
      if (fm === void 0) {
        return;
      }
      const parentId = fm.parent_id;
      if (parentId === void 0) {
        throw new Error(`Invalid log entry: ${entry.file.path}`);
      }
      const parent = dv.pages(`"${this.taskDir}/${parentId}"`);
      const parentFm = parent.file.frontmatter;
      if (parentFm === void 0) {
        throw new Error(`Invalid task: ${parent.file.path}`);
      }
      let project = this.getProject(parentFm.tags);
      if (project === `${this.Namespace.PROJECT}/${this.Default.PROJECT}`) {
        project = "";
      }
      let area = this.getArea(parentFm.tags);
      if (area === `${this.Namespace.AREA}/${this.Default.AREA}`) {
        area = "";
      }
      const formated = [];
      formated.push(
        dv.sectionLink(
          entry.file.path,
          "Content",
          false,
          `${fm.uuid.slice(0, 8)}`
        )
      );
      const createdAt = new Date(fm.created_at);
      formated.push(createdAt.toISOString().slice(0, 10));
      formated.push(project);
      formated.push(area);
      arr.push(formated);
    });
    dv.table(["uuid", "created_at", "project", "area"], arr);
  }
  assertTaskDoneAt(dv, taskId) {
    const task = dv.pages(`"${this.taskDir}/${taskId}"`);
    if (task.length === 0) {
      throw new Error(`task: ${taskId} doest not exists`);
    }
    const fm = task.file.frontmatter;
    if (fm === void 0) {
      throw new Error(`task: ${taskId} does not have a frontmatter`);
    }
    const logs = dv.pages(`"${this.logDir}/${taskId}"`).sort((k) => k.created_at, "asc");
    if (logs.length < 1) {
      throw new Error(`task: ${taskId} has no Logs`);
    }
    const lastEntry = logs[logs.length - 1];
    if (lastEntry.file.frontmatter.done_at === void 0) {
      throw new Error(
        `task: ${taskId} last entry is missing 'done_at' field`
      );
    }
    const doneAt = new Date(lastEntry.file.frontmatter.done_at);
    return [
      dv.sectionLink(
        task.file.path,
        "Content",
        false,
        `${task.file.frontmatter.uuid.slice(0, 8)}`
      ),
      `${doneAt.toISOString().slice(0, 10)}`
    ];
  }
  getDoneTimeline(dv) {
    const tasks = dv.pages(`"${this.taskDir}"`).where((p) => p.status === "done");
    const buff = [];
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm === void 0) {
        throw new Error(`task: ${fm.uuid} does not have a frontmatter`);
      }
      const logs = dv.pages(`"${this.logDir}/${fm.uuid}"`).sort((k) => k.created_at, "asc");
      if (logs.length < 1) {
        console.warn(`task: ${fm.uuid} has no Logs`);
      }
      const lastEntry = logs[logs.length - 1];
      if (lastEntry === void 0) {
        continue;
      }
      if (lastEntry.file.frontmatter.done_at === void 0) {
        throw new Error(
          `task: ${fm.uuid} last entry is missing 'done_at' field`
        );
      }
      fm.doneAt = new Date(lastEntry.file.frontmatter.done_at);
      buff.push(task);
    }
    buff.sort((a, b) => {
      const dateA = new Date(a.file.frontmatter.doneAt);
      const dateB = new Date(b.file.frontmatter.doneAt);
      return (dateA.getTime() - dateB.getTime()) * -1;
    });
    const arr = [];
    buff.forEach((e) => {
      arr.push([
        dv.sectionLink(
          e.file.path,
          "Content",
          false,
          `${e.file.frontmatter.uuid.slice(0, 8)}`
        ),
        `${e.file.frontmatter.doneAt.toISOString().slice(0, 16)}`
      ]);
    });
    dv.table(["uuid", "doneAt"], arr);
  }
  durationStringToSec(val) {
    const mult = val.slice(-1);
    let m = 0;
    if (mult === "h") {
      m = 60 * 60;
    } else if (mult === "m") {
      m = 60;
    } else if (mult === "d") {
      m = 24 * 60 * 60;
    } else {
      console.warn(`Unhandled case mult: ${mult}`);
    }
    return m * parseInt(val.slice(0, -1));
  }
  testDvFunc() {
    const dv = app.plugins.plugins.dataview.api;
    const tasks = dv.pages(`"${this.taskDir}"`).where((p) => p.status === "done");
    const buff = [];
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm === void 0) {
        throw new Error(`task: ${fm.uuid} does not have a frontmatter`);
      }
      const logs = dv.pages(`"${this.logDir}/${fm.uuid}"`).sort((k) => k.created_at, "asc");
      if (logs.length < 1) {
        console.warn(`task: ${fm.uuid} has no Logs`);
      }
      const lastEntry = logs[logs.length - 1];
      if (lastEntry === void 0) {
        continue;
      }
      if (lastEntry.file.frontmatter.done_at === void 0) {
        throw new Error(
          `task: ${fm.uuid} last entry is missing 'done_at' field`
        );
      }
      fm.doneAt = new Date(lastEntry.file.frontmatter.done_at);
      buff.push(task);
    }
    buff.sort((a, b) => {
      const dateA = new Date(a.file.frontmatter.doneAt);
      const dateB = new Date(b.file.frontmatter.doneAt);
      return (dateA.getTime() - dateB.getTime()) * -1;
    });
    const arr = [];
    buff.forEach((e) => {
      arr.push([
        dv.sectionLink(
          e.file.path,
          "Content",
          false,
          `${e.file.frontmatter.uuid.slice(0, 8)}`
        ),
        `${e.file.frontmatter.doneAt.toISOString().slice(0, 16)}`
      ]);
    });
  }
};

// main.ts
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
var MyPlugin = class extends import_obsidian.Plugin {
  printCoucou() {
    console.log("Couou, tu veux voir ma bite?");
  }
  // reviewLog() {
  // 	const fm = this.getCurrentFrontmatter();
  // 	if (fm === undefined) {
  // 		return;
  // 	}
  //
  // 	if (fm.type === undefined) {
  // 		// console.warn(`file: ${fm} does not have a valid schema`);
  // 		return;
  // 	}
  //
  // 	if (fm.type !== 6) {
  // 		// console.warn(`file: ${fm} is not of "log" type`);
  // 		return;
  // 	}
  //
  // 	const currentReviewed = fm.reviewed;
  // 	// obsidian plugin API, write file on disk, frontmatter changed
  // }
  async onload() {
    var _a, _b;
    console.log("gonext - onload()");
    await this.loadSettings();
    this.metadataCache = app.metadataCache;
    this.workspace = app.workspace;
    this.dv = app.plugins.plugins.dataview.api;
    this.frontmatter = new Frontmatter(this);
    this.listMaker = new ListMaker(this, this.dv, this.frontmatter);
    this.api = {
      getArea: Helper.getArea,
      getContext: Helper.getContext,
      getDomain: Helper.getDomain,
      getLayer: Helper.getLayer,
      getOrg: Helper.getOrg,
      getProject: Helper.getProject,
      durationStringToSec: Helper.durationStringToSec,
      paths: Paths,
      types: Types,
      status: Status,
      namespace: Namespace,
      default: Default,
      frontmatter: this.frontmatter,
      listMaker: this.listMaker,
      renderer: Renderer,
      autoField: AutoField,
      dvLib: new DvLib()
    };
    window.gonext = {
      // @ts-ignore
      state: (_b = (_a = window.gonext) == null ? void 0 : _a.state) != null ? _b : {},
      // @ts-ignore
      app: this.app
    };
    this.taskInStatusBar = this.addStatusBarItem();
    this.taskInStatusBar.setText("");
    this.app.workspace.on("active-leaf-change", () => {
      const leaf = app.workspace.activeLeaf;
      const tabTitleOrig = leaf.tabHeaderInnerTitleEl.innerText;
      if (tabTitleOrig.length !== 36) {
        return;
      }
      const fm = this.frontmatter.getCurrentFrontmatter();
      if (fm === void 0) {
        return void 0;
      }
      const alias = fm.alias;
      if (Helper.nilCheck(alias) || alias === "") {
        return;
      }
      leaf.tabHeaderInnerTitleEl.innerText = alias;
      leaf.tabHeaderInnerTitleEl.innerHTML = alias;
    });
    this.addCommand({
      id: "gonext-utils-copy-current-file-uuid",
      name: "Copy current file UUID",
      // @ts-ignore
      editorCallback: (editor, view) => {
        const fm = this.gonext.getCurrentFrontmatter();
        if (fm === void 0) {
          return;
        }
        if (fm.uuid == void 0) {
          return;
        }
      }
    });
    this.addCommand({
      id: "safe-delete",
      name: "Safe Delete",
      // @ts-ignore
      editorCallback: (editor, view) => {
        const file = app.workspace.getActiveFile();
        const fm = app.metadataCache.getFileCache(file).frontmatter;
        if (fm === void 0) {
          return;
        }
        const rootPath = [
          `${Paths.Journal}.md`,
          `${Paths.Inbox}.md`,
          "Ad Hoc.md",
          "allDoneTasks.md",
          "allDoneTasksWithoutLog.md",
          "allMedia.md",
          "allProgressedTasks.md",
          "noteLocator.md",
          "Praxis.md"
        ];
        for (const p of rootPath) {
          if (file.path === p) {
            return;
          }
        }
        if (
          // @ts-ignore
          file.path.split(0, Paths.Resources.length) === // @ts-ignore
          Paths.Resources
        ) {
          return;
        }
        console.log(`deleted file: ${file.path}`);
        app.vault.delete(file);
      }
    });
    this.addCommand({
      id: "display-modal",
      name: "Display modal",
      callback: () => {
        new ExampleModal(this.app).open();
      }
    });
    this.addCommand({
      id: "go-parent",
      name: "Go Parent",
      // @ts-ignore
      editorCallback: (editor, view) => {
        const file = app.workspace.getActiveFile();
        const fm = app.metadataCache.getFileCache(file).frontmatter;
        if (fm === void 0) {
          return;
        }
        if (fm.parent_id === void 0 && fm.ref_id === void 0) {
          console.warn(
            `parent_id: '${fm.parent_id}' ref_id: '${fm.ref_id}'`
          );
          return;
        }
        if (fm.type === void 0 || fm.type !== Types.Log && fm.type !== Types.Media && fm.type !== Types.Fleeting) {
          console.warn(
            `invalid type: '${fm.type}' for note: '${fm.uuid}'`
          );
          return;
        }
        const parent = fm.type === Types.Log ? `${Paths.Tasks}/${fm.parent_id}.md` : `${Paths.Refs}/${fm.ref_id}.md`;
        const page = app.vault.getAbstractFileByPath(parent);
        app.workspace.openLinkText(parent, "/", false);
      }
    });
  }
  onunload() {
    console.log("gonext - onunload()");
    delete window.gonext;
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var ExampleModal = class extends import_obsidian.Modal {
  constructor(app2) {
    super(app2);
  }
  onOpen() {
    const { contentEl } = this;
    const dv = this.app.plugins.plugins.dataview.api;
    const tasks = dv.pages().array().slice(0, 10);
    let s = "";
    for (const task of tasks) {
      s += `${task.file.path}

`;
    }
    contentEl.setText(s);
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjb25zdGFudHMudHMiLCAiYXBpLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvLyBAdHMtaWdub3JlXG5pbXBvcnQge1xuXHRBcHAsXG5cdE1vZGFsLFxuXHRQbHVnaW4sXG5cdFdvcmtzcGFjZSxcblx0Ly8gQHRzLWlnbm9yZVxuXHRIVE1MRWxlbWVudCxcblx0TWFya2Rvd25WaWV3LFxufSBmcm9tIFwib2JzaWRpYW5cIjtcbi8vIEB0cy1pZ25vcmVcbmltcG9ydCB7XG5cdEhlbHBlcixcblx0RnJvbnRtYXR0ZXIsXG5cdExpc3RNYWtlcixcblx0Ly8gQHRzLWlnbm9yZVxuXHROYW1lc3BhY2UsXG5cdC8vIEB0cy1pZ25vcmVcblx0UmVuZGVyZXIsXG5cdEF1dG9GaWVsZCxcblx0Ly8gQHRzLWlnbm9yZVxuXHREdkxpYixcbn0gZnJvbSBcIi4vYXBpXCI7XG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgeyBQYXRocywgU3RhdHVzLCBUeXBlcywgTmFtZXNwYWNlLCBEZWZhdWx0IH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8vIFJlbWVtYmVyIHRvIHJlbmFtZSB0aGVzZSBjbGFzc2VzIGFuZCBpbnRlcmZhY2VzIVxuaW50ZXJmYWNlIE15UGx1Z2luU2V0dGluZ3Mge1xuXHRteVNldHRpbmc6IHN0cmluZztcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTXlQbHVnaW5TZXR0aW5ncyA9IHtcblx0bXlTZXR0aW5nOiBcImRlZmF1bHRcIixcbn07XG5cbi8vIHJlcHJcdTAwRTlzZW50ZSBsYSB2dWUgYWN0dWVsbGUsIGwnb25nbGV0IGFjdGlmLCBsZSBmb2N1c1xuLy8gY29udGllbnQgdW5lIHJlZiBhdSBmcm9udG1hdHRlciBxdWkgZXN0IHByZXByb2Nlc3MsXG4vLyBpZSBjaGFtcHMgZm0ucHJvamVjdCwgZm0uYXJlYSwgLi4uIHNvbnQgcG9wdWxcdTAwRTlzXG5jbGFzcyBDdXJyZW50IHtcblx0Y29uc3RydWN0b3IoKSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNeVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBNeVBsdWdpblNldHRpbmdzO1xuXHR3b3Jrc3BhY2U6IFdvcmtzcGFjZTtcblx0bWV0YWRhdGFDYWNoZTogYW55O1xuXHRkdjogYW55O1xuXHQvLyBAdHMtaWdub3JlXG5cdHJlbmRlcjogUmVuZGVyO1xuXHRkZWJ1ZzogYm9vbGVhbjtcblx0dGFza0luU3RhdHVzQmFyOiBIVE1MRWxlbWVudDtcblx0YXBpOiBhbnk7XG5cdGxpc3RNYWtlcjogTGlzdE1ha2VyO1xuXHRmcm9udG1hdHRlcjogRnJvbnRtYXR0ZXI7XG5cblx0cHJpbnRDb3Vjb3UoKSB7XG5cdFx0Y29uc29sZS5sb2coXCJDb3VvdSwgdHUgdmV1eCB2b2lyIG1hIGJpdGU/XCIpO1xuXHR9XG5cblx0Ly8gcmV2aWV3TG9nKCkge1xuXHQvLyBcdGNvbnN0IGZtID0gdGhpcy5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0Ly8gXHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHQvLyBcdFx0cmV0dXJuO1xuXHQvLyBcdH1cblx0Ly9cblx0Ly8gXHRpZiAoZm0udHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdC8vIFx0XHQvLyBjb25zb2xlLndhcm4oYGZpbGU6ICR7Zm19IGRvZXMgbm90IGhhdmUgYSB2YWxpZCBzY2hlbWFgKTtcblx0Ly8gXHRcdHJldHVybjtcblx0Ly8gXHR9XG5cdC8vXG5cdC8vIFx0aWYgKGZtLnR5cGUgIT09IDYpIHtcblx0Ly8gXHRcdC8vIGNvbnNvbGUud2FybihgZmlsZTogJHtmbX0gaXMgbm90IG9mIFwibG9nXCIgdHlwZWApO1xuXHQvLyBcdFx0cmV0dXJuO1xuXHQvLyBcdH1cblx0Ly9cblx0Ly8gXHRjb25zdCBjdXJyZW50UmV2aWV3ZWQgPSBmbS5yZXZpZXdlZDtcblx0Ly8gXHQvLyBvYnNpZGlhbiBwbHVnaW4gQVBJLCB3cml0ZSBmaWxlIG9uIGRpc2ssIGZyb250bWF0dGVyIGNoYW5nZWRcblx0Ly8gfVxuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRjb25zb2xlLmxvZyhcImdvbmV4dCAtIG9ubG9hZCgpXCIpO1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cdFx0dGhpcy5tZXRhZGF0YUNhY2hlID0gYXBwLm1ldGFkYXRhQ2FjaGU7XG5cdFx0dGhpcy53b3Jrc3BhY2UgPSBhcHAud29ya3NwYWNlO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHR0aGlzLmR2ID0gYXBwLnBsdWdpbnMucGx1Z2lucy5kYXRhdmlldy5hcGk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHRoaXMuZnJvbnRtYXR0ZXIgPSBuZXcgRnJvbnRtYXR0ZXIodGhpcyk7XG5cdFx0dGhpcy5saXN0TWFrZXIgPSBuZXcgTGlzdE1ha2VyKHRoaXMsIHRoaXMuZHYsIHRoaXMuZnJvbnRtYXR0ZXIpO1xuXG5cdFx0dGhpcy5hcGkgPSB7XG5cdFx0XHRnZXRBcmVhOiBIZWxwZXIuZ2V0QXJlYSxcblx0XHRcdGdldENvbnRleHQ6IEhlbHBlci5nZXRDb250ZXh0LFxuXHRcdFx0Z2V0RG9tYWluOiBIZWxwZXIuZ2V0RG9tYWluLFxuXHRcdFx0Z2V0TGF5ZXI6IEhlbHBlci5nZXRMYXllcixcblx0XHRcdGdldE9yZzogSGVscGVyLmdldE9yZyxcblx0XHRcdGdldFByb2plY3Q6IEhlbHBlci5nZXRQcm9qZWN0LFxuXHRcdFx0ZHVyYXRpb25TdHJpbmdUb1NlYzogSGVscGVyLmR1cmF0aW9uU3RyaW5nVG9TZWMsXG5cdFx0XHRwYXRoczogUGF0aHMsXG5cdFx0XHR0eXBlczogVHlwZXMsXG5cdFx0XHRzdGF0dXM6IFN0YXR1cyxcblx0XHRcdG5hbWVzcGFjZTogTmFtZXNwYWNlLFxuXHRcdFx0ZGVmYXVsdDogRGVmYXVsdCxcblx0XHRcdGZyb250bWF0dGVyOiB0aGlzLmZyb250bWF0dGVyLFxuXHRcdFx0bGlzdE1ha2VyOiB0aGlzLmxpc3RNYWtlcixcblx0XHRcdHJlbmRlcmVyOiBSZW5kZXJlcixcblx0XHRcdGF1dG9GaWVsZDogQXV0b0ZpZWxkLFxuXHRcdFx0ZHZMaWI6IG5ldyBEdkxpYigpLFxuXHRcdH07XG5cblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0d2luZG93LmdvbmV4dCA9IHtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdHN0YXRlOiB3aW5kb3cuZ29uZXh0Py5zdGF0ZSA/PyB7fSxcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGFwcDogdGhpcy5hcHAsXG5cdFx0fTtcblxuXHRcdHRoaXMudGFza0luU3RhdHVzQmFyID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKCk7XG5cdFx0dGhpcy50YXNrSW5TdGF0dXNCYXIuc2V0VGV4dChcIlwiKTtcblxuXHRcdC8vIGNvbnNvbGUubG9nKHdpbmRvdy5hcHApO1xuXHRcdC8vIHRoaXMuc3RhdHVzQmFyID0gdGhpcy5hcHAuY3JlYXRlRGl2KCk7XG5cdFx0Ly8gdGhpcy5zdGF0dXNCYXIuaW5uZXJIVE1MID0gXCJcIjtcblx0XHQvLyB0aGlzLmFwcC5kb20uc3RhdHVzQmFyRWwuYXBwZW5kQ2hpbGQoZWwpO1xuXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwiYWN0aXZlLWxlYWYtY2hhbmdlXCIsICgpID0+IHtcblx0XHRcdC8vIGNvbnN0IGFjdGl2ZVRhc2tzID0gdGhpcy5kdlxuXHRcdFx0Ly8gXHQucGFnZXMoYFwiODEzIFRhc2tzXCJgKVxuXHRcdFx0Ly8gXHQud2hlcmUoKGZtKSA9PiBmbS5zdGF0dXMgPT09IFwiZG9pbmdcIik7XG5cdFx0XHQvLyB0aGlzLnRhc2tJblN0YXR1c0Jhci5zZXRUZXh0KGAke2FjdGl2ZVRhc2tzLmxlbmd0aH0gYWN0aXZlYCk7XG5cblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNvbnN0IGxlYWYgPSBhcHAud29ya3NwYWNlLmFjdGl2ZUxlYWY7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjb25zdCB0YWJUaXRsZU9yaWcgPSBsZWFmLnRhYkhlYWRlcklubmVyVGl0bGVFbC5pbm5lclRleHQ7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRpZiAodGFiVGl0bGVPcmlnLmxlbmd0aCAhPT0gMzYpIHtcblx0XHRcdFx0Ly8gY29uc29sZS53YXJuKFwiJ3RhYlRpdGxlT3JpZy5sZW5ndGgnICE9PSAzNlwiKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjb25zdCBmbSA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjb25zdCBhbGlhcyA9IGZtLmFsaWFzO1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0aWYgKEhlbHBlci5uaWxDaGVjayhhbGlhcykgfHwgYWxpYXMgPT09IFwiXCIpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRsZWFmLnRhYkhlYWRlcklubmVyVGl0bGVFbC5pbm5lclRleHQgPSBhbGlhcztcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGxlYWYudGFiSGVhZGVySW5uZXJUaXRsZUVsLmlubmVySFRNTCA9IGFsaWFzO1xuXG5cdFx0XHQvLyBhcHAud29ya3NwYWNlLmFjdGl2ZUxlYWYuY29udGFpbmVyRWwuY2hpbGRyZW4gLT4gaHRtbCwgZ29vZCBsdWNrIHBvdXIgcmV0cm91dmVyIGxhIGJvbm5lIGRpdlxuXHRcdFx0Ly8gdGhpcy5zdGF0dXNCYXJFbC5zZXRUZXh0KFwiY291Y291XCIpO1xuXHRcdFx0Ly8gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKCkuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogXCJIZWxsbyBmcm9tIHRoZSBzdGF0dXMgYmFyIFx1RDgzRFx1REM0QlwiIH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gVGhpcyBhZGRzIGFuIGVkaXRvciBjb21tYW5kIHRoYXQgY2FuIHBlcmZvcm0gc29tZSBvcGVyYXRpb24gb24gdGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcImdvbmV4dC11dGlscy1jb3B5LWN1cnJlbnQtZmlsZS11dWlkXCIsXG5cdFx0XHRuYW1lOiBcIkNvcHkgY3VycmVudCBmaWxlIFVVSURcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykgPT4ge1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGNvbnN0IGZtID0gdGhpcy5nb25leHQuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHQvLyBjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0Ly8gXHRcIkN1cnJlbnQgZmlsZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgYGZyb250bWF0dGVyYFwiLFxuXHRcdFx0XHRcdC8vICk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZtLnV1aWQgPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Ly8gY29uc29sZS53YXJuKFwiQ3VycmVudCBmaWxlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCBgVVVJRGBcIik7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gY29uc29sZS5sb2coXCJlZGl0b3IgY2FsbGJhY2sgZnVuY3Rpb25cIik7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGVkaXRvci5nZXRTZWxlY3Rpb24oKSk7XG5cdFx0XHRcdC8vIGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKCdTYW1wbGUgRWRpdG9yIENvbW1hbmQnKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcInNhZmUtZGVsZXRlXCIsXG5cdFx0XHRuYW1lOiBcIlNhZmUgRGVsZXRlXCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcblx0XHRcdFx0Y29uc3QgZmlsZSA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuXHRcdFx0XHRjb25zdCBmbSA9IGFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKS5mcm9udG1hdHRlcjtcblx0XHRcdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCByb290UGF0aCA9IFtcblx0XHRcdFx0XHRgJHtQYXRocy5Kb3VybmFsfS5tZGAsXG5cdFx0XHRcdFx0YCR7UGF0aHMuSW5ib3h9Lm1kYCxcblx0XHRcdFx0XHRcIkFkIEhvYy5tZFwiLFxuXHRcdFx0XHRcdFwiYWxsRG9uZVRhc2tzLm1kXCIsXG5cdFx0XHRcdFx0XCJhbGxEb25lVGFza3NXaXRob3V0TG9nLm1kXCIsXG5cdFx0XHRcdFx0XCJhbGxNZWRpYS5tZFwiLFxuXHRcdFx0XHRcdFwiYWxsUHJvZ3Jlc3NlZFRhc2tzLm1kXCIsXG5cdFx0XHRcdFx0XCJub3RlTG9jYXRvci5tZFwiLFxuXHRcdFx0XHRcdFwiUHJheGlzLm1kXCIsXG5cdFx0XHRcdF07XG5cdFx0XHRcdGZvciAoY29uc3QgcCBvZiByb290UGF0aCkge1xuXHRcdFx0XHRcdGlmIChmaWxlLnBhdGggPT09IHApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0ZmlsZS5wYXRoLnNwbGl0KDAsIFBhdGhzLlJlc291cmNlcy5sZW5ndGgpID09PVxuXHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRQYXRocy5SZXNvdXJjZXNcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc29sZS5sb2coYGRlbGV0ZWQgZmlsZTogJHtmaWxlLnBhdGh9YCk7XG5cdFx0XHRcdGFwcC52YXVsdC5kZWxldGUoZmlsZSk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcImRpc3BsYXktbW9kYWxcIixcblx0XHRcdG5hbWU6IFwiRGlzcGxheSBtb2RhbFwiLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0bmV3IEV4YW1wbGVNb2RhbCh0aGlzLmFwcCkub3BlbigpO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJnby1wYXJlbnRcIixcblx0XHRcdG5hbWU6IFwiR28gUGFyZW50XCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcblx0XHRcdFx0Y29uc3QgZmlsZSA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuXHRcdFx0XHRjb25zdCBmbSA9IGFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKS5mcm9udG1hdHRlcjtcblx0XHRcdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZm0ucGFyZW50X2lkID09PSB1bmRlZmluZWQgJiYgZm0ucmVmX2lkID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0XHRgcGFyZW50X2lkOiAnJHtmbS5wYXJlbnRfaWR9JyByZWZfaWQ6ICcke2ZtLnJlZl9pZH0nYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRmbS50eXBlID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0XHQoZm0udHlwZSAhPT0gVHlwZXMuTG9nICYmXG5cdFx0XHRcdFx0XHRmbS50eXBlICE9PSBUeXBlcy5NZWRpYSAmJlxuXHRcdFx0XHRcdFx0Zm0udHlwZSAhPT0gVHlwZXMuRmxlZXRpbmcpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0XHRcdGBpbnZhbGlkIHR5cGU6ICcke2ZtLnR5cGV9JyBmb3Igbm90ZTogJyR7Zm0udXVpZH0nYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGh0dHBzOi8vZG9jcy5vYnNpZGlhbi5tZC9SZWZlcmVuY2UvVHlwZVNjcmlwdCtBUEkvV29ya3NwYWNlL2NyZWF0ZUxlYWZJblBhcmVudFxuXHRcdFx0XHQvLyBhcHAud29ya3NwYWNlLmNyZWF0ZUxlYWZJblBhcmVudCgpO1xuXHRcdFx0XHQvLyBjb25zdCBsZWFmID0gYXBwLndvcmtzcGFjZS5nZXRMZWFmKHRydWUpO1xuXHRcdFx0XHQvLyBwYXJlbnQgaWRcblx0XHRcdFx0Y29uc3QgcGFyZW50ID1cblx0XHRcdFx0XHRmbS50eXBlID09PSBUeXBlcy5Mb2dcblx0XHRcdFx0XHRcdD8gYCR7UGF0aHMuVGFza3N9LyR7Zm0ucGFyZW50X2lkfS5tZGBcblx0XHRcdFx0XHRcdDogYCR7UGF0aHMuUmVmc30vJHtmbS5yZWZfaWR9Lm1kYDtcblx0XHRcdFx0Y29uc3QgcGFnZSA9IGFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGFyZW50KTtcblx0XHRcdFx0YXBwLndvcmtzcGFjZS5vcGVuTGlua1RleHQocGFyZW50LCBcIi9cIiwgZmFsc2UpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXHRcdGNvbnNvbGUubG9nKFwiZ29uZXh0IC0gb251bmxvYWQoKVwiKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0ZGVsZXRlIHdpbmRvdy5nb25leHQ7XG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oXG5cdFx0XHR7fSxcblx0XHRcdERFRkFVTFRfU0VUVElOR1MsXG5cdFx0XHRhd2FpdCB0aGlzLmxvYWREYXRhKCksXG5cdFx0KTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBFeGFtcGxlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3QgZHYgPSB0aGlzLmFwcC5wbHVnaW5zLnBsdWdpbnMuZGF0YXZpZXcuYXBpO1xuXHRcdGNvbnN0IHRhc2tzID0gZHYucGFnZXMoKS5hcnJheSgpLnNsaWNlKDAsIDEwKTtcblx0XHRsZXQgcyA9IFwiXCI7XG5cdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRzICs9IGAke3Rhc2suZmlsZS5wYXRofVxcblxcbmBcblxuXHRcdH1cblx0XHRjb250ZW50RWwuc2V0VGV4dChzKTtcblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cdH1cbn1cbiIsICJleHBvcnQgY29uc3QgUGF0aHMgPSB7XG5cdFRhc2tzOiBcIjgxMyBUYXNrc1wiLFxuXHRDb21wb25lbnRzOiBcIkNvbXBvbmVudHNcIixcblx0R29hbHM6IFwiR29hbHNcIixcblx0U2xpcGJveDogXCI4MDMgU2xpcGJveFwiLFxuXHRJbmJveDogXCI4MDAgSW5ib3hcIixcblx0UmVmczogXCI4MDIgUmVmc1wiLFxuXHRBcmNoaXZlczogXCI0MDAgQXJjaGl2ZXNcIixcblx0TG9nczogXCI2MDAgTG9nXCIsXG5cdEF0dGFjaG1lbnRzOiBcIjAwMCBBdHRhY2htZW50c1wiLFxuXHRKb3VybmFsOiBcIkpvdXJuYWxcIixcblx0UmVzb3VyY2VzOiBcIlJlc291cmNlc1wiLFxuXHRQcm9qZWN0czogXCIxMDAgUHJvamVjdHNcIixcblx0RG9tYWluczogXCJEb21haW5zXCIsXG5cdE5hbWVzOiBcIk5hbWVzXCIsXG59O1xuXG5leHBvcnQgY29uc3QgU3RhdHVzID0ge1xuXHRUb2RvOiBcInRvZG9cIiwgXG5cdERvaW5nOiBcImRvaW5nXCIsXG5cdERvbmU6IFwiZG9uZVwiLFxuXHRNYXliZTogXCJtYXliZVwiLFxuXHRTdGFuZGJ5OiBcInN0YW5kYnlcIixcblx0VHJhc2g6IFwidHJhc2hcIixcbn07XG5cbmV4cG9ydCBjb25zdCBUeXBlcyA9IHtcblx0RmxlZXRpbmc6IDEzLFxuXHRMaXRlcmF0dXJlOiAxLFxuXHRQZXJtYW5lbnQ6IDIsXG5cdFRhc2s6IDMsXG5cdFByYXhpczogNCxcblx0UHJvdmlzaW9uOiA1LFxuXHRMb2c6IDYsXG5cdFJlc291cmNlOiA3LFxuXHRNZWRpYTogOCxcblx0UHJvamVjdDogMTIsXG5cdE9yZzogOSxcblx0RG9tYWluOiAxMCxcblx0Q29tcG9uZW50OiAxMSxcbn07XG5cbmV4cG9ydCBjb25zdCBOYW1lc3BhY2UgPSB7XG5cdEFyZWE6IFwiYXJlYVwiLFxuXHRDb250ZXh0OiBcImNvbnRleHRcIixcblx0TGF5ZXI6IFwibGF5ZXJcIixcblx0T3JnOiBcIm9yZ1wiLFxuXHRQcm9qZWN0OiBcInByb2plY3RcIixcbn07XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0ID0ge1xuXHRBcmVhOiBcIm5vbmVcIixcblx0Q29udGV4dDogXCJhbnlcIixcblx0TGF5ZXI6IFwibm9uZVwiLFxuXHRPcmc6IFwibm9uZVwiLFxuXHRQcm9qZWN0OiBcIm5vbmVcIixcbn07XG4iLCAiaW1wb3J0IHsgYXNzZXJ0LCBncm91cCwgdGltZSB9IGZyb20gXCJjb25zb2xlXCI7XG5pbXBvcnQgeyB1bnppcCB9IGZyb20gXCJ6bGliXCI7XG5pbXBvcnQgeyBQYXRocywgU3RhdHVzLCBUeXBlcywgTmFtZXNwYWNlLCBEZWZhdWx0IH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbmNsYXNzIEZpbHRlckJ5IHtcblx0cHVibGljIGZtOiBhbnk7XG5cdHB1YmxpYyBwcmVkaWNhdGVzOiBzdHJpbmdbXTtcblx0cHVibGljIGNvbnRleHRzOiBzdHJpbmdbXTtcblxuXHRjb25zdHJ1Y3RvcihmbTogYW55KSB7XG5cdFx0dGhpcy5mbSA9IGZtO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aGlzLnByZWRpY2F0ZXMgPSBbXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5wcmVkaWNhdGVzID0gQXJyYXkuaXNBcnJheShmbS5maWx0ZXJfYnkpID8gZm0uZmlsdGVyX2J5IDogW107XG5cdFx0fVxuXHR9XG5cblx0bmFtZUluTmFtZXNwYWNlKGZtOiBhbnksIG5zOiBzdHJpbmdbXSkge1xuXHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdGlmIChucy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgYSBvZiBucykge1xuXHRcdFx0Y29uc3Qgcm9vdCA9IGEuc3BsaXQoXCIvXCIpO1xuXHRcdFx0QXNzZXJ0LlRydWUocm9vdC5sZW5ndGggPT09IDIsIGBJbnZhbGlkIHRhZzogJyR7YX0nYCk7XG5cdFx0XHRjb25zdCBwYXJlbnQgPVxuXHRcdFx0XHRyb290WzBdLnNsaWNlKDAsIDEpID09PSBcIiFcIiA/IHJvb3RbMF0uc2xpY2UoMSkgOiByb290WzBdO1xuXHRcdFx0Ly8gY29uc29sZS5sb2cocGFyZW50KVxuXHRcdFx0Y29uc3QgbmFtZSA9IEhlbHBlci5nZXRUYWcoZm0sIHBhcmVudCk7XG5cblx0XHRcdGlmIChhLnNsaWNlKDAsIDEpID09PSBcIiFcIikge1xuXHRcdFx0XHQvLyBuZWdhdGl2ZSBtYXRjaCwgZGlzY2FyZCBlbnRyeVxuXHRcdFx0XHRpZiAobmFtZSA9PT0gYS5zbGljZSgxKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHQvLyBubyBtYXRjaCwgcmVpbml0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBwb3NpdGl2ZSBtYXRjaCwga2VlcCBlbnRyeVxuXHRcdFx0XHRpZiAobmFtZSA9PT0gYSkge1xuXHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0XHQvLyBubyBtYXRjaCwgcmVpbml0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm91bmQgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmb3VuZDtcblx0fVxuXG5cdGZpbHRlcihmbTogYW55KSB7XG5cdFx0aWYgKHRoaXMucHJlZGljYXRlcy5sZW5ndGggPT0gMCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gIXRoaXMubmFtZUluTmFtZXNwYWNlKGZtLCB0aGlzLnByZWRpY2F0ZXMpO1xuXHR9XG59XG5cbmNsYXNzIEZyb250bWF0dGVySlMge1xuXHRwdWJsaWMgdXVpZDogc3RyaW5nO1xuXHRwdWJsaWMgdmVyc2lvbjogc3RyaW5nO1xuXHRwdWJsaWMgY3JlYXRlZEF0OiBEYXRlO1xuXHRwdWJsaWMgYXQ6IERhdGU7XG5cdHB1YmxpYyBiZWZvcmU6IERhdGU7XG5cdHB1YmxpYyBhZnRlcjogRGF0ZTtcblx0cHVibGljIGNvbXBvbmVudHM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgZG9tYWluczogc3RyaW5nW107XG5cdHB1YmxpYyBuYW1lczogc3RyaW5nW107XG5cdHB1YmxpYyBwcm9qZWN0czogc3RyaW5nW107XG5cdHB1YmxpYyBmbTtcblx0cHVibGljIGNvbnRlbnRzOiBzdHJpbmdbXTtcblx0cHVibGljIHRyYWl0czogc3RyaW5nW107XG5cdHB1YmxpYyBjb250ZXh0czogc3RyaW5nW107XG5cdHB1YmxpYyBzdGF0dXM6IHN0cmluZztcblx0cHVibGljIGY7XG5cblx0c2luZ3VsYXIodmFsdWVzOiBzdHJpbmdbXSwgZmllbGQ6IHN0cmluZykge1xuXHRcdGlmICghSGVscGVyLm5pbENoZWNrKHRoaXMuZm1bZmllbGRdKSkge1xuXHRcdFx0Y29uc3QgdmFsdWUgPSB0aGlzLmZtW2ZpZWxkXTtcblx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0aWYgKCF2YWx1ZXMuY29udGFpbnModmFsdWUpKSB7XG5cdFx0XHRcdFx0dmFsdWVzLnB1c2godmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0YCcke2ZpZWxkfScgaXMgaWdub3JlZCwgaW52YWxpZCBkYXRhLXR5cGU6ICcke3R5cGVvZiB0aGlzLmZtW2ZpZWxkXX0nYCxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwbHVyYWwodmFsdWVzOiBzdHJpbmdbXSwgZmllbGQ6IHN0cmluZykge1xuXHRcdGlmICghSGVscGVyLm5pbENoZWNrKHRoaXMuZm1bZmllbGRdKSkge1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm1bZmllbGRdKSkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0YCcke2ZpZWxkfScgaXMgaWdub3JlZCwgaW52YWxpZCBkYXRhLXR5cGU6ICcke2ZpZWxkfSdgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLmZtW2ZpZWxkXSkge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHRcdGlmICghdmFsdWVzLmNvbnRhaW5zKHZhbHVlKSkge1xuXHRcdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0XHRcdFx0YCcke3ZhbHVlfXMuJHt2YWx1ZX0nIGlzIGlnbm9yZWQsIGludmFsaWQgZGF0YS10eXBlOiAnJHt0eXBlb2YgdmFsdWV9J2AsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGNvbnN0cnVjdG9yKHBhZ2UpIHtcblx0XHRBc3NlcnQuVHJ1ZShwYWdlICE9PSB1bmRlZmluZWQsIFwiJ3BhZ2UnIGlzIHVuZGVmaW5lZFwiKTtcblx0XHR0aGlzLmYgPSBwYWdlLmZpbGU7XG5cdFx0Y29uc3QgZiA9IHRoaXMuZjtcblx0XHRBc3NlcnQuVHJ1ZShmICE9PSB1bmRlZmluZWQsIFwiJ2YnIGlzIHVuZGVmaW5lZFwiKTtcblx0XHR0aGlzLmZtID0gZi5mcm9udG1hdHRlcjtcblx0XHRBc3NlcnQuVHJ1ZSh0aGlzLmZtICE9PSB1bmRlZmluZWQsIFwiJ2ZtJyBpcyB1bmRlZmluZWRcIik7XG5cdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHR0aGlzLmZtLnV1aWQgIT09IHVuZGVmaW5lZCxcblx0XHRcdGAndXVpZCcgaXMgdW5kZWZpbmVkIGZvciAnJHt0aGlzLmYucGF0aH0nYCxcblx0XHQpO1xuXHRcdC8vIEFzc2VydC5UcnVlKHRoaXMuZm0udmVyc2lvbiAhPT0gdW5kZWZpbmVkLCBcIid2ZXJzaW9uJyBpcyB1bmRlZmluZWRcIik7XG5cdFx0Ly8gQXNzZXJ0LlRydWUoZm0uY3JlYXRlZF9hdCAhPT0gdW5kZWZpbmVkLCBcIidjcmVhdGVkX2F0JyBpcyB1bmRlZmluZWRcIik7XG5cblx0XHR0aGlzLnV1aWQgPSB0aGlzLmZtLnV1aWQ7XG5cdFx0dGhpcy52ZXJzaW9uID0gdGhpcy5mbS52ZXJzaW9uO1xuXHRcdHRoaXMuY3JlYXRlZEF0ID0gbmV3IERhdGUodGhpcy5mbS5jcmVhdGVkX2F0KTtcblx0XHR0aGlzLmF0ID0gdGhpcy5mbS5hdCAhPT0gdW5kZWZpbmVkID8gbmV3IERhdGUodGhpcy5mbS5hdCkgOiBuZXcgRGF0ZSgpO1xuXHRcdHRoaXMuYmVmb3JlID1cblx0XHRcdHRoaXMuZm0uYmVmb3JlICE9PSB1bmRlZmluZWRcblx0XHRcdFx0PyBuZXcgRGF0ZSh0aGlzLmZtLmJlZm9yZSlcblx0XHRcdFx0OiBuZXcgRGF0ZSgpO1xuXHRcdHRoaXMuYWZ0ZXIgPVxuXHRcdFx0dGhpcy5mbS5hZnRlciAhPT0gdW5kZWZpbmVkID8gbmV3IERhdGUodGhpcy5mbS5hZnRlcikgOiBuZXcgRGF0ZSgpO1xuXHRcdHRoaXMuY29tcG9uZW50cyA9IFtdO1xuXHRcdHRoaXMuZG9tYWlucyA9IFtdO1xuXHRcdHRoaXMucHJvamVjdHMgPSBbXTtcblx0XHR0aGlzLmNvbnRleHRzID0gW107XG5cdFx0dGhpcy50cmFpdHMgPSBbXTtcblxuXHRcdGNvbnN0IGRvbWFpbnMgPSBbXTtcblx0XHRjb25zdCBjb21wb25lbnRzID0gW107XG5cdFx0Y29uc3QgcHJvamVjdHMgPSBbXTtcblx0XHRjb25zdCBuYW1lcyA9IFtdO1xuXHRcdGNvbnN0IGNvbnRleHRzID0gW107XG5cdFx0Y29uc3QgY29udGVudHMgPSBbXTtcblx0XHRjb25zdCB0cmFpdHMgPSBbXTtcblxuXHRcdGlmICghSGVscGVyLm5pbENoZWNrKHRoaXMuZm0udGFncykpIHtcblx0XHRcdGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmZtLnRhZ3MpKSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihcIid0YWdzJyBpcyBpZ25vcmVkLCBpbnZhbGlkIGRhdGEtdHlwZVwiKTtcblx0XHRcdFx0dGhpcy5mbS50YWdzID0gW107XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoY29uc3QgdGFnIG9mIHRoaXMuZm0udGFncykge1xuXHRcdFx0XHRpZiAodGFnLnNsaWNlKDAsIDcpID09PSBcImRvbWFpbi9cIikge1xuXHRcdFx0XHRcdGRvbWFpbnMucHVzaCh0YWcuc2xpY2UoNykpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZy5zbGljZSgwLCAxMCkgPT09IFwiY29tcG9uZW50L1wiKSB7XG5cdFx0XHRcdFx0Y29tcG9uZW50cy5wdXNoKHRhZy5zbGljZSgxMCkpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZy5zbGljZSgwLCA4KSA9PT0gXCJwcm9qZWN0L1wiKSB7XG5cdFx0XHRcdFx0cHJvamVjdHMucHVzaCh0YWcuc2xpY2UoOCkpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZy5zbGljZSgwLCA1KSA9PT0gXCJuYW1lL1wiKSB7XG5cdFx0XHRcdFx0bmFtZXMucHVzaCh0YWcuc2xpY2UoNSkpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZy5zbGljZSgwLCA4KSA9PSBcImNvbnRleHQvXCIpIHtcblx0XHRcdFx0XHRjb250ZXh0cy5wdXNoKHRhZy5zbGljZSg4KSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnLnNsaWNlKDAsIDgpID09IFwiY29udGVudC9cIikge1xuXHRcdFx0XHRcdGNvbnRlbnRzLnB1c2godGFnLnNsaWNlKDgpKTtcblx0XHRcdFx0fSBlbHNlIGlmICh0YWcuc2xpY2UoMCwgNikgPT0gXCJ0cmFpdC9cIikge1xuXHRcdFx0XHRcdHRyYWl0cy5wdXNoKHRhZy5zbGljZSg2KSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLnNpbmd1bGFyKGRvbWFpbnMsIFwiZG9tYWluXCIpO1xuXHRcdHRoaXMucGx1cmFsKGRvbWFpbnMsIFwiZG9tYWluc1wiKTtcblx0XHR0aGlzLnNpbmd1bGFyKGNvbXBvbmVudHMsIFwiY29tcG9uZW50c1wiKTtcblx0XHR0aGlzLnBsdXJhbChjb21wb25lbnRzLCBcImNvbXBvbmVudHNcIik7XG5cdFx0dGhpcy5zaW5ndWxhcihwcm9qZWN0cywgXCJwcm9qZWN0XCIpO1xuXHRcdHRoaXMucGx1cmFsKHByb2plY3RzLCBcInByb2plY3RzXCIpO1xuXHRcdHRoaXMuc2luZ3VsYXIoY29udGVudHMsIFwiY29udGVudHNcIik7XG5cdFx0dGhpcy5wbHVyYWwoY29udGVudHMsIFwiY29udGVudHNcIik7XG5cdFx0dGhpcy5zaW5ndWxhcihuYW1lcywgXCJuYW1lXCIpO1xuXHRcdHRoaXMucGx1cmFsKG5hbWVzLCBcIm5hbWVzXCIpO1xuXHRcdHRoaXMucGx1cmFsKG5hbWVzLCBcImFsaWFzXCIpO1xuXHRcdHRoaXMuc2luZ3VsYXIodHJhaXRzLCBcInRyYWl0XCIpO1xuXHRcdHRoaXMucGx1cmFsKHRyYWl0cywgXCJ0cmFpdHNcIik7XG5cblx0XHR0aGlzLmRvbWFpbnMgPSBkb21haW5zO1xuXHRcdHRoaXMuY29tcG9uZW50cyA9IGNvbXBvbmVudHM7XG5cdFx0dGhpcy5wcm9qZWN0cyA9IHByb2plY3RzO1xuXHRcdHRoaXMubmFtZXMgPSBuYW1lcztcblx0XHR0aGlzLmNvbnRleHRzID0gY29udGV4dHM7XG5cdFx0dGhpcy5jb250ZW50cyA9IGNvbnRlbnRzO1xuXHRcdHRoaXMudHJhaXRzID0gdHJhaXRzO1xuXHR9XG5cblx0Z2V0RG9tYWluKGVtcHR5RGVmYXVsdCA9IHRydWUpOiBzdHJpbmcge1xuXHRcdGlmIChlbXB0eURlZmF1bHQpIHtcblx0XHRcdHJldHVybiB0aGlzLmRvbWFpbnNbMF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLmRvbWFpbnNbMF0gPT09IHVuZGVmaW5lZCA/IFwidW5rbm93blwiIDogdGhpcy5kb21haW5zWzBdO1xuXHRcdH1cblx0fVxuXG5cdGdldERvbWFpbnMoKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiB0aGlzLmRvbWFpbnM7XG5cdH1cblxuXHRnZXRUcmFpdHMoKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiB0aGlzLnRyYWl0cztcblx0fVxuXG5cdGdldENvbXBvbmVudHMoKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiB0aGlzLmNvbXBvbmVudHM7XG5cdH1cblxuXHRnZXRQcm9qZWN0KGVtcHR5RGVmYXVsdCA9IHRydWUpOiBzdHJpbmcge1xuXHRcdGlmIChlbXB0eURlZmF1bHQpIHtcblx0XHRcdHJldHVybiB0aGlzLnByb2plY3RzWzBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9qZWN0c1swXSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IHRoaXMucHJvamVjdHNbMF07XG5cdFx0fVxuXHR9XG5cblx0Z2V0UHJvamVjdHMoKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiB0aGlzLnByb2plY3RzO1xuXHR9XG5cblx0Z2V0TmFtZShlbXB0eURlZmF1bHQgPSB0cnVlKTogc3RyaW5nIHtcblx0XHRpZiAoZW1wdHlEZWZhdWx0KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5uYW1lc1swXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMubmFtZXNbMF0gPT09IHVuZGVmaW5lZCA/IFwiXCIgOiB0aGlzLm5hbWVzWzBdO1xuXHRcdH1cblx0fVxuXG5cdGdldENvbnRlbnQoZW1wdHlEZWZhdWx0ID0gdHJ1ZSk6IHN0cmluZyB7XG5cdFx0aWYgKGVtcHR5RGVmYXVsdCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY29udGVudHNbMF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLmNvbnRlbnRzWzBdID09PSB1bmRlZmluZWQgPyBcIlwiIDogdGhpcy5jb250ZW50c1swXTtcblx0XHR9XG5cdH1cblxuXHRnZXROYW1lcygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMubmFtZXM7XG5cdH1cblxuXHRnZXRDb250ZXh0KGVtcHR5RGVmYXVsdCA9IHRydWUpOiBzdHJpbmcge1xuXHRcdGlmIChlbXB0eURlZmF1bHQpIHtcblx0XHRcdHJldHVybiB0aGlzLmNvbnRleHRzWzBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jb250ZXh0c1swXSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IHRoaXMuY29udGV4dHNbMF07XG5cdFx0fVxuXHR9XG5cblx0cmVzb2x2ZShkdikge1xuXHRcdGNvbnN0IGRvbWFpbnMgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGRvbWFpbiBvZiB0aGlzLmRvbWFpbnMpIHtcblx0XHRcdGlmIChIZWxwZXIuaXNVVUlEKGRvbWFpbikpIHtcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkRvbWFpbnN9XCJgKVxuXHRcdFx0XHRcdC53aGVyZSgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLnV1aWQgPT09IGRvbWFpbik7XG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAocGFnZXMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRcdFx0Y29uc3QgcGFnZSA9IHBhZ2VzWzBdO1xuXHRcdFx0XHRcdGRvbWFpbnMucHVzaChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Eb21haW5zfVwiYClcblx0XHRcdFx0XHQud2hlcmUoKHBhZ2UpID0+IHBhZ2UuZmlsZS5mcm9udG1hdHRlci5uYW1lID09PSBkb21haW4pO1xuXHRcdFx0XHRpZiAocGFnZXMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcigpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IHBhZ2UgPSBwYWdlc1swXTtcblx0XHRcdFx0XHRkb21haW5zLnB1c2gocGFnZS5maWxlLmZyb250bWF0dGVyLm5hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChkb21haW5zLmxlbmd0aCAhPT0gdGhpcy5kb21haW5zLmxlbmd0aCkge1xuXHRcdFx0Y29uc29sZS53YXJuKGBEb21haW4gcmVzb2x1dGlvbiBmYWlsZWQgZm9yOiAke3RoaXMuZG9tYWluc31gKTtcblx0XHR9XG5cblx0XHR0aGlzLmRvbWFpbnMgPSBkb21haW5zO1xuXHR9XG59XG5cbmNsYXNzIFZhbGlkYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcblx0Y29uc3RydWN0b3IobWVzc2FnZSkge1xuXHRcdHN1cGVyKG1lc3NhZ2UpOyAvLyAoMSlcblx0XHR0aGlzLm5hbWUgPSBcIlZhbGlkYXRpb25FcnJvclwiOyAvLyAoMilcblx0fVxufVxuXG5leHBvcnQgY29uc3QgQXNzZXJ0ID0ge1xuXHRUcnVlKHByZWRpY2F0ZTogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nKSB7XG5cdFx0aWYgKCFwcmVkaWNhdGUpIHtcblx0XHRcdHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IobWVzc2FnZSk7XG5cdFx0fVxuXHR9LFxufTtcblxuZXhwb3J0IGNvbnN0IEhlbHBlciA9IHtcblx0bmlsQ2hlY2sodmFsOiBhbnkpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdmFsID09PSB1bmRlZmluZWQgfHwgdmFsID09PSBudWxsO1xuXHR9LFxuXG5cdGdldEtleUZ1Y2soZ3JvdXBCeSkge1xuXHRcdHN3aXRjaCAoZ3JvdXBCeSkge1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdGNhc2UgXCJkb25lQXRcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT5cblx0XHRcdFx0XHRlbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiY3JlYXRlZEF0XCI6XG5cdFx0XHRcdHJldHVybiAoZW50cnkpID0+XG5cdFx0XHRcdFx0ZW50cnkuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInByb2plY3RcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT4gZW50cnkuZmlsZS5mcm9udG1hdHRlci5wcm9qZWN0O1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJhcmVhXCI6XG5cdFx0XHRcdHJldHVybiAoZW50cnkpID0+IGVudHJ5LmZpbGUuZnJvbnRtYXR0ZXIuYXJlYTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9LFxuXG5cdGdldEtleShncm91cEJ5KSB7XG5cdFx0c3dpdGNoIChncm91cEJ5KSB7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0Y2FzZSBcImRvbmVBdFwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5kb25lQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImNyZWF0ZWRBdFwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInByb2plY3RcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT4gZW50cnkucHJvamVjdDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiYXJlYVwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5hcmVhO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH0sXG5cblx0bnVtYmVyVHlwZVRvU3RyaW5nKHZhbCk6IHN0cmluZyB7XG5cdFx0c3dpdGNoICh2YWwudHlwZSkge1xuXHRcdFx0Y2FzZSBUeXBlcy5GbGVldGluZzpcblx0XHRcdFx0cmV0dXJuIFwiZmxlZXRpbmdcIjtcblx0XHRcdGNhc2UgVHlwZXMuTG9nOlxuXHRcdFx0XHRyZXR1cm4gXCJsb2dcIjtcblx0XHRcdGNhc2UgVHlwZXMuUHJvamVjdDpcblx0XHRcdFx0cmV0dXJuIFwicHJvamVjdFwiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Pcmc6XG5cdFx0XHRcdHJldHVybiBcIm9yZ1wiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Eb21haW46XG5cdFx0XHRcdHJldHVybiBcImRvbWFpblwiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Db21wb25lbnQ6XG5cdFx0XHRcdHJldHVybiBcImNvbXBvbmVudFwiO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGBudW1iZXJUeXBlVG9TdHJpbmc6IHR5cGU6IFwiJHt2YWwudHlwZX1cIiBub3QgaW1wbGVtZW50ZWQgXCIke3ZhbC51dWlkfVwiYCxcblx0XHRcdFx0KTtcblx0XHR9XG5cdH0sXG5cblx0cm91bmRUb09uZURlY2ltYWwodmFsOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdHJldHVybiBNYXRoLnJvdW5kKHZhbCAqIDEwKSAvIDEwO1xuXHR9LFxuXG5cdGlzQ2hpbGRUYWcocGFyZW50LCBjaGlsZCkge1xuXHRcdGlmIChjaGlsZC5sZW5ndGggPD0gcGFyZW50Lmxlbmd0aCArIDEpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IGVsc2UgaWYgKGNoaWxkLnNsaWNlKDAsIHBhcmVudC5sZW5ndGggKyAxKSAhPSBgJHtwYXJlbnR9L2ApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Z2V0RmllbGQoZmllbGQsIGRlZmF1bHRWYWx1ZSkge1xuXHRcdGlmIChmaWVsZCA9PT0gdW5kZWZpbmVkIHx8IGZpZWxkID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gZmllbGQ7XG5cdFx0fVxuXHR9LFxuXG5cdGdldERhdGUoZHQpIHtcblx0XHRpZiAoZHQgPT09IFwiXCIgfHwgZHQgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSBlbHNlIGlmIChkdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRkdCA9IG5ldyBEYXRlKGR0KTtcblx0XHRcdGlmIChpc05hTihkdCkpIHtcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBkdDtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH0sXG5cblx0Z2V0VGFnKGZtLCB0eXBlLCBlbXB0eURlZmF1bHQgPSB1bmRlZmluZWQpIHtcblx0XHRsZXQgbmFtZSA9IFwiXCI7XG5cdFx0bGV0IGRlZmF1bHRWYWx1ZSA9IFwiXCI7XG5cblx0XHRpZiAodHlwZSA9PT0gXCJhcmVhXCIpIHtcblx0XHRcdG5hbWUgPSBOYW1lc3BhY2UuQXJlYTtcblx0XHRcdGRlZmF1bHRWYWx1ZSA9IERlZmF1bHQuQXJlYTtcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwiY29udGV4dFwiKSB7XG5cdFx0XHRuYW1lID0gTmFtZXNwYWNlLkNvbnRleHQ7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LkNvbnRleHQ7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSBcImxheWVyXCIpIHtcblx0XHRcdG5hbWUgPSBOYW1lc3BhY2UuTGF5ZXI7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LkxheWVyO1xuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gXCJvcmdcIikge1xuXHRcdFx0bmFtZSA9IE5hbWVzcGFjZS5Pcmc7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0Lk9yZztcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwicHJvamVjdFwiKSB7XG5cdFx0XHRuYW1lID0gTmFtZXNwYWNlLlByb2plY3Q7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LlByb2plY3Q7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09IFwiZG9tYWluXCIpIHtcblx0XHRcdG5hbWUgPSBcImRvbWFpblwiO1xuXHRcdFx0ZGVmYXVsdFZhbHVlID0gXCJub25lXCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgZ2V0VGFnIGdvdCB1bnN1cG9ydGVkIHR5cGU6ICcke3R5cGV9J2ApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxlbiA9IG5hbWUubGVuZ3RoICsgMTtcblx0XHRjb25zdCBkZWZhdWx0VGFnID0gYCR7bmFtZX0vJHtkZWZhdWx0VmFsdWV9YDtcblxuXHRcdGxldCBkZWZhdWx0UmV0VmFsID0gZGVmYXVsdFRhZztcblx0XHRpZiAoZW1wdHlEZWZhdWx0KSB7XG5cdFx0XHRkZWZhdWx0UmV0VmFsID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHR9XG5cblx0XHRjb25zdCB0YWdzID0gZm0udGFncztcblx0XHRpZiAodGFncyA9PT0gdW5kZWZpbmVkIHx8IHRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHR9XG5cdFx0Ly8gLT4gdGFnIG4nZXhpc3RlIHBhcyAtPiB2YWxldXIgcGFyIGRlZmF1dFxuXHRcdC8vIC0+IHRhZyBleGlzdGUgbWFpcyBpbCBhIHVuZSB2YWxldXIgcGFyIGRlZmF1dCAtPiB2YWxldXIgcGFyIGRlZmF1dFxuXHRcdGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdGlmICh0YWcgPT0gZGVmYXVsdFRhZykge1xuXHRcdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRhZy5sZW5ndGggPiBsZW4gJiYgdGFnLnNsaWNlKDAsIGxlbikgPT0gYCR7bmFtZX0vYCkge1xuXHRcdFx0XHRyZXR1cm4gdGFnO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBkZWZhdWx0UmV0VmFsO1xuXHR9LFxuXG5cdGdldE5hbWUoZm0pOiBzdHJpbmcge1xuXHRcdGNvbnN0IGNvbXBvbmVudHMgPSBIZWxwZXIuZ2V0Q29tcG9uZW50cyhmbSk7XG5cdFx0aWYgKGNvbXBvbmVudHMubGVuZ3RoIDwgMSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBIZWxwZXIuZ2V0TmFtZSgpICR7Zm19YCk7XG5cdFx0fVxuXG5cdFx0bGV0IG5hbWUgPSB1bmRlZmluZWQ7XG5cdFx0bGV0IG9jY3VyZW5jZXMgPSAwO1xuXHRcdGZvciAoY29uc3QgY29tcG9uZW50IG9mIGNvbXBvbmVudHMpIHtcblx0XHRcdGlmIChjb21wb25lbnQuc2xpY2UoMCwgMTUpID09PSBcImNvbXBvbmVudC9uYW1lL1wiKSB7XG5cdFx0XHRcdG5hbWUgPSBjb21wb25lbnQuc2xpY2UoMTUpO1xuXHRcdFx0XHRvY2N1cmVuY2VzICs9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKG9jY3VyZW5jZXMgPiAxKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGBIZWxwZXIuZ2V0TmFtZSgpICR7Zm19IG11bHRpcGxlIG9jY3VyZW5jZXMgb2YgJ2NvbXBvbmVudC9uYW1lJ2AsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YEhlbHBlci5nZXROYW1lKCkgJHtmbX0gJ2NvbXBvbmVudC9uYW1lJyB1bmRlZmluZWRgLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbmFtZTtcblx0fSxcblxuXHRnZXRDb21wb25lbnRzKGZtKSB7XG5cdFx0Y29uc3QgY29tcG9uZW50cyA9IFtdO1xuXHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZm0udGFncykpIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgZm0udGFncykge1xuXHRcdFx0aWYgKHRhZy5sZW5ndGggPiAxMCAmJiB0YWcuc2xpY2UoMCwgMTApID09PSBcImNvbXBvbmVudC9cIikge1xuXHRcdFx0XHRjb21wb25lbnRzLnB1c2godGFnKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNvbXBvbmVudHM7XG5cdH0sXG5cblx0Z2V0QXJlYShmbSwgZW1wdHlEZWZhdWx0ID0gZmFsc2UpIHtcblx0XHRyZXR1cm4gSGVscGVyLmdldFRhZyhmbSwgXCJhcmVhXCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0Q29udGV4dChmbSwgZW1wdHlEZWZhdWx0ID0gZmFsc2UpIHtcblx0XHRyZXR1cm4gSGVscGVyLmdldFRhZyhmbSwgXCJjb250ZXh0XCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0RG9tYWluKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcImRvbWFpblwiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGdldExheWVyKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcImxheWVyXCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0T3JnKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcIm9yZ1wiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGdldFByb2plY3QoZm0sIGVtcHR5RGVmYXVsdCA9IGZhbHNlKSB7XG5cdFx0cmV0dXJuIEhlbHBlci5nZXRUYWcoZm0sIFwicHJvamVjdFwiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGR1cmF0aW9uU3RyaW5nVG9TZWModmFsKSB7XG5cdFx0aWYgKHZhbCA9PT0gdW5kZWZpbmVkIHx8IHZhbC5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblx0XHRjb25zdCBtdWx0ID0gdmFsLnNsaWNlKC0xKTtcblx0XHRsZXQgbSA9IDA7XG5cdFx0aWYgKG11bHQgPT09IFwiaFwiKSB7XG5cdFx0XHRtID0gNjAgKiA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT09IFwibVwiKSB7XG5cdFx0XHRtID0gNjA7XG5cdFx0fSBlbHNlIGlmIChtdWx0ID09PSBcImRcIikge1xuXHRcdFx0bSA9IDI0ICogNjAgKiA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT0gXCJ3XCIpIHtcblx0XHRcdG0gPSAyNCAqIDYwICogNjAgKiA3O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYFVuaGFuZGxlZCBjYXNlIHZhbDogJHt2YWx9YCk7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBtICogcGFyc2VJbnQodmFsLnNsaWNlKDAsIC0xKSk7XG5cdH0sXG5cblx0bXNlY1RvU3RyaW5nRHVyYXRpb24odmFsOiBudW1iZXIpIHtcblx0XHRjb25zdCBvbmVIb3VySW5Nc2VjID0gMzYwMDAwMDsgLy8gMSBob3VyIGluIG1zZWNcblx0XHRjb25zdCBvbmVEYXlJbk1zZWMgPSA4NjQwMDAwMDsgLy8gMSBkYXkgaW4gbXNlY1xuXHRcdGlmICh2YWwgPj0gMjQgKiBvbmVIb3VySW5Nc2VjKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRTdHJpbmcoSGVscGVyLnJvdW5kVG9PbmVEZWNpbWFsKHZhbCAvIG9uZURheUluTXNlYykpLnBhZFN0YXJ0KFxuXHRcdFx0XHRcdDIsXG5cdFx0XHRcdFx0XCIwXCIsXG5cdFx0XHRcdCkgKyBcIiBkXCJcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFN0cmluZyhIZWxwZXIucm91bmRUb09uZURlY2ltYWwodmFsIC8gb25lSG91ckluTXNlYykpLnBhZFN0YXJ0KFxuXHRcdFx0XHRcdDIsXG5cdFx0XHRcdFx0XCIwXCIsXG5cdFx0XHRcdCkgKyBcIiBoXCJcblx0XHRcdCk7XG5cdFx0fVxuXHR9LFxuXG5cdGlzVVVJRCh2YWw6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdGlmICh0eXBlb2YgdmFsICE9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB2YWwubGVuZ3RoID09PSAzNjtcblx0fSxcbn07XG5cbmV4cG9ydCBjb25zdCBBdXRvRmllbGQgPSB7XG5cdHRhZ3MoZHYsIGZtLCBsZXZlbCA9IDIpIHtcblx0XHRjb25zdCB0YWdzID0gZm0udGFncztcblx0XHRpZiAodGFncyA9PSB1bmRlZmluZWQgfHwgdGFncy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0YWdzLnNvcnQoKTtcblx0XHRkdi5oZWFkZXIobGV2ZWwsIFwiVGFnc1wiKTtcblx0XHRsZXQgcyA9IFwiXCI7XG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0cyArPSBgICMke3RhZ31gO1xuXHRcdH1cblx0XHRkdi5wYXJhZ3JhcGgocyk7XG5cdH0sXG5cblx0YXV0aG9ycyhkdiwgZm0pIHtcblx0XHRjb25zdCBhdXRob3JzID0gZm0uYXV0aG9ycztcblx0XHRpZiAoYXV0aG9ycyA9PT0gdW5kZWZpbmVkIHx8IGF1dGhvcnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZHYuaGVhZGVyKDMsIFwiQXV0aG9yc1wiKTtcblx0XHRkdi5saXN0KGF1dGhvcnMpO1xuXHR9LFxuXG5cdHRpdGxlKGR2LCBmbSkge1xuXHRcdGNvbnN0IHRpdGxlID0gZm0uYWxpYXM7XG5cdFx0aWYgKHRpdGxlID09PSB1bmRlZmluZWQgfHwgdGl0bGUubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZHYuaGVhZGVyKDMsIHRpdGxlKTtcblx0fSxcblxuXHRsb2dzKGR2LCBlbnRyaWVzKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGxldCB0b3RhbFRpbWUgPSAwO1xuXG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG5cdFx0XHRjb25zdCBmbWUgPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgZSA9IFtdO1xuXHRcdFx0bGV0IHN0YXJ0OiBhbnkgPSAwO1xuXHRcdFx0bGV0IHN0b3A6IGFueSA9IDA7XG5cdFx0XHRpZiAoZm1lID09PSB1bmRlZmluZWQgfHwgZm1lLmNyZWF0ZWRfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXI6ICR7Zm1lLnV1aWR9YCk7XG5cdFx0XHR9XG5cblx0XHRcdHN0YXJ0ID0gbmV3IERhdGUoZm1lLmNyZWF0ZWRfYXQpO1xuXHRcdFx0ZS5wdXNoKHN0YXJ0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApKTtcblx0XHRcdGlmIChmbWUuZG9uZV9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHN0b3AgPSBEYXRlLm5vdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3RvcCA9IG5ldyBEYXRlKGZtZS5kb25lX2F0KTtcblx0XHRcdH1cblx0XHRcdHRvdGFsVGltZSArPSBzdG9wIC0gc3RhcnQ7XG5cdFx0XHRlLnB1c2goXG5cdFx0XHRcdGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHRcdGZtZS51dWlkLFxuXHRcdFx0XHRcdFwiIyMgQ29udGVudFwiLFxuXHRcdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHRcdGZtZS51dWlkLnNsaWNlKDAsIDgpLFxuXHRcdFx0XHQpLFxuXHRcdFx0KTtcblx0XHRcdGUucHVzaChNYXRoLnJvdW5kKCgoc3RvcCAtIHN0YXJ0KSAvICgxMDAwICogNjAgKiA2MCkpICogMTApIC8gMTApO1xuXHRcdFx0aWYgKGZtZS5yZXZpZXdlZCA9PT0gdW5kZWZpbmVkIHx8IGZtZS5yZXZpZXdlZCA9PT0gMCkge1xuXHRcdFx0XHRlLnB1c2goMCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlLnB1c2goZm1lLnJldmlld2VkKTtcblx0XHRcdH1cblx0XHRcdGJ1ZmYucHVzaChlKTtcblx0XHR9XG5cblx0XHRpZiAoYnVmZi5sZW5ndGggPiAwKSB7XG5cdFx0XHRkdi5oZWFkZXIoMiwgXCJMb2dzXCIpO1xuXHRcdFx0ZHYudGFibGUoW1wiY3JlYXRlZF9hdFwiLCBcInV1aWRcIiwgXCJzZXNzaW9uXCIsIFwicmV2aWV3ZWRcIl0sIGJ1ZmYpO1xuXHRcdFx0aWYgKHRvdGFsVGltZSA+IDApIHtcblx0XHRcdFx0ZHYucGFyYWdyYXBoKFxuXHRcdFx0XHRcdGBfdG90YWxUaW1lIChoKTpfICR7TWF0aC5yb3VuZCgodG90YWxUaW1lIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMFxuXHRcdFx0XHRcdH1gLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRtZWRpYShkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgZm0gPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgcGFnZXMgPSBkdi5wYWdlcyhgXCIke1BhdGhzLlJlZnN9LyR7Zm0ucmVmX2lkfVwiYCkuYXJyYXkoKTtcblx0XHRpZiAocGFnZXMubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IG1lZGlhID0gcGFnZXNbMF07XG5cdFx0Y29uc3QgbWVkaWFGbSA9IG1lZGlhLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0QXV0b0ZpZWxkLnRpdGxlKGR2LCBtZWRpYUZtKTtcblx0XHRkdi5wYXJhZ3JhcGgoUmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgbWVkaWEuZmlsZSkpO1xuXHRcdEF1dG9GaWVsZC5hdXRob3JzKGR2LCBtZWRpYUZtKTtcblx0XHRBdXRvRmllbGQudGFncyhkdiwgbWVkaWFGbSwgMyk7XG5cblx0XHRjb25zdCBsb2dFbnRyaWVzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkxvZ3N9LyR7Zm0udXVpZH1cImApXG5cdFx0XHQud2hlcmUoKHApID0+IHAudHlwZSA9PT0gNilcblx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiZGVzY1wiKTtcblx0XHRBdXRvRmllbGQubG9ncyhkdiwgbG9nRW50cmllcyk7XG5cdH0sXG5cblx0YXV0b0ZpZWxkVGl0bGUoZHYsIGZtKSB7XG5cdFx0Y29uc3QgdGl0bGUgPSBmbS5hbGlhcztcblx0XHRpZiAodGl0bGUgPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZHYuaGVhZGVyKDEsIHRpdGxlKTtcblx0fSxcblxuXHRhdXRvRmllbGRBdXRob3JzKGR2LCBmbSkge1xuXHRcdGNvbnN0IGF1dGhvcnMgPSBmbS5hdXRob3JzO1xuXHRcdGlmIChhdXRob3JzID09PSB1bmRlZmluZWQgfHwgYXV0aG9ycy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZHYuaGVhZGVyKDIsIFwiQXV0aG9yc1wiKTtcblx0XHRkdi5saXN0KGF1dGhvcnMpO1xuXHR9LFxuXG5cdGF1dG9GaWVsZFRhZ3MoZHYsIGZtKSB7XG5cdFx0Y29uc3QgdGFncyA9IGZtLnRhZ3M7XG5cdFx0aWYgKHRhZ3MgPT0gdW5kZWZpbmVkIHx8IHRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGFncy5zb3J0KCk7XG5cdFx0ZHYuaGVhZGVyKDIsIFwiVGFnc1wiKTtcblx0XHRsZXQgcyA9IFwiXCI7XG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0cyArPSBgICMke3RhZ31gO1xuXHRcdH1cblx0XHRkdi5wYXJhZ3JhcGgocyk7XG5cdH0sXG5cblx0bGl0ZXJhdHVyZShkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgZm0gPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKEhlbHBlci5uaWxDaGVjayhmbS5hdXRob3JzKSkge1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmF1dG9GaWVsZFRpdGxlKGR2LCBmbSk7XG5cdFx0XHR0aGlzLmF1dG9GaWVsZEF1dGhvcnMoZHYsIGZtKTtcblx0XHRcdHRoaXMuYXV0b0ZpZWxkVGFncyhkdiwgZm0pO1xuXHRcdH1cblx0fSxcblxuXHRjYWxlbmRhcihkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCkuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCBjdXJyZW50QXQgPSBuZXcgRGF0ZShjdXJyZW50LmF0KTtcblx0XHRjb25zdCBjdXJyZW50QXRTaG9ydCA9IGN1cnJlbnRBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblxuXHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdC5wYWdlcyhgXCJDYWxlbmRhclwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRjb25zdCBmbSA9IHBhZ2UuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdFx0aWYgKGZtLmNvbXBsZXRlZCA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdGlmIChmbS5kYXRlICE9PSBjdXJyZW50QXRTaG9ydCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChmbS5jb21wbGV0ZWQgPT09IGZhbHNlKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHQuc29ydCgoaykgPT4gay5hdCwgXCJhc2NcIik7XG5cblx0XHRpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBwYWdlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRidWZmLnB1c2goW2Ake2ZtLnN0YXJ0VGltZX0gLSAke2ZtLmVuZFRpbWV9YCwgYCR7Zm0udGl0bGV9YF0pO1xuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKHBhZ2VzLmxlbmd0aCk7XG5cdFx0ZHYudGFibGUoW1wiYXRcIiwgXCJ0aXRsZVwiXSwgYnVmZik7XG5cdH0sXG5cblx0ZGFpbHkoZHYpIHtcblx0XHRjb25zdCBjdXJyZW50ID0gZHYuY3VycmVudCgpLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgY3VycmVudEF0ID0gbmV3IERhdGUoY3VycmVudC5hdCk7XG5cdFx0Y29uc3QgY3VycmVudEF0U2hvcnQgPSBjdXJyZW50QXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cblx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApXG5cdFx0XHQud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdFx0Ly8gaWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdC8vIFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHQvLyB9XG5cblx0XHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdFx0aWYgKGN1cnJlbnQudXVpZCA9PT0gZm0udXVpZCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChmbS5mbS5zdGF0dXMgIT09IFwidG9kb1wiIHx8IGZtLmdldFByb2plY3QoKSA9PT0gXCJkYWlseVwiKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hdCAhPT0gdW5kZWZpbmVkICYmXG5cdFx0XHRcdFx0Zm0uYXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkgPT09IGN1cnJlbnRBdFNob3J0XG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hdCAhPT0gdW5kZWZpbmVkICYmXG5cdFx0XHRcdFx0Zm0uYXQuZ2V0VGltZSgpIDwgbm93LmdldFRpbWUoKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuYmVmb3JlICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0XHRmbS5iZWZvcmUuZ2V0VGltZSgpID4gbm93LmdldFRpbWUoKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuYWZ0ZXIgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdGZtLmFmdGVyLmdldFRpbWUoKSA8IG5vdy5nZXRUaW1lKClcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9KVxuXHRcdFx0LnNvcnQoKGspID0+IGsuYXQsIFwiYXNjXCIpO1xuXG5cdFx0aWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRjb25zdCBoID0gU3RyaW5nKGZtLmF0LmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG0gPSBTdHJpbmcoZm0uYXQuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLnN0YXR1cyA9PT0gXCJkb25lXCIpIHtcblx0XHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0XHRgfn4ke1JlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKGR2LCBwYWdlLmZpbGUsIFwiVGFza1wiKX1+fmAsXG5cdFx0XHRcdFx0YH5+JHtofToke219fn5gLFxuXHRcdFx0XHRdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFx0YCR7UmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoZHYsIHBhZ2UuZmlsZSwgXCJUYXNrXCIpfWAsXG5cdFx0XHRcdFx0YCR7aH06JHttfWAsXG5cdFx0XHRcdF0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRkdi50YWJsZShbXCJ1dWlkXCIsIFwiYXRcIl0sIGJ1ZmYpO1xuXHR9LFxuXG5cdHRhc2soZHYpIHtcblx0XHRjb25zdCBkdkxpYiA9IG5ldyBEdkxpYigpO1xuXHRcdGR2TGliLmF1dG9GaWVsZFRhc2soZHYpO1xuXHR9LFxuXG5cdGxvZyhkdikge1xuXHRcdGNvbnN0IGR2TGliID0gbmV3IER2TGliKCk7XG5cdFx0ZHZMaWIuYXV0b0ZpZWxkTG9nKGR2KTtcblx0fSxcbn07XG5cbi8vIHRoaXMgbXVzdCBiZSBjYWxsZWQgZnJvbSBgZGF0YXZpZXdqc2AgY29kZWJsb2Nrc1xuZXhwb3J0IGNvbnN0IFJlbmRlcmVyID0ge1xuXHRtYWtlTGlua05hbWUoZHYsIGYsIGFuY2hvciA9IFwiQ29udGVudFwiKSB7XG5cdFx0aWYgKEhlbHBlci5uaWxDaGVjayhmLmZyb250bWF0dGVyLm5hbWUpKSB7XG5cdFx0XHRyZXR1cm4gUmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoZHYsIGYsIGFuY2hvcik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGR2LnNlY3Rpb25MaW5rKGYucGF0aCwgYW5jaG9yLCBmYWxzZSwgYCR7Zi5mcm9udG1hdHRlci5uYW1lfWApO1xuXHR9LFxuXG5cdG1ha2VMaW5rQWxpYXMoZHYsIGYsIGFuY2hvciA9IFwiQ29udGVudFwiKSB7XG5cdFx0aWYgKEhlbHBlci5uaWxDaGVjayhmLmZyb250bWF0dGVyLmFsaWFzKSkge1xuXHRcdFx0cmV0dXJuIFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKGR2LCBmLCBhbmNob3IpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkdi5zZWN0aW9uTGluayhmLnBhdGgsIGFuY2hvciwgZmFsc2UsIGAke2YuZnJvbnRtYXR0ZXIuYWxpYXN9YCk7XG5cdH0sXG5cblx0bWFrZUxpbmtTaG9ydFVVSUQoZHYsIGYsIGFuY2hvciA9IFwiQ29udGVudFwiKSB7XG5cdFx0cmV0dXJuIGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0Zi5wYXRoLFxuXHRcdFx0YW5jaG9yLFxuXHRcdFx0ZmFsc2UsXG5cdFx0XHRgJHtmLmZyb250bWF0dGVyLnV1aWQuc2xpY2UoMCwgOCl9YCxcblx0XHQpO1xuXHR9LFxuXG5cdG1ha2VMaW5rKGR2LCBmLCBuYW1lID0gdW5kZWZpbmVkLCBhbmNob3IgPSBcIkNvbnRlbnRcIikge1xuXHRcdHJldHVybiBkdi5zZWN0aW9uTGluayhmLnBhdGgsIGFuY2hvciwgZmFsc2UsIG5hbWUpO1xuXHR9LFxuXG5cdHByb2plY3RMb2dzKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgY29scyA9IFtcInR5cGVcIiwgXCJ0YXNrX2lkXCIsIFwibG9nX2lkXCIsIFwidG9va1wiLCBcInJldmlld2VkXCJdO1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRsZXQgdG90YWxUaW1lID0gMDtcblxuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBkLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS51dWlkKSxcblx0XHRcdFx0YFwidXVpZFwiIGlkIG5vdCBkZWZpbmVkIGZvcjogJHtmLnBhdGh9YCxcblx0XHRcdCk7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS50eXBlKSxcblx0XHRcdFx0YFwidHlwZVwiIGlkIG5vdCBkZWZpbmVkIGZvcjogJHtmLnBhdGh9YCxcblx0XHRcdCk7XG5cblx0XHRcdGNvbnN0IGNyZWF0ZWRBdCA9IG5ldyBEYXRlKGZtLmNyZWF0ZWRfYXQpO1xuXHRcdFx0Y29uc3QgZG9uZUF0ID0gbmV3IERhdGUoZm0uZG9uZV9hdCk7XG5cdFx0XHRjb25zdCBkZWx0YSA9IGRvbmVBdC5nZXRUaW1lKCkgLSBjcmVhdGVkQXQuZ2V0VGltZSgpO1xuXG5cdFx0XHR0b3RhbFRpbWUgKz0gZGVsdGE7XG5cdFx0XHRjb25zdCByZWNvcmQgPSB7XG5cdFx0XHRcdHRhc2tJZDogXCJcIixcblx0XHRcdFx0bG9nSWQ6IFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIGYpLFxuXHRcdFx0XHR0b29rOiBNYXRoLnJvdW5kKChkZWx0YSAvICgxMDAwICogNjAgKiA2MCkpICogMTApIC8gMTAsXG5cdFx0XHRcdHJldmlld2VkOiBIZWxwZXIubmlsQ2hlY2soZm0ucmV2aWV3ZWQpID8gMCA6IGZtLnJldmlld2VkLFxuXHRcdFx0XHR0eXBlOiB1bmRlZmluZWQsXG5cdFx0XHR9O1xuXHRcdFx0Y29uc3QgcGFnZXMgPSBkdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2ZtLnBhcmVudF9pZH1cImApLmFycmF5KCk7XG5cdFx0XHRpZiAocGFnZXMubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRgcGFyZW50IHRhc2sgd2l0aCBpZDogXCIke2ZtLnBhcmVudF9pZH1cIiBkb2VzIG5vdCBleGlzdHNgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgcGFyZW50ID0gcGFnZXNbMF07XG5cdFx0XHRzd2l0Y2ggKHBhcmVudC5maWxlLmZyb250bWF0dGVyLnR5cGUpIHtcblx0XHRcdFx0Y2FzZSBUeXBlcy5UYXNrOlxuXHRcdFx0XHRcdHJlY29yZC50eXBlID0gYDxmb250IGNvbG9yPThCMDAwMD50YXNrPC9mb250PmA7XG5cdFx0XHRcdFx0cmVjb3JkLnRhc2tJZCA9IFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKFxuXHRcdFx0XHRcdFx0ZHYsXG5cdFx0XHRcdFx0XHRwYXJlbnQuZmlsZSxcblx0XHRcdFx0XHRcdFwiVGFza1wiLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgVHlwZXMuTWVkaWE6XG5cdFx0XHRcdFx0cmVjb3JkLnR5cGUgPSBgPGZvbnQgY29sb3I9MDAwMDhCPm1lZGlhPC9mb250PmA7XG5cdFx0XHRcdFx0cmVjb3JkLnRhc2tJZCA9IFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKFxuXHRcdFx0XHRcdFx0ZHYsXG5cdFx0XHRcdFx0XHRwYXJlbnQuZmlsZSxcblx0XHRcdFx0XHRcdFwiQ29udGVudFwiLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgVHlwZXMuUHJheGlzOlxuXHRcdFx0XHRcdHJlY29yZC50eXBlID0gYDxmb250IGNvbG9yPUZGOEMwMD5wcmF4aXM8L2ZvbnQ+YDtcblx0XHRcdFx0XHRyZWNvcmQudGFza0lkID0gUmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoXG5cdFx0XHRcdFx0XHRkdixcblx0XHRcdFx0XHRcdHBhcmVudC5maWxlLFxuXHRcdFx0XHRcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBUeXBlcy5Qcm92aXNpb246XG5cdFx0XHRcdFx0cmVjb3JkLnR5cGUgPSBgPGZvbnQgY29sb3I9REMxNDNDPnByb3Zpc2lvbjwvZm9udD5gO1xuXHRcdFx0XHRcdHJlY29yZC50YXNrSWQgPSBSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChcblx0XHRcdFx0XHRcdGR2LFxuXHRcdFx0XHRcdFx0cGFyZW50LmZpbGUsXG5cdFx0XHRcdFx0XHRcIkNvbnRlbnRcIixcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGBSZW5kZXJlci5wcm9qZWN0TG9nczogdHlwZSBcIiR7cGFyZW50LmZpbGUuZnJvbnRtYXR0ZXIudHlwZX1cIiBub3QgaW1wbGVtZW50ZWRgLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRyZWNvcmQudHlwZSxcblx0XHRcdFx0cmVjb3JkLnRhc2tJZCxcblx0XHRcdFx0cmVjb3JkLmxvZ0lkLFxuXHRcdFx0XHRyZWNvcmQudG9vayxcblx0XHRcdFx0cmVjb3JkLnJldmlld2VkLFxuXHRcdFx0XSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdFx0Ly8gTWF0aC5yb3VuZCgodG90YWxUaW1lIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMCxcblx0fSxcblxuXHRpbmJveEVudHJ5KGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgY29scyA9IFtcblx0XHRcdFwidXVpZFwiLFxuXHRcdFx0Ly8gXCJ0eXBlXCIsXG5cdFx0XHQvLyBcImFnZVwiLFxuXHRcdFx0Ly8gXCJzaXplXCIsXG5cdFx0XHRcIm5hbWVcIixcblx0XHRcdC8vIFwicHJvamVjdFwiLFxuXHRcdFx0Ly8gXCJkb21haW5cIixcblx0XHRcdC8vIFwiY29tcG9uZW50c1wiLFxuXHRcdF07XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBkLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS51dWlkKSxcblx0XHRcdFx0YFwidXVpZFwiIGlkIG5vdCBkZWZpbmVkIGZvcjogJHtmLnBhdGh9YCxcblx0XHRcdCk7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS50eXBlKSxcblx0XHRcdFx0YFwidHlwZVwiIGlkIG5vdCBkZWZpbmVkIGZvcjogJHtmLnBhdGh9YCxcblx0XHRcdCk7XG5cblx0XHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0XHRjb25zdCBkZWx0YSA9IG5vdy5nZXRUaW1lKCkgLSBmbS5jcmVhdGVkQXQuZ2V0VGltZSgpO1xuXHRcdFx0Y29uc3Qgc2luY2UgPSBIZWxwZXIubXNlY1RvU3RyaW5nRHVyYXRpb24oZGVsdGEpO1xuXHRcdFx0bGV0IG5hbWUgPSBcIlwiO1xuXG5cdFx0XHRjb25zb2xlLmxvZyhcIlxcblwiKTtcblx0XHRcdGNvbnNvbGUubG9nKGZtLmRvbWFpbik7XG5cdFx0XHRjb25zb2xlLmxvZyhmbS5wcm9qZWN0KTtcblx0XHRcdGNvbnNvbGUubG9nKFwiXFxuXCIpO1xuXG5cdFx0XHRpZiAoZm0uZG9tYWluICE9PSBcImRvbWFpbi91bmRlZmluZWRcIikge1xuXHRcdFx0XHRuYW1lID0gZm0uZG9tYWluO1xuXHRcdFx0fSBlbHNlIGlmIChmbS5wcm9qZWN0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bmFtZSA9IGZtLnByb2plY3Q7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRuYW1lID0gXCJcXFxcLVwiO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCByZWNvcmQgPSB7XG5cdFx0XHRcdHV1aWQ6XG5cdFx0XHRcdFx0SGVscGVyLm51bWJlclR5cGVUb1N0cmluZyhmbSkgPT09IFwiZmxlZXRpbmdcIlxuXHRcdFx0XHRcdFx0PyBgJiMxMjgxOTYgJHtSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmKX1gXG5cdFx0XHRcdFx0XHQ6IFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIGYpLFxuXHRcdFx0XHQvLyB1dWlkOiBgJiM5NzI4ICR7UmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgZil9YCxcblx0XHRcdFx0dHlwZTogSGVscGVyLm51bWJlclR5cGVUb1N0cmluZyhmbSksXG5cdFx0XHRcdHNpbmNlOiBgJHtzaW5jZX1gLFxuXHRcdFx0XHRzaXplOiBmLnNpemUsXG5cdFx0XHRcdHByb2plY3Q6IGZtLnByb2plY3QgPT09IHVuZGVmaW5lZCA/IFwiXFxcXC1cIiA6IGZtLnByb2plY3Quc2xpY2UoOCksXG5cdFx0XHRcdGRvbWFpbjogZm0uZG9tYWluID09PSB1bmRlZmluZWQgPyBcIlxcXFwtXCIgOiBmbS5kb21haW4uc2xpY2UoNyksIC8vUmVuZGVyZXIuZG9tYWluQmFzZShkdiwgZm0uZG9tYWluKSxcblx0XHRcdFx0bmFtZTogbmFtZSxcblx0XHRcdH07XG5cblx0XHRcdGlmIChyZWNvcmQudHlwZSA9PT0gXCJsb2dcIikge1xuXHRcdFx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9LyR7Zm0ucGFyZW50X2lkfVwiYClcblx0XHRcdFx0XHQuYXJyYXkoKTtcblx0XHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgJHtmbS5wYXJlbnRfaWR9ICR7Zm0uaWR9YCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgcGFyZW50ID0gcGFnZXNbMF07XG5cdFx0XHRcdHN3aXRjaCAocGFyZW50LnR5cGUpIHtcblx0XHRcdFx0XHRjYXNlIFR5cGVzLlRhc2s6XG5cdFx0XHRcdFx0XHRyZWNvcmQudXVpZCA9IGAmIzEyODIxMSAke3JlY29yZC51dWlkfWA7XG5cdFx0XHRcdFx0XHRyZWNvcmQudHlwZSA9IGA8Zm9udCBjb2xvcj04QjAwMDA+dGFzazwvZm9udD5gO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBUeXBlcy5QcmF4aXM6XG5cdFx0XHRcdFx0XHRyZWNvcmQudXVpZCA9IGAmIzEyODE4OCAke3JlY29yZC51dWlkfWA7XG5cdFx0XHRcdFx0XHRyZWNvcmQudHlwZSA9IGA8Zm9udCBjb2xvcj1GRjhDMDA+cHJheGlzPC9mb250PmA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFR5cGVzLk1lZGlhOlxuXHRcdFx0XHRcdFx0cmVjb3JkLnV1aWQgPSBgJiMxMjgxOTEgJHtyZWNvcmQudXVpZH1gO1xuXHRcdFx0XHRcdFx0cmVjb3JkLnR5cGUgPSBgPGZvbnQgY29sb3I9MDAwMDhCPm1lZGlhPC9mb250PmA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFR5cGVzLlByb3Zpc2lvbjpcblx0XHRcdFx0XHRcdHJlY29yZC50eXBlID0gYDxmb250IGNvbG9yPURDMTQzQz5wcm92aXNpb248L2ZvbnQ+YDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRyZWNvcmQudXVpZCxcblx0XHRcdFx0Ly8gcmVjb3JkLnR5cGUsXG5cdFx0XHRcdC8vIHJlY29yZC5zaW5jZSxcblx0XHRcdFx0Ly8gcmVjb3JkLnNpemUsXG5cdFx0XHRcdHJlY29yZC5uYW1lLFxuXHRcdFx0XHQvLyByZWNvcmQucHJvamVjdCxcblx0XHRcdFx0Ly8gcmVjb3JkLmRvbWFpbixcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdHJlc291cmNlQmFzZShkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCJdO1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udXVpZCksXG5cdFx0XHRcdGBcInV1aWRcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXHRcdFx0YnVmZi5wdXNoKFtSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmKV0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdGJhc2ljUmVsYXRpb24oZHYsIGRhdGEpIHtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiLCBcIm5hbWVcIl07XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBkLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS51dWlkKSxcblx0XHRcdFx0YFwidXVpZFwiIGlkIG5vdCBkZWZpbmVkIGZvcjogJHtmLnBhdGh9YCxcblx0XHRcdCk7XG5cdFx0XHRidWZmLnB1c2goW1JlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIGYpLCBmbS5uYW1lXSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0cHJheGlzQmFzZShkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1widGFza3NcIiwgXCJ1dWlkXCIsIFwiZXN0aW1hdGVcIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmLm5hbWUuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0d2FpdGluZ1Rhc2soZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcInRhc2tzXCIsIFwidXVpZFwiLCBcImVzdGltYXRlXCIsIFwiY2F1c2VcIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmLm5hbWUuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XHRmbS5jYXVzZSxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdHJlYWR5VGFzayhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiLCBcInRhc2tcIiwgXCJlc3RpbWF0ZVwiLCBcImFyZWFcIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cblx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIGYsIFwiVGFza1wiKSxcblx0XHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0SGVscGVyLmdldEZpZWxkKEhlbHBlci5nZXRBcmVhKGZtLCB0cnVlKSwgXCJcXFxcLVwiKSxcblx0XHRcdF0pO1xuXHRcdH1cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblxuXHRwcm92aXNpb25CYXNlKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwic3VwcGxpZXJcIiwgXCJjb250ZW50XCIsIFwiZXN0aW1hdGVcIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0Zm0uc3VwcGxpZXIsXG5cdFx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRdKTtcblx0XHR9XG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0YmFzaWNUYXNrSm91cm5hbChkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHQvLyBjb25zdCBjb2xzID0gW1wiam91cm5hbFwiLCBcInV1aWRcIiwgXCJ0YXNrc1wiLCBcImVzdGltYXRlXCJdO1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwidGFza3NcIiwgXCJlc3RpbWF0ZVwiXTtcblx0XHQvLyBjb25zdCBqb3VybmFsID0gZHYucGFnZXMoYFwiJHtQYXRocy5Kb3VybmFsfVwiYCkuYXJyYXkoKVswXS5maWxlXG5cdFx0Ly8gXHQuZnJvbnRtYXR0ZXIudGFza3M7XG5cblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc29sZS5sb2coZCk7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgZG9tYWluID1cblx0XHRcdFx0SGVscGVyLmdldERvbWFpbihmbSwgdHJ1ZSkgPT09IHVuZGVmaW5lZFxuXHRcdFx0XHRcdD8gXCJcXFxcLVwiXG5cdFx0XHRcdFx0OiBIZWxwZXIuZ2V0RG9tYWluKGZtKTtcblxuXHRcdFx0aWYgKGZtLnJlZl9pZCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGBuYW1lOiAke2QuZmlsZS5wYXRofWApXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGB0YXNrczogJHtkLmZpbGUudGFza3MubGVuZ3RofWApXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGB0YXNrc0I6ICR7Zi50YXNrcy5sZW5ndGh9YClcblx0XHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0XHQvLyBqb3VybmFsLmNvbnRhaW5zKGZtLnV1aWQpID8gXCItPlwiIDogXCJcXFxcLVwiLFxuXHRcdFx0XHRcdGR2LmZpbGVMaW5rKGYucGF0aCwgZmFsc2UsIGZtLnV1aWQuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0XSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCByZWYgPSBkdi5wYWdlcyhgXCIke1BhdGhzLlJlZnN9LyR7Zm0ucmVmX2lkfVwiYCkuYXJyYXkoKTtcblx0XHRcdFx0aWYgKHJlZi5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRgdGFzazogJyR7Zm0udXVpZH0nIGhhcyBhbiB1bmRlZmluZWQgcmVmX2lkOiAnJHtmbS5yZWZfaWR9J2AsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCByZWZbMF0uZmlsZSksXG5cdFx0XHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XHRcdFx0ZG9tYWluLFxuXHRcdFx0XHRcdF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXHRhY3RpdmVUYXNrKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwidGFza3NcIiwgXCJzZXNzaW9uXCJdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgbG9ncyA9IGR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkxvZ3N9LyR7Zm0udXVpZH1cImApXG5cdFx0XHRcdC53aGVyZSgocCkgPT4gcC50eXBlID09PSA2KVxuXHRcdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImRlc2NcIik7XG5cdFx0XHRjb25zdCBsYXN0ID0gbG9nc1swXTtcblx0XHRcdGNvbnN0IGNyZWF0ZWRBdCA9IG5ldyBEYXRlKGxhc3QuY3JlYXRlZF9hdCk7XG5cdFx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRcdCgodCkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBNYXRoLnJvdW5kKCh0IC8gKDM2MDAgKiAxMDAwKSkgKiAxMCkgLyAxMDtcblx0XHRcdFx0fSkobm93LmdldFRpbWUoKSAtIGNyZWF0ZWRBdC5nZXRUaW1lKCkpLFxuXHRcdFx0XSk7XG5cdFx0fVxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdGJhc2ljVGFzayhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiLCBcInRhc2tzXCIsIFwiZXN0aW1hdGVcIiwgXCJkb21haW5cIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBkb21haW4gPVxuXHRcdFx0XHRIZWxwZXIuZ2V0RG9tYWluKGZtLCB0cnVlKSA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0PyBcIlxcXFwtXCJcblx0XHRcdFx0XHQ6IEhlbHBlci5nZXREb21haW4oZm0pO1xuXG5cdFx0XHRpZiAoZm0ucmVmX2lkID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYG5hbWU6ICR7ZC5maWxlLnBhdGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzOiAke2QuZmlsZS50YXNrcy5sZW5ndGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzQjogJHtmLnRhc2tzLmxlbmd0aH1gKVxuXHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdGR2LmZpbGVMaW5rKGYucGF0aCwgZmFsc2UsIGZtLnV1aWQuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0XHRkb21haW4sXG5cdFx0XHRcdF0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgcmVmID0gZHYucGFnZXMoYFwiJHtQYXRocy5SZWZzfS8ke2ZtLnJlZl9pZH1cImApLmFycmF5KCk7XG5cdFx0XHRcdGlmIChyZWYubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0YHRhc2s6ICcke2ZtLnV1aWR9JyBoYXMgYW4gdW5kZWZpbmVkIHJlZl9pZDogJyR7Zm0ucmVmX2lkfSdgLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0XHRcdGR2LmZpbGVMaW5rKGYucGF0aCwgZmFsc2UsIGZtLnV1aWQuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgcmVmWzBdLmZpbGUpLFxuXHRcdFx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0XHRcdGRvbWFpbixcblx0XHRcdFx0XHRdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblxuXHRsb2dzKGR2LCBlbnRyaWVzKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGxldCB0b3RhbFRpbWUgPSAwO1xuXG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG5cdFx0XHRjb25zdCBmbWUgPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgZSA9IFtdO1xuXHRcdFx0bGV0IHN0YXJ0OiBhbnkgPSAwO1xuXHRcdFx0bGV0IHN0b3A6IGFueSA9IDA7XG5cdFx0XHRpZiAoZm1lID09PSB1bmRlZmluZWQgfHwgZm1lLmNyZWF0ZWRfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXI6ICR7Zm1lLnV1aWR9YCk7XG5cdFx0XHR9XG5cblx0XHRcdHN0YXJ0ID0gbmV3IERhdGUoZm1lLmNyZWF0ZWRfYXQpO1xuXHRcdFx0ZS5wdXNoKHN0YXJ0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApKTtcblx0XHRcdGlmIChmbWUuZG9uZV9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHN0b3AgPSBEYXRlLm5vdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3RvcCA9IG5ldyBEYXRlKGZtZS5kb25lX2F0KTtcblx0XHRcdH1cblx0XHRcdHRvdGFsVGltZSArPSBzdG9wIC0gc3RhcnQ7XG5cdFx0XHRlLnB1c2goXG5cdFx0XHRcdGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHRcdGZtZS51dWlkLFxuXHRcdFx0XHRcdFwiIyMgQ29udGVudFwiLFxuXHRcdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHRcdGZtZS51dWlkLnNsaWNlKDAsIDgpLFxuXHRcdFx0XHQpLFxuXHRcdFx0KTtcblx0XHRcdGUucHVzaChNYXRoLnJvdW5kKCgoc3RvcCAtIHN0YXJ0KSAvICgxMDAwICogNjAgKiA2MCkpICogMTApIC8gMTApO1xuXHRcdFx0aWYgKGZtZS5yZXZpZXdlZCA9PT0gdW5kZWZpbmVkIHx8IGZtZS5yZXZpZXdlZCA9PT0gMCkge1xuXHRcdFx0XHRlLnB1c2goMCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlLnB1c2goZm1lLnJldmlld2VkKTtcblx0XHRcdH1cblx0XHRcdGJ1ZmYucHVzaChlKTtcblx0XHR9XG5cblx0XHRpZiAoYnVmZi5sZW5ndGggPiAwKSB7XG5cdFx0XHRkdi5oZWFkZXIoMiwgXCJMb2dzXCIpO1xuXHRcdFx0ZHYudGFibGUoW1wiY3JlYXRlZF9hdFwiLCBcInV1aWRcIiwgXCJzZXNzaW9uXCIsIFwicmV2aWV3ZWRcIl0sIGJ1ZmYpO1xuXHRcdFx0aWYgKHRvdGFsVGltZSA+IDApIHtcblx0XHRcdFx0ZHYucGFyYWdyYXBoKFxuXHRcdFx0XHRcdGBfdG90YWxUaW1lIChoKTpfICR7TWF0aC5yb3VuZCgodG90YWxUaW1lIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMFxuXHRcdFx0XHRcdH1gLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRtZWRpYVdpdGhMb2dzKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwidGFza3NcIiwgXCJlc3RpbWF0ZVwiLCBcImN1cnJlbnRcIiwgXCJkb21haW5cIl07XG5cblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZi5mcm9udG1hdHRlcjtcblx0XHRcdGNvbnN0IHJlZiA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuUmVmc30vJHtmbS5yZWZfaWR9XCJgKS5hcnJheSgpO1xuXHRcdFx0aWYgKHJlZi5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGB0YXNrOiAnJHtmbS51dWlkfScgaGFzIGFuIHVuZGVmaW5lZCByZWZfaWQ6ICcke2ZtLnJlZl9pZH0nYCxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGRvbWFpbiA9XG5cdFx0XHRcdEhlbHBlci5nZXREb21haW4oZm0sIHRydWUpID09PSB1bmRlZmluZWRcblx0XHRcdFx0XHQ/IFwiXFxcXC1cIlxuXHRcdFx0XHRcdDogSGVscGVyLmdldERvbWFpbihmbSk7XG5cdFx0XHRjb25zdCBsb2dFbnRyaWVzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc30vJHtmbS51dWlkfVwiYClcblx0XHRcdFx0LndoZXJlKChwKSA9PiBwLnR5cGUgPT09IFR5cGVzLkxvZylcblx0XHRcdFx0LnNvcnQoKGspID0+IGsuY3JlYXRlZF9hdCwgXCJkZXNjXCIpO1xuXHRcdFx0bGV0IHRvdGFsVGltZSA9IDA7XG5cdFx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIGxvZ0VudHJpZXMpIHtcblx0XHRcdFx0Y29uc3QgZm1lID0gZW50cnkuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdFx0Y29uc3QgZSA9IFtdO1xuXHRcdFx0XHRsZXQgc3RhcnQ6IGFueSA9IDA7XG5cdFx0XHRcdGxldCBzdG9wOiBhbnkgPSAwO1xuXHRcdFx0XHRpZiAoZm1lID09PSB1bmRlZmluZWQgfHwgZm1lLmNyZWF0ZWRfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmcm9udG1hdHRlcjogJHtmbWUudXVpZH1gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHN0YXJ0ID0gbmV3IERhdGUoZm1lLmNyZWF0ZWRfYXQpO1xuXHRcdFx0XHRlLnB1c2goc3RhcnQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkpO1xuXHRcdFx0XHRpZiAoZm1lLmRvbmVfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHN0b3AgPSBEYXRlLm5vdygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN0b3AgPSBuZXcgRGF0ZShmbWUuZG9uZV9hdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dG90YWxUaW1lICs9IHN0b3AgLSBzdGFydDtcblx0XHRcdH1cblxuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIHJlZlswXS5maWxlKSxcblx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0YCR7TWF0aC5yb3VuZCgodG90YWxUaW1lIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMH1oYCxcblx0XHRcdFx0ZG9tYWluLFxuXHRcdFx0XSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0dGFza0RvbmVXaXRoTG9ncyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1xuXHRcdFx0XCJ0YXNrSWRcIixcblx0XHRcdFwibG9nSWRcIixcblx0XHRcdFwiY3JlYXRlZEF0XCIsXG5cdFx0XHRcImRvbmVBdFwiLFxuXHRcdFx0XCJ0aW1lRXN0aW1hdGVcIixcblx0XHRcdFwidG9va1wiLFxuXHRcdFx0XCJwcm9qZWN0XCIsXG5cdFx0XTtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgY3JlYXRlZEF0OiBhbnkgPSBuZXcgRGF0ZShmbS5jcmVhdGVkX2F0KTtcblx0XHRcdGNvbnN0IGRvbmVBdDogYW55ID0gbmV3IERhdGUoZm0uZG9uZV9hdCk7XG5cdFx0XHRjb25zdCB0aW1lRXN0aW1hdGUgPSBcIlwiO1xuXHRcdFx0Y29uc3QgdG9vayA9IChkb25lQXQgLSBjcmVhdGVkQXQpIC8gKDEwMDAgKiAzNjAwKTtcblx0XHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0XHQud2hlcmUoKHBhZ2UpID0+IHBhZ2UuZmlsZS5mcm9udG1hdHRlci51dWlkID09PSBmbS5wYXJlbnRfaWQpO1xuXHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHBhcmVudCA9IHBhZ2VzWzBdO1xuXHRcdFx0Y29uc3QgcGFyZW50Rm0gPSBwYXJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGNvbnN0IHBhcmVudEYgPSBwYXJlbnQuZmlsZTtcblx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKGR2LCBwYXJlbnQuZmlsZSwgXCJUYXNrXCIpLFxuXHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgZiksXG5cdFx0XHRcdGNyZWF0ZWRBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSxcblx0XHRcdFx0ZG9uZUF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApLFxuXHRcdFx0XHR0aW1lRXN0aW1hdGUsXG5cdFx0XHRcdCgodCkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBNYXRoLnJvdW5kKHQgKiAxMCkgLyAxMDtcblx0XHRcdFx0fSkodG9vayksXG5cdFx0XHRcdEhlbHBlci5nZXRQcm9qZWN0KHBhcmVudEZtKSxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdGJhc2ljRG9uZVRhc2tXaXRoTG9ncyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXG5cdFx0XHRcInV1aWRcIixcblx0XHRcdFwiY3JlYXRlZEF0XCIsXG5cdFx0XHRcImRvbmVBdFwiLFxuXHRcdFx0XCJ0aW1lRXN0aW1hdGVcIixcblx0XHRcdFwidG9va1wiLFxuXHRcdFx0XCJkZWx0YVwiLFxuXHRcdFx0XCJwcm9qZWN0XCIsXG5cdFx0XHRcImFyZWFcIixcblx0XHRdO1xuXHRcdGR2LnRhYmxlKGNvbHMsIGRhdGEpO1xuXHR9LFxuXG5cdGJhc2ljRG9uZVRhc2tXaXRob3V0TG9ncyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ0YXNrSWRcIiwgXCJjcmVhdGVkQXRcIiwgXCJwcm9qZWN0XCIsIFwiYXJlYVwiXTtcblx0XHRkdi50YWJsZShjb2xzLCBkYXRhKTtcblx0fSxcblxuXHRiYXNpY1Byb2dyZXNzZWRUYXNrV2l0aExvZyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXG5cdFx0XHRcInRhc2tJZFwiLFxuXHRcdFx0XCJsb2dJZFwiLFxuXHRcdFx0Ly8gXCJjcmVhdGVkQXRcIixcblx0XHRcdC8vIFwiZG9uZUF0XCIsXG5cdFx0XHRcInRvb2tcIixcblx0XHRcdC8vIFwidG9va0FjY1wiLFxuXHRcdFx0XCJwcm9qZWN0XCIsXG5cdFx0XHQvLyBcImRvbWFpblwiLFxuXHRcdF07XG5cdFx0ZHYudGFibGUoY29scywgZGF0YSk7XG5cdH0sXG5cblx0Ly8gZGFpbHlUYXNrKGR2LCBkYXRhKSB7XG5cdC8vIFx0UmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQodGhpcy5kdiwgcGFnZS5maWxlKSxcblx0Ly8gXHRkdi5cblx0Ly8gXHRcdFx0XHRycy5wdXNoKFtcblx0Ly8gXHRcdFx0XHRcdFwicGFyYWdyYXBoXCIsXG5cdC8vIFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRCh0aGlzLmR2LCBwYWdlLmZpbGUpLFxuXHQvLyBcdFx0XHRcdF0pO1xuXHQvLyB9XG5cblx0ZG8oZHYsIHJzKSB7XG5cdFx0Zm9yIChjb25zdCByb3cgb2YgcnMpIHtcblx0XHRcdHN3aXRjaCAocm93WzBdKSB7XG5cdFx0XHRcdGNhc2UgXCJoZWFkZXJcIjpcblx0XHRcdFx0XHRjb25zdCBbLCBsZXZlbCwgaGVhZGluZ10gPSByb3c7XG5cdFx0XHRcdFx0ZHYuaGVhZGVyKGxldmVsLCBoZWFkaW5nKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInBhcmFncmFwaFwiOlxuXHRcdFx0XHRcdGNvbnN0IFssIHRleHRdID0gcm93O1xuXHRcdFx0XHRcdGR2LnBhcmFncmFwaCh0ZXh0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImFycmF5XCI6XG5cdFx0XHRcdFx0Y29uc3QgWywgcmVuZGVyZXIsIGRhdGFdID0gcm93O1xuXHRcdFx0XHRcdHJlbmRlcmVyKGR2LCBkYXRhKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInN0YXRzXCI6XG5cdFx0XHRcdFx0Y29uc3QgWywgbmFtZSwgdW5pdCwgdmFsdWVdID0gcm93O1xuXHRcdFx0XHRcdGR2LnBhcmFncmFwaChgJHtuYW1lfSAoJHt1bml0fSk6ICR7dmFsdWV9YCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBVbnN1cG9ydGVkIG9wY29kZTogXCJmdWNrb2ZmXCJgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG59O1xuXG5leHBvcnQgY2xhc3MgRnJvbnRtYXR0ZXIge1xuXHRnb25leHQ6IGFueTtcblxuXHRjb25zdHJ1Y3Rvcihnb25leHQpIHtcblx0XHR0aGlzLmdvbmV4dCA9IGdvbmV4dDtcblx0fVxuXG5cdHByb2plY3RQYXJzZU1ldGEoZHYpIHtcblx0XHQvLyBmYXV0ZSBkZSBtaWV1eCBwb3VyIGxlIG1vbWVudFxuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgcHJvamVjdE5hbWUgPSBjdXJyZW50LmZpbGUuZm9sZGVyLnNsaWNlKFxuXHRcdFx0UGF0aHMuUHJvamVjdHMubGVuZ3RoICsgMSxcblx0XHQpO1xuXHRcdGNvbnN0IHByb2plY3REaXIgPSBjdXJyZW50LmZpbGUuZm9sZGVyO1xuXHRcdGlmIChwcm9qZWN0TmFtZS5jb250YWlucyhcIi9cIikpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YHByb2plY3REaXI6ICR7cHJvamVjdERpcn0gZm9sZGVyOiAke2N1cnJlbnQuZmlsZS5mb2xkZXJ9YCxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcGFnZXMgPSBkdi5wYWdlcyhgXCIke3Byb2plY3REaXJ9L21ldGFcImApLmFycmF5KCk7XG5cdFx0aWYgKHBhZ2VzLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0Ly8gY29uc29sZS5sb2cocGFnZXMpO1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBsZW46ICR7cGFnZXMubGVuZ3RofWApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZtID0gcGFnZXNbMF0uZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCB1dWlkID0gZm0udXVpZDtcblx0XHRpZiAoSGVscGVyLm5pbENoZWNrKHV1aWQpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYHByb2plY3QgJ3V1aWQnIGlzIG5vdCBkZWZpbmVkYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbmFtZSA9IGZtLm5hbWU7XG5cdFx0aWYgKEhlbHBlci5uaWxDaGVjayhuYW1lKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGAnbmFtZScgaXMgbm90IGRlZmluZWRgKTtcblx0XHR9XG5cblx0XHRjb25zdCBkb21haW5zID0gZm0uZG9tYWlucztcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkoZG9tYWlucykpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgJ2RvbWFpbnMnIG11c3QgYmUgb2YgYXJyYXkgdHlwZWApO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR1dWlkOiB1dWlkLFxuXHRcdFx0bmFtZTogbmFtZSxcblx0XHRcdGRvbWFpbnM6IGRvbWFpbnMsXG5cdFx0fTtcblx0fVxuXG5cdGdldENyZWF0ZWRBdChmKTogRGF0ZSB7XG5cdFx0cmV0dXJuIEhlbHBlci5uaWxDaGVjayhmLmZyb250bWF0dGVyLmNyZWF0ZWRfYXQpXG5cdFx0XHQ/IG5ldyBEYXRlKGYuY3RpbWUudHMpXG5cdFx0XHQ6IG5ldyBEYXRlKGYuZnJvbnRtYXR0ZXIuY3JlYXRlZF9hdCk7XG5cdH1cblxuXHRnZXRDdXJyZW50RnJvbnRtYXR0ZXIoKSB7XG5cdFx0Y29uc3QgZmlsZSA9IHRoaXMuZ29uZXh0LndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG5cdFx0Y29uc3QgZmlsZUNvbnRlbnQgPSB0aGlzLmdvbmV4dC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKTtcblx0XHRpZiAoZmlsZUNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gY29uc29sZS53YXJuKFwiJ2ZpbGVDb250ZW50JyBpcyB1bmRlZmluZWRcIik7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZtID0gZmlsZUNvbnRlbnQuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdC8vIGNvbnNvbGUud2FybihcIidmbScgaXMgdW5kZWZpbmVkXCIpO1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZm07XG5cdH1cblxuXHRwYXJzZUxpc3RCeU5hbWVzcGFjZShmbSkge1xuXHRcdGNvbnN0IGJ5QXJlYXMgPSBmbS5ieV9hcmVhcyA9PT0gdW5kZWZpbmVkID8gW10gOiBmbS5ieV9hcmVhcztcblx0XHRjb25zdCBieUNvbnRleHRzID0gZm0uYnlfY29udGV4dHMgPT09IHVuZGVmaW5lZCA/IFtdIDogZm0uYnlfY29udGV4dHM7XG5cdFx0Y29uc3QgYnlMYXllcnMgPSBmbS5ieV9sYXllcnMgPT09IHVuZGVmaW5lZCA/IFtdIDogZm0uYnlfbGF5ZXJzO1xuXHRcdGNvbnN0IGJ5T3JncyA9IGZtLmJ5X29yZ3MgPT09IHVuZGVmaW5lZCA/IFtdIDogZm0uYnlfb3Jncztcblx0XHRjb25zdCBieVByb2plY3RzID0gZm0uYnlfcHJvamVjdHMgPT09IHVuZGVmaW5lZCA/IFtdIDogZm0uYnlfcHJvamVjdHM7XG5cblx0XHRyZXR1cm4gW2J5QXJlYXMsIGJ5Q29udGV4dHMsIGJ5TGF5ZXJzLCBieU9yZ3MsIGJ5UHJvamVjdHNdO1xuXHR9XG5cblx0cGFyc2VMaXN0QmVmb3JlQWZ0ZXIoZm0pIHtcblx0XHRjb25zdCBiZWZvcmUgPSBIZWxwZXIuZ2V0RGF0ZShmbS5iZWZvcmUpO1xuXHRcdGNvbnN0IGFmdGVyID0gSGVscGVyLmdldERhdGUoZm0uYWZ0ZXIpO1xuXHRcdHJldHVybiBbYmVmb3JlLCBhZnRlcl07XG5cdH1cblxuXHRwYXJzZUxpc3RGaWx0ZXJCeShmbSkge1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXG5cdFx0Y29uc3QgZmlsdGVyQnkgPSBmbS5maWx0ZXJfYnk7XG5cdFx0aWYgKCFBcnJheS5pc0FycmF5KGZpbHRlckJ5KSkge1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblxuXHRcdHJldHVybiBmaWx0ZXJCeTtcblx0fVxuXG5cdHBhcnNlTGlzdEdyb3VwQnkoZm0pIHtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZ3JvdXBCeSA9IGZtLmdyb3VwX2J5O1xuXHRcdGlmIChcblx0XHRcdCEodHlwZW9mIGdyb3VwQnkgPT09IFwidW5kZWZpbmVkXCIpICYmXG5cdFx0XHQhKHR5cGVvZiBncm91cEJ5ID09PSBcInN0cmluZ1wiKVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGdyb3VwQnk7XG5cdH1cblxuXHRwYXJzZUFsbFByb2dyZXNzZWRUYXNrcygpIHtcblx0XHRjb25zdCBmbSA9IHRoaXMuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmcm9udG1hdHRlciwgY2Fubm90IHByb2NlZWRgKTtcblx0XHR9XG5cblx0XHRjb25zdCBncm91cEJ5ID0gdGhpcy5wYXJzZUxpc3RHcm91cEJ5KGZtKTtcblx0XHRjb25zdCBmaWx0ZXJCeSA9IHRoaXMucGFyc2VMaXN0RmlsdGVyQnkoZm0pO1xuXHRcdGNvbnN0IFtiZWZvcmUsIGFmdGVyXSA9IHRoaXMucGFyc2VMaXN0QmVmb3JlQWZ0ZXIoZm0pO1xuXG5cdFx0cmV0dXJuIFtncm91cEJ5LCBmaWx0ZXJCeSwgYmVmb3JlLCBhZnRlcl07XG5cdH1cblxuXHRwYXJzZUFsbERvbmVUYXNrcygpIHtcblx0XHRyZXR1cm4gdGhpcy5wYXJzZUFsbFByb2dyZXNzZWRUYXNrcygpO1xuXHR9XG5cblx0cGFyc2VBbGxEb25lVGFza1dpdGhvdXRMb2coKSB7XG5cdFx0cmV0dXJuIHRoaXMucGFyc2VBbGxQcm9ncmVzc2VkVGFza3MoKTtcblx0fVxuXG5cdHBhcnNlQWxsVG9kb0FkSG9jKCkge1xuXHRcdGNvbnN0IGZtID0gdGhpcy5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZyb250bWF0dGVyLCBjYW5ub3QgcHJvY2VlZGApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGdyb3VwQnkgPSB0aGlzLnBhcnNlTGlzdEdyb3VwQnkoZm0pO1xuXHRcdGNvbnN0IGZpbHRlckJ5ID0gdGhpcy5wYXJzZUxpc3RGaWx0ZXJCeShmbSk7XG5cdFx0Y29uc3QgW2JlZm9yZSwgYWZ0ZXJdID0gdGhpcy5wYXJzZUxpc3RCZWZvcmVBZnRlcihmbSk7XG5cdFx0Y29uc3QgbWluUHJpb3JpdHkgPSBIZWxwZXIuZ2V0RmllbGQoZm0ubWluX3ByaW9yaXR5LCAwKTtcblxuXHRcdHJldHVybiBbZ3JvdXBCeSwgZmlsdGVyQnksIGJlZm9yZSwgYWZ0ZXIsIG1pblByaW9yaXR5XTtcblx0fVxuXG5cdHBhcnNlSW5ib3goKSB7XG5cdFx0Y29uc3QgZm0gPSB0aGlzLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gW1tdLCBbXSwgMCwgMHhmZmZmZmZmZl07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc291cmNlID0gSGVscGVyLm5pbENoZWNrKGZtLnNvdXJjZSlcblx0XHRcdD8gW1wibG9nc1wiLCBcImZsZWV0aW5nXCJdXG5cdFx0XHQ6IGZtLnNvdXJjZTtcblx0XHRjb25zdCBncm91cEJ5ID0gSGVscGVyLm5pbENoZWNrKGZtLmdyb3VwX2J5KSA/IFwibm9uZVwiIDogZm0uZ3JvdXBfYnk7XG5cdFx0Y29uc3QgZmlsdGVyQnkgPSB0aGlzLnBhcnNlTGlzdEZpbHRlckJ5KGZtKTtcblx0XHRjb25zdCBtaW5TaXplID0gSGVscGVyLm5pbENoZWNrKGZtLm1pbl9zaXplKSA/IDAgOiBmbS5taW5fc2l6ZTtcblx0XHRjb25zdCBtYXhTaXplID0gSGVscGVyLm5pbENoZWNrKGZtLm1heF9zaXplKSA/IDB4ZmZmZmZmZmYgOiBmbS5tYXhfc2l6ZTtcblxuXHRcdHJldHVybiBbc291cmNlLCBncm91cEJ5LCBmaWx0ZXJCeSwgbWluU2l6ZSwgbWF4U2l6ZV07XG5cdH1cblxuXHRwYXJzZUpvdXJuYWwoKSB7XG5cdFx0Y29uc3QgZm0gPSB0aGlzLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gW1tdLCBbXSwgW10sIFtdLCBbXV07XG5cdFx0fVxuXHRcdGNvbnN0IFtieUFyZWFzLCBieUNvbnRleHRzLCBieUxheWVycywgYnlPcmdzLCBieVByb2plY3RzXSA9XG5cdFx0XHR0aGlzLnBhcnNlTGlzdEJ5TmFtZXNwYWNlKGZtKTtcblx0XHRjb25zdCB0YXNrcyA9IEhlbHBlci5nZXRGaWVsZChmbS50YXNrcywgW10pO1xuXG5cdFx0cmV0dXJuIFtieUFyZWFzLCBieUNvbnRleHRzLCBieUxheWVycywgYnlPcmdzLCBieVByb2plY3RzLCB0YXNrc107XG5cdH1cblxuXHRwYXJzZVRvZG9MaXN0KCkge1xuXHRcdGNvbnN0IGZtID0gdGhpcy5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIFtbXSwgW10sIFtdLCBbXSwgW10sIDBdO1xuXHRcdH1cblxuXHRcdGNvbnN0IFtieUFyZWFzLCBieUNvbnRleHRzLCBieUxheWVycywgYnlPcmdzLCBieVByb2plY3RzXSA9XG5cdFx0XHR0aGlzLnBhcnNlTGlzdEJ5TmFtZXNwYWNlKGZtKTtcblx0XHRjb25zdCBtaW5Qcmlvcml0eSA9IEhlbHBlci5nZXRGaWVsZChmbS5taW5fcHJpb3JpdHksIDApO1xuXG5cdFx0cmV0dXJuIFtieUFyZWFzLCBieUNvbnRleHRzLCBieUxheWVycywgYnlPcmdzLCBieVByb2plY3RzLCBtaW5Qcmlvcml0eV07XG5cdH1cblxuXHRwYXJzZURvbmVMaXN0KCkge1xuXHRcdGNvbnN0IGZtID0gdGhpcy5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIFtbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXV07XG5cdFx0fVxuXG5cdFx0Y29uc3QgW2J5QXJlYXMsIGJ5Q29udGV4dHMsIGJ5TGF5ZXJzLCBieU9yZ3MsIGJ5UHJvamVjdHNdID1cblx0XHRcdHRoaXMucGFyc2VMaXN0QnlOYW1lc3BhY2UoZm0pO1xuXHRcdGNvbnN0IFtiZWZvcmUsIGFmdGVyXSA9IHRoaXMucGFyc2VMaXN0QmVmb3JlQWZ0ZXIoZm0pO1xuXHRcdGNvbnN0IGZpZWxkcyA9IEhlbHBlci5nZXRGaWVsZChmbS5maWVsZHMsIFtdKTtcblx0XHRjb25zdCBzdGF0cyA9IEhlbHBlci5nZXRGaWVsZChmbS5zdGF0cywgW10pO1xuXG5cdFx0cmV0dXJuIFtcblx0XHRcdGJ5QXJlYXMsXG5cdFx0XHRieUNvbnRleHRzLFxuXHRcdFx0YnlMYXllcnMsXG5cdFx0XHRieU9yZ3MsXG5cdFx0XHRieVByb2plY3RzLFxuXHRcdFx0ZmllbGRzLFxuXHRcdFx0c3RhdHMsXG5cdFx0XHRiZWZvcmUsXG5cdFx0XHRhZnRlcixcblx0XHRdO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBOb3RlSGVscGVyIHtcblx0ZHY6IGFueTtcblx0Z29uZXh0OiBhbnk7XG5cdGZyb250bWF0dGVyOiBGcm9udG1hdHRlcjtcblxuXHRjb25zdHJ1Y3Rvcihnb25leHQsIGR2LCBmcm9udG1hdHRlcikge1xuXHRcdHRoaXMuZ29uZXh0ID0gZ29uZXh0O1xuXHRcdHRoaXMuZHYgPSBkdjtcblx0XHR0aGlzLmZyb250bWF0dGVyID0gZnJvbnRtYXR0ZXI7XG5cdH1cblxuXHRpc0RvYWJsZSh0YXNrKSB7XG5cdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtLnN0YXR1cyAhPT0gU3RhdHVzLlRvZG8pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoZm0uYWZ0ZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc3QgYWZ0ZXIgPSBuZXcgRGF0ZShmbS5hZnRlcik7XG5cdFx0XHRpZiAoRGF0ZS5ub3coKSA8PSBhZnRlci5nZXRUaW1lKCkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGRlcHMgPSBmbS5uZWVkcztcblx0XHRpZiAoZGVwcyA9PT0gdW5kZWZpbmVkIHx8IGRlcHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5oYXNQZW5kaW5nRGVwZW5kZW5jaWVzKGRlcHMpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRoYXNQZW5kaW5nRGVwZW5kZW5jaWVzKGRlcHMpIHtcblx0XHRmb3IgKGNvbnN0IGRlcCBvZiBkZXBzKSB7XG5cdFx0XHRjb25zdCB0YXNrID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2RlcH1cImApLmFycmF5KCk7XG5cdFx0XHRpZiAodGFzay5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRcdGBoYXNQZW5kaW5nRGVwZW5kZW5jaWVzOiBcIiR7UGF0aHMuVGFza3N9LyR7ZGVwfVwiIHRhc2sgZG9lcyBub3QgZXhpc3RzYCxcblx0XHRcdFx0KTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGZtID0gdGFza1swXS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRmbS50eXBlICE9PSBUeXBlcy5UYXNrICYmXG5cdFx0XHRcdGZtLnR5cGUgIT09IFR5cGVzLlByb3Zpc2lvbiAmJlxuXHRcdFx0XHRmbS50eXBlICE9PSBUeXBlcy5QcmF4aXNcblx0XHRcdCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGZtLnN0YXR1cyA9PT0gU3RhdHVzLlRvZG8pIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0aXNDaGlsZFRhZyhwYXJlbnQsIGNoaWxkKSB7XG5cdFx0aWYgKGNoaWxkLmxlbmd0aCA8PSBwYXJlbnQubGVuZ3RoICsgMSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gZWxzZSBpZiAoY2hpbGQuc2xpY2UoMCwgcGFyZW50Lmxlbmd0aCArIDEpICE9IGAke3BhcmVudH0vYCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGdldE5hbWVzcGFjZUNvbnRlbnQobnM6IHN0cmluZykge1xuXHRcdGNvbnN0IGNoaWxkcmVuID0gW107XG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2LnBhZ2VzKGAjJHtuc31gKTtcblx0XHRmb3IgKGNvbnN0IHAgb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IHRhZ3MgPSBwLmZpbGUuZnJvbnRtYXR0ZXIudGFncztcblxuXHRcdFx0aWYgKHRhZ3MgPT09IHVuZGVmaW5lZCB8fCB0YWdzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0XHRpZiAodGhpcy5pc0NoaWxkVGFnKG5zLCB0YWcpKSB7XG5cdFx0XHRcdFx0Y29uc3QgdCA9IHRhZy5zbGljZShucy5sZW5ndGggKyAxKTtcblx0XHRcdFx0XHRpZiAoIWNoaWxkcmVuLmNvbnRhaW5zKHQpKSB7XG5cdFx0XHRcdFx0XHRjaGlsZHJlbi5wdXNoKHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjaGlsZHJlbjtcblx0fVxuXG5cdGlzTGFzdFJldmlzaW9uKHBhZ2UpOiBib29sZWFuIHtcblx0XHRjb25zdCByZXZpc2lvbkxpc3QgPSAoZHYsIHJvb3Q6IHN0cmluZywgY3VycmVudCkgPT4ge1xuXHRcdFx0bGV0IGhlYWQgPSBjdXJyZW50O1xuXHRcdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHRcdC5wYWdlcyhgXCIke3Jvb3R9XCJgKVxuXHRcdFx0XHRcdC53aGVyZShcblx0XHRcdFx0XHRcdChwYWdlKSA9PlxuXHRcdFx0XHRcdFx0XHRwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmV4dCA9PT1cblx0XHRcdFx0XHRcdFx0aGVhZC5maWxlLmZyb250bWF0dGVyLnV1aWQsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoKTtcblx0XHRcdFx0fSBlbHNlIGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRoZWFkID0gcGFnZXNbMF07XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRcdGxldCBjdXIgPSBoZWFkO1xuXHRcdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdFx0YnVmZi5wdXNoKGN1cik7XG5cdFx0XHRcdGNvbnN0IGZtID0gY3VyLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGlmIChmbS5uZXh0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCBwYWdlcyA9IGR2LnBhZ2VzKGBcIiR7cm9vdH0vJHtmbS5uZXh0fVwiYCk7XG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRjdXIgPSBwYWdlc1swXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGJ1ZmY7XG5cdFx0fTtcblxuXHRcdGNvbnN0IG5vdGUgPSBwYWdlO1xuXHRcdGNvbnN0IGZtID0gbm90ZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdGxldCByZXZpc2lvbnMgPSBbXTtcblx0XHRzd2l0Y2ggKGZtLnR5cGUpIHtcblx0XHRcdGNhc2UgVHlwZXMuUGVybWFuZW50OlxuXHRcdFx0XHRyZXZpc2lvbnMgPSByZXZpc2lvbkxpc3QodGhpcy5kdiwgUGF0aHMuU2xpcGJveCwgbm90ZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBUeXBlcy5SZXNvdXJjZTpcblx0XHRcdFx0cmV2aXNpb25zID0gcmV2aXNpb25MaXN0KHRoaXMuZHYsIFBhdGhzLlJlc291cmNlcywgbm90ZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHJldmlzaW9ucy5sZW5ndGggPD0gMSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldmlzaW9uc1swXS5maWxlLmZyb250bWF0dGVyLnV1aWQgPT09IGZtLnV1aWQ7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIExpc3RNYWtlciB7XG5cdGR2OiBhbnk7XG5cdGdvbmV4dDogYW55O1xuXHRmcm9udG1hdHRlcjogRnJvbnRtYXR0ZXI7XG5cdG5vdGVIZWxwZXI6IE5vdGVIZWxwZXI7XG5cblx0Y29uc3RydWN0b3IoZ29uZXh0LCBkdiwgZnJvbnRtYXR0ZXIpIHtcblx0XHR0aGlzLmdvbmV4dCA9IGdvbmV4dDtcblx0XHR0aGlzLmR2ID0gZHY7XG5cdFx0dGhpcy5mcm9udG1hdHRlciA9IGZyb250bWF0dGVyO1xuXHRcdHRoaXMubm90ZUhlbHBlciA9IG5ldyBOb3RlSGVscGVyKGdvbmV4dCwgZHYsIGZyb250bWF0dGVyKTtcblx0fVxuXG5cdG5hbWVJbk5hbWVzcGFjZShmbTogYW55LCBuczogc3RyaW5nW10pIHtcblx0XHRsZXQgZm91bmQgPSBmYWxzZTtcblx0XHRpZiAobnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IGEgb2YgbnMpIHtcblx0XHRcdGNvbnN0IHJvb3QgPSBhLnNwbGl0KFwiL1wiKTtcblx0XHRcdEFzc2VydC5UcnVlKHJvb3QubGVuZ3RoID09PSAyLCBgSW52YWxpZCB0YWc6ICcke2F9J2ApO1xuXHRcdFx0Y29uc3QgcGFyZW50ID1cblx0XHRcdFx0cm9vdFswXS5zbGljZSgwLCAxKSA9PT0gXCIhXCIgPyByb290WzBdLnNsaWNlKDEpIDogcm9vdFswXTtcblx0XHRcdC8vIGNvbnNvbGUubG9nKHBhcmVudClcblx0XHRcdGNvbnN0IG5hbWUgPSBIZWxwZXIuZ2V0VGFnKGZtLCBwYXJlbnQpO1xuXG5cdFx0XHRpZiAoYS5zbGljZSgwLCAxKSA9PT0gXCIhXCIpIHtcblx0XHRcdFx0Ly8gbmVnYXRpdmUgbWF0Y2gsIGRpc2NhcmQgZW50cnlcblx0XHRcdFx0aWYgKG5hbWUgPT09IGEuc2xpY2UoMSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0Ly8gbm8gbWF0Y2gsIHJlaW5pdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gcG9zaXRpdmUgbWF0Y2gsIGtlZXAgZW50cnlcblx0XHRcdFx0aWYgKG5hbWUgPT09IGEpIHtcblx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdFx0Ly8gbm8gbWF0Y2gsIHJlaW5pdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZvdW5kID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZm91bmQ7XG5cdH1cblxuXHRteU5hbWVJbk5hbWVzcGFjZShuYW1lOiBzdHJpbmcsIG5zOiBzdHJpbmdbXSkge1xuXHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdGlmIChucy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgYSBvZiBucykge1xuXHRcdFx0aWYgKGEuc2xpY2UoMCwgMSkgPT09IFwiIVwiKSB7XG5cdFx0XHRcdC8vIG5lZ2F0aXZlIG1hdGNoLCBkaXNjYXJkIGVudHJ5XG5cdFx0XHRcdGlmIChuYW1lID09PSBhLnNsaWNlKDEpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdC8vIG5vIG1hdGNoLCByZWluaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHBvc2l0aXZlIG1hdGNoLCBrZWVwIGVudHJ5XG5cdFx0XHRcdGlmIChuYW1lID09PSBhKSB7XG5cdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdC8vIG5vIG1hdGNoLCByZWluaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3VuZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZvdW5kO1xuXHR9XG5cblx0ZmlsdGVyQnlOYW1lc3BhY2UoXG5cdFx0Zm06IGFueSxcblx0XHRieUFyZWFzOiBzdHJpbmdbXSxcblx0XHRieUNvbnRleHRzOiBzdHJpbmdbXSxcblx0XHRieUxheWVyczogc3RyaW5nW10sXG5cdFx0YnlPcmdzOiBzdHJpbmdbXSxcblx0XHRieVByb2plY3RzOiBzdHJpbmdbXSxcblx0KTogYm9vbGVhbiB7XG5cdFx0Ly8gaWYgKGJ5QXJlYXMubGVuZ3RoID4gMCAmJiAhYnlBcmVhcy5jb250YWlucyhIZWxwZXIuZ2V0QXJlYShmbSkpKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXG5cdFx0aWYgKCF0aGlzLm15TmFtZUluTmFtZXNwYWNlKEhlbHBlci5nZXRBcmVhKGZtKSwgYnlBcmVhcykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBjb25zdCBhcmVhID0gSGVscGVyLmdldEFyZWEoZm0pO1xuXHRcdC8vIGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdC8vIGZvciAoY29uc3QgYSBvZiBieUFyZWFzKSB7XG5cdFx0Ly8gXHRpZiAoYS5zbGljZSgwLCAxKSA9PT0gXCIhXCIpIHtcblx0XHQvLyBcdFx0Ly8gbmVnYXRpdmUgbWF0Y2gsIGRpc2NhcmQgZW50cnlcblx0XHQvLyBcdFx0aWYgKGFyZWEgPT09IGEuc2xpY2UoMSkpIHtcblx0XHQvLyBcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gXHRcdFx0Ly8gbm8gbWF0Y2gsIHJlaW5pdFxuXHRcdC8vIFx0XHR9IGVsc2Uge1xuXHRcdC8vIFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHQvLyBcdFx0fVxuXHRcdC8vIFx0fSBlbHNlIHtcblx0XHQvLyBcdFx0Ly8gcG9zaXRpdmUgbWF0Y2gsIGtlZXAgZW50cnlcblx0XHQvLyBcdFx0aWYgKGFyZWEgPT09IGEpIHtcblx0XHQvLyBcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0Ly8gXHRcdFx0Ly8gbm8gbWF0Y2gsIHJlaW5pdFxuXHRcdC8vIFx0XHR9IGVsc2Uge1xuXHRcdC8vIFx0XHRcdGZvdW5kID0gZmFsc2U7XG5cdFx0Ly8gXHRcdH1cblx0XHQvLyBcdH1cblx0XHQvLyB9XG5cdFx0Ly9cblx0XHQvLyBpZiAoIWZvdW5kKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXG5cdFx0Ly8gaWYgKFxuXHRcdC8vIFx0YnlDb250ZXh0cy5sZW5ndGggPiAwICYmXG5cdFx0Ly8gXHQhYnlDb250ZXh0cy5jb250YWlucyhIZWxwZXIuZ2V0Q29udGV4dChmbSkpXG5cdFx0Ly8gKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXHRcdGlmICghdGhpcy5teU5hbWVJbk5hbWVzcGFjZShIZWxwZXIuZ2V0Q29udGV4dChmbSksIGJ5Q29udGV4dHMpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgKGJ5TGF5ZXJzLmxlbmd0aCA+IDAgJiYgIWJ5TGF5ZXJzLmNvbnRhaW5zKEhlbHBlci5nZXRMYXllcihmbSkpKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXHRcdGlmICghdGhpcy5teU5hbWVJbk5hbWVzcGFjZShIZWxwZXIuZ2V0TGF5ZXIoZm0pLCBieUxheWVycykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBpZiAoYnlPcmdzLmxlbmd0aCA+IDAgJiYgIWJ5T3Jncy5jb250YWlucyhIZWxwZXIuZ2V0T3JnKGZtKSkpIHtcblx0XHQvLyBcdHJldHVybiBmYWxzZTtcblx0XHQvLyB9XG5cdFx0aWYgKCF0aGlzLm15TmFtZUluTmFtZXNwYWNlKEhlbHBlci5nZXRPcmcoZm0pLCBieU9yZ3MpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgKFxuXHRcdC8vIFx0YnlQcm9qZWN0cy5sZW5ndGggPiAwICYmXG5cdFx0Ly8gXHQhYnlQcm9qZWN0cy5jb250YWlucyhIZWxwZXIuZ2V0UHJvamVjdChmbSkpXG5cdFx0Ly8gKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXHRcdGlmICghdGhpcy5teU5hbWVJbk5hbWVzcGFjZShIZWxwZXIuZ2V0UHJvamVjdChmbSksIGJ5UHJvamVjdHMpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRmaWx0ZXJCeURhdGUoZHQ6IERhdGUsIGJlZm9yZTogRGF0ZSwgYWZ0ZXI6IERhdGUpOiBib29sZWFuIHtcblx0XHRpZiAoYmVmb3JlICE9PSB1bmRlZmluZWQgJiYgZHQuZ2V0VGltZSgpID4gYmVmb3JlLmdldFRpbWUoKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChhZnRlciAhPT0gdW5kZWZpbmVkICYmIGR0LmdldFRpbWUoKSA8IGFmdGVyLmdldFRpbWUoKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cHJvamVjdFJlc291cmNlU2hlZXQoKSB7XG5cdFx0Y29uc3QgY3VyRm0gPSB0aGlzLmZyb250bWF0dGVyLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChjdXJGbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgY29tcG9uZW50cyA9IGN1ckZtLmNvbXBvbmVudHM7XG5cdFx0Y29uc3QgZG9tYWlucyA9IGN1ckZtLmRvbWFpbnM7XG5cdFx0bGV0IG5vdGVUeXBlcyA9IFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMF07XG5cdFx0aWYgKCFIZWxwZXIubmlsQ2hlY2soY3VyRm0udHlwZXMpICYmIGN1ckZtLnR5cGVzICE9PSBcIipcIikge1xuXHRcdFx0bm90ZVR5cGVzID0gY3VyRm0udHlwZXM7XG5cdFx0fVxuXHRcdC8vIGNvbnNvbGUubG9nKG5vdGVUeXBlcyk7XG5cdFx0Y29uc3QgZHJvcFRhc2tzID0gY3VyRm0uZHJvcF9zdGF0dXM7XG5cdFx0Y29uc3QgbWluTWF0Y2hpbmdDb21wb25lbnQgPSBjb21wb25lbnRzLmxlbmd0aDtcblxuXHRcdGNvbnN0IHJzID0ge1xuXHRcdFx0ZmxlZXRpbmc6IFtdLFxuXHRcdFx0bGl0ZXJhdHVyZTogW10sXG5cdFx0XHRwZXJtYW5lbnQ6IFtdLFxuXHRcdFx0dGFzazogW10sXG5cdFx0XHRwcmF4aXM6IFtdLFxuXHRcdFx0c3VwcGx5OiBbXSxcblx0XHRcdGxvZzogW10sXG5cdFx0XHRyZXNvdXJjZTogW10sXG5cdFx0XHRtZWRpYTogW10sXG5cdFx0fTtcblxuXHRcdGNvbnN0IFR5cGVzID0ge1xuXHRcdFx0MDogXCJmbGVldGluZ1wiLFxuXHRcdFx0MTogXCJsaXRlcmF0dXJlXCIsXG5cdFx0XHQyOiBcInBlcm1hbmVudFwiLFxuXHRcdFx0MzogXCJ0YXNrXCIsXG5cdFx0XHQ0OiBcInByYXhpc1wiLFxuXHRcdFx0NTogXCJzdXBwbHlcIixcblx0XHRcdDY6IFwibG9nXCIsXG5cdFx0XHQ3OiBcInJlc291cmNlXCIsXG5cdFx0XHQ4OiBcIm1lZGlhXCIsXG5cdFx0fTtcblxuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcygpO1xuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBwYWdlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCB0YWdzID0gZm0udGFncztcblx0XHRcdGlmICh0YWdzID09PSB1bmRlZmluZWQgfHwgdGFncy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBjb21wID0gW107XG5cdFx0XHRmb3IgKGNvbnN0IHQgb2YgdGFncykge1xuXHRcdFx0XHRpZiAodC5sZW5ndGggPiAxMCAmJiB0LnNsaWNlKDAsIDEwKSA9PT0gXCJjb21wb25lbnQvXCIpIHtcblx0XHRcdFx0XHRjb21wLnB1c2godCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChjb21wLmxlbmd0aCA8IGNvbXBvbmVudHMubGVuZ3RoKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgbWlzc2luZyA9IDA7XG5cdFx0XHRmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBjb21wb25lbnRzKSB7XG5cdFx0XHRcdGlmICghY29tcC5jb250YWlucyhjb21wb25lbnQpKSB7XG5cdFx0XHRcdFx0bWlzc2luZyArPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoY29tcG9uZW50cy5sZW5ndGggLSBtaXNzaW5nIDwgbWluTWF0Y2hpbmdDb21wb25lbnQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChkb21haW5zLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0bGV0IGRvbWFpbiA9IFwiXCI7XG5cdFx0XHRcdGZvciAoY29uc3QgdCBvZiB0YWdzKSB7XG5cdFx0XHRcdFx0aWYgKHQubGVuZ3RoID4gNyAmJiB0LnNsaWNlKDAsIDcpID09PSBcImRvbWFpbi9cIikge1xuXHRcdFx0XHRcdFx0ZG9tYWluID0gdDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZG9tYWluID09PSBcIlwiKSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRcdFx0YE1pc3NpbmcgZG9tYWluIGZvciBub3RlOiAnJHtwYWdlLmZpbGUucGF0aH0nYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdFx0XHRmb3IgKGNvbnN0IGQgb2YgZG9tYWlucykge1xuXHRcdFx0XHRcdGlmIChkID09PSBkb21haW4pIHtcblx0XHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFmb3VuZCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChUeXBlc1tmbS50eXBlXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihgSW52YWxpZCB0eXBlIGZvciBub3RlOiAnJHtwYWdlLmZpbGUucGF0aH0nYCk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZm0udHlwZSA9PT0gMyB8fCBmbS50eXBlID09PSA0IHx8IGZtLnR5cGUgPT09IDUpIHtcblx0XHRcdFx0bGV0IGZvdW5kID0gZmFsc2U7XG5cdFx0XHRcdGZvciAoY29uc3Qgc3RhdHVzIG9mIGRyb3BUYXNrcykge1xuXHRcdFx0XHRcdGlmIChmbS5zdGF0dXMgPT09IHN0YXR1cykge1xuXHRcdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChmb3VuZCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdFx0Zm9yIChjb25zdCB0IG9mIG5vdGVUeXBlcykge1xuXHRcdFx0XHRpZiAoZm0udHlwZSA9PT0gdCkge1xuXHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKCFmb3VuZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0cnNbVHlwZXNbZm0udHlwZV1dLnB1c2gocGFnZSk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcmVzb3VyY2VzID0gW107XG5cdFx0Y29uc3QgdHlwZXMgPSBPYmplY3Qua2V5cyhycyk7XG5cdFx0dHlwZXMuc29ydCgpO1xuXHRcdGZvciAoY29uc3QgdCBvZiB0eXBlcykge1xuXHRcdFx0aWYgKHJzW3RdLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdHJlc291cmNlcy5wdXNoKFtcImhlYWRlclwiLCAyLCB0XSk7XG5cdFx0XHRmb3IgKGNvbnN0IG5vdGUgb2YgcnNbdF0pIHtcblx0XHRcdFx0cmVzb3VyY2VzLnB1c2goW1wicGFyYWdyYXBoXCIsIHRoaXMuZHYuZmlsZUxpbmsobm90ZS5maWxlLnBhdGgpXSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlc291cmNlcztcblx0fVxuXG5cdHJlc291cmNlTG9jYXRvckdsb2JhbCgpIHtcblx0XHRjb25zdCBjdXJGbSA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0aWYgKGN1ckZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBjb21wb25lbnRzID0gW107XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoY3VyRm0uY29tcG9uZW50cykpIHtcblx0XHRcdGZvciAoY29uc3QgY29tcG9uZW50IG9mIGN1ckZtLmNvbXBvbmVudHMpIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGNvbXBvbmVudC5sZW5ndGggPiAxMCAmJlxuXHRcdFx0XHRcdGNvbXBvbmVudC5zbGljZSgwLCAxMCkgPT09IFwiY29tcG9uZW50L1wiXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbXBvbmVudHMucHVzaChgY29tcG9uZW50LyR7Y29tcG9uZW50fWApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgZG9tYWlucyA9IFtdO1xuXHRcdGlmIChBcnJheS5pc0FycmF5KGN1ckZtLmRvbWFpbnMpKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGRvbWFpbiBvZiBjdXJGbS5kb21haW5zKSB7XG5cdFx0XHRcdGlmIChkb21haW4ubGVuZ3RoID4gNyAmJiBkb21haW4uc2xpY2UoMCwgNykgPT09IFwiZG9tYWluL1wiKSB7XG5cdFx0XHRcdFx0ZG9tYWlucy5wdXNoKGRvbWFpbik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZG9tYWlucy5wdXNoKGBkb21haW4vJHtkb21haW59YCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRsZXQgbWluTWF0Y2hpbmdDb21wb25lbnQgPSAwO1xuXHRcdGlmIChjb21wb25lbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdGlmIChIZWxwZXIubmlsQ2hlY2soY3VyRm0ubWluX21hdGNoaW5nX2NvbXBvbmVudHMpKSB7XG5cdFx0XHRcdG1pbk1hdGNoaW5nQ29tcG9uZW50ID0gY29tcG9uZW50cy5sZW5ndGg7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRtaW5NYXRjaGluZ0NvbXBvbmVudCA9IGN1ckZtLm1pbl9tYXRjaGluZ19jb21wb25lbnRzO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGxldCBub3RlVHlwZXMgPSBbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMiwgMTNdO1xuXHRcdGlmICghSGVscGVyLm5pbENoZWNrKGN1ckZtLnR5cGVzKSAmJiBjdXJGbS50eXBlcyAhPT0gXCIqXCIpIHtcblx0XHRcdG5vdGVUeXBlcyA9IGN1ckZtLnR5cGVzO1xuXHRcdH1cblx0XHRjb25zdCBkcm9wVGFza3MgPSBIZWxwZXIubmlsQ2hlY2soY3VyRm0uZHJvcF9zdGF0dXMpXG5cdFx0XHQ/IFtdXG5cdFx0XHQ6IGN1ckZtLmRyb3Bfc3RhdHVzO1xuXHRcdC8vIHR5cGUsIGNvbXBvbmVudFxuXHRcdC8vIGNvbnN0IGdyb3VwQnkgPSBjdXJGbS5ncm91cF9ieTtcblx0XHRjb25zdCBncm91cEJ5ID0gXCJ0eXBlXCI7XG5cblx0XHRjb25zdCBycyA9IHtcblx0XHRcdGZsZWV0aW5nOiBbXSxcblx0XHRcdGxpdGVyYXR1cmU6IFtdLFxuXHRcdFx0cGVybWFuZW50OiBbXSxcblx0XHRcdHRhc2s6IFtdLFxuXHRcdFx0cHJheGlzOiBbXSxcblx0XHRcdHN1cHBseTogW10sXG5cdFx0XHRsb2c6IFtdLFxuXHRcdFx0cmVzb3VyY2U6IFtdLFxuXHRcdFx0bWVkaWE6IFtdLFxuXHRcdFx0b3JnOiBbXSxcblx0XHRcdGRvbWFpbjogW10sXG5cdFx0XHRjb21wb25lbnQ6IFtdLFxuXHRcdFx0cHJvamVjdDogW10sXG5cdFx0fTtcblxuXHRcdGNvbnN0IFR5cGVzID0ge1xuXHRcdFx0MTogXCJsaXRlcmF0dXJlXCIsXG5cdFx0XHQyOiBcInBlcm1hbmVudFwiLFxuXHRcdFx0MzogXCJ0YXNrXCIsXG5cdFx0XHQ0OiBcInByYXhpc1wiLFxuXHRcdFx0NTogXCJzdXBwbHlcIixcblx0XHRcdDY6IFwibG9nXCIsXG5cdFx0XHQ3OiBcInJlc291cmNlXCIsXG5cdFx0XHQ4OiBcIm1lZGlhXCIsXG5cdFx0XHQ5OiBcIm9yZ1wiLFxuXHRcdFx0MTA6IFwiZG9tYWluXCIsXG5cdFx0XHQxMTogXCJjb21wb25lbnRcIixcblx0XHRcdDEyOiBcInByb2plY3RcIixcblx0XHRcdDEzOiBcImZsZWV0aW5nXCIsXG5cdFx0fTtcblxuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcygpLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdHBhZ2UuZmlsZS5mcm9udG1hdHRlci50eXBlICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0bm90ZVR5cGVzLmNvbnRhaW5zKHBhZ2UuZmlsZS5mcm9udG1hdHRlci50eXBlKVxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSk7XG5cblx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IGZtID0gcGFnZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgdGFncyA9IGZtLnRhZ3M7XG5cdFx0XHRpZiAodGFncyA9PT0gdW5kZWZpbmVkIHx8IHRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBjb21wID0gW107XG5cdFx0XHRmb3IgKGNvbnN0IHQgb2YgdGFncykge1xuXHRcdFx0XHRpZiAodC5sZW5ndGggPiAxMCAmJiB0LnNsaWNlKDAsIDEwKSA9PT0gXCJjb21wb25lbnQvXCIpIHtcblx0XHRcdFx0XHRjb21wLnB1c2godCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0bGV0IG1pc3NpbmcgPSAwO1xuXHRcdFx0Zm9yIChjb25zdCBjb21wb25lbnQgb2YgY29tcG9uZW50cykge1xuXHRcdFx0XHRpZiAoIWNvbXAuY29udGFpbnMoY29tcG9uZW50KSkge1xuXHRcdFx0XHRcdG1pc3NpbmcgKz0gMTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGNvbXBvbmVudHMubGVuZ3RoIC0gbWlzc2luZyA8IG1pbk1hdGNoaW5nQ29tcG9uZW50KSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZG9tYWlucy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGxldCBkb21haW4gPSBcIlwiO1xuXHRcdFx0XHRmb3IgKGNvbnN0IHQgb2YgdGFncykge1xuXHRcdFx0XHRcdGlmICh0Lmxlbmd0aCA+IDcgJiYgdC5zbGljZSgwLCA3KSA9PT0gXCJkb21haW4vXCIpIHtcblx0XHRcdFx0XHRcdGRvbWFpbiA9IHQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZG9tYWluID09PSBcIlwiKSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRcdFx0YE1pc3NpbmcgZG9tYWluIGZvciBub3RlOiAnJHtwYWdlLmZpbGUucGF0aH0nYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdFx0XHRmb3IgKGNvbnN0IGQgb2YgZG9tYWlucykge1xuXHRcdFx0XHRcdGlmIChkID09PSBkb21haW4pIHtcblx0XHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFmb3VuZCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChUeXBlc1tmbS50eXBlXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihgSW52YWxpZCB0eXBlIGZvciBub3RlOiAnJHtwYWdlLmZpbGUucGF0aH0nYCk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGZtLnR5cGUgPT09IDMgfHxcblx0XHRcdFx0Zm0udHlwZSA9PT0gNCB8fFxuXHRcdFx0XHRmbS50eXBlID09PSA1IHx8XG5cdFx0XHRcdGZtLnR5cGUgPT09IDhcblx0XHRcdCkge1xuXHRcdFx0XHRsZXQgZm91bmQgPSBmYWxzZTtcblx0XHRcdFx0Zm9yIChjb25zdCBzdGF0dXMgb2YgZHJvcFRhc2tzKSB7XG5cdFx0XHRcdFx0aWYgKGZtLnN0YXR1cyA9PT0gc3RhdHVzKSB7XG5cdFx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZm91bmQpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRsZXQgZm91bmQgPSBmYWxzZTtcblx0XHRcdGZvciAoY29uc3QgdCBvZiBub3RlVHlwZXMpIHtcblx0XHRcdFx0aWYgKGZtLnR5cGUgPT09IHQpIHtcblx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCFmb3VuZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGZtLnR5cGUgPT09IDcgfHwgZm0udHlwZSA9PT0gMikge1xuXHRcdFx0XHRpZiAoIXRoaXMubm90ZUhlbHBlci5pc0xhc3RSZXZpc2lvbihwYWdlKSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJzW1R5cGVzW2ZtLnR5cGVdXS5wdXNoKHBhZ2UpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCB0eXBlcyA9IE9iamVjdC5rZXlzKHJzKTtcblx0XHR0eXBlcy5zb3J0KCk7XG5cdFx0Zm9yIChjb25zdCB0IG9mIHR5cGVzKSB7XG5cdFx0XHRpZiAocnNbdF0ubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRyc1t0XS5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGNyZWF0ZWRBdEEgPSB0aGlzLmZyb250bWF0dGVyLmdldENyZWF0ZWRBdChhLmZpbGUpO1xuXHRcdFx0XHRjb25zdCBjcmVhdGVkQXRCID0gdGhpcy5mcm9udG1hdHRlci5nZXRDcmVhdGVkQXQoYi5maWxlKTtcblx0XHRcdFx0cmV0dXJuIGNyZWF0ZWRBdEEuZ2V0VGltZSgpIC0gY3JlYXRlZEF0Qi5nZXRUaW1lKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0YnVmZi5wdXNoKFtcImhlYWRlclwiLCAyLCB0XSk7XG5cdFx0XHRidWZmLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIucmVzb3VyY2VCYXNlLCByc1t0XV0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBidWZmO1xuXHR9XG5cblx0aW5kZXhBcmVhRG9tYWluTWFwKCkge1xuXHRcdGNvbnN0IGRvbWFpbk1hcCA9IHt9O1xuXHRcdGNvbnN0IGFyZWFNYXAgPSB7fTtcblxuXHRcdGZvciAoY29uc3QgbiBvZiB0aGlzLmR2LnBhZ2VzKGBcIjcwMCBMaW5rL0RvbWFpbnNcImApLmFycmF5KCkpIHtcblx0XHRcdGNvbnN0IGZtID0gbi5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZtLm5hbWUgPT09IHVuZGVmaW5lZCB8fCBmbS5uYW1lID09PSBudWxsIHx8IGZtLm5hbWUgPT09IFwiXCIpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIGZpZWxkICduYW1lJyBmb3I6ICR7bi5maWxlLnBhdGh9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcblx0XHRcdFx0Zm0uYXJlYXMgPT09IHVuZGVmaW5lZCB8fFxuXHRcdFx0XHRmbS5hcmVhcyA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdGZtLmFyZWFzLmxlbmd0aCA9PT0gMFxuXHRcdFx0KSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhcmVhIG5vdGU6ICR7bi5maWxlLnBhdGh9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGRvbWFpbiA9IGBkb21haW4vJHtmbS5uYW1lfWA7XG5cblx0XHRcdGlmIChkb21haW5NYXBbZG9tYWluXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGRvbWFpbk1hcFtkb21haW5dID0gW107XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoY29uc3QgYXJlYSBvZiBmbS5hcmVhcykge1xuXHRcdFx0XHRpZiAoIWRvbWFpbk1hcFtkb21haW5dLmNvbnRhaW5zKGFyZWEpKSB7XG5cdFx0XHRcdFx0ZG9tYWluTWFwW2RvbWFpbl0ucHVzaChhcmVhKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChhcmVhTWFwW2FyZWFdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRhcmVhTWFwW2FyZWFdID0gW2RvbWFpbl07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YXJlYU1hcFthcmVhXS5wdXNoKGRvbWFpbik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Ly9cblx0XHQvLyBjb25zdCBkb21haW5zID0gT2JqZWN0LmtleXMoZG9tYWluTWFwKTtcblx0XHQvLyBkb21haW5zLnNvcnQoKTtcblx0XHQvLyBmb3IgKGNvbnN0IGRvbWFpbiBvZiBkb21haW5zKSB7XG5cdFx0Ly8gICBkdi5oZWFkZXIoMiwgZG9tYWluKTtcblx0XHQvLyAgIGZvciAoY29uc3QgYXJlYSBvZiBkb21haW5NYXBbZG9tYWluXSkge1xuXHRcdC8vICAgICBkdi5oZWFkZXIoMywgYXJlYSk7XG5cdFx0Ly8gICB9XG5cdFx0Ly8gfVxuXG5cdFx0Ly8gY29uc3QgYXJlYXMgPSBPYmplY3Qua2V5cyhhcmVhTWFwKTtcblx0XHQvLyBhcmVhcy5zb3J0KCk7XG5cdFx0Ly8gZm9yIChjb25zdCBhcmVhIG9mIGFyZWFzKSB7XG5cdFx0Ly8gICBkdi5oZWFkZXIoMiwgYXJlYSk7XG5cdFx0Ly8gICBmb3IgKGNvbnN0IGRvbWFpbiBvZiBhcmVhTWFwW2FyZWFdKSB7XG5cdFx0Ly8gICAgIGR2LmhlYWRlcigzLCBkb21haW4pO1xuXHRcdC8vICAgfVxuXHRcdC8vIH1cblxuXHRcdHJldHVybiBbZG9tYWluTWFwLCBhcmVhTWFwXTtcblx0fVxuXG5cdGluZGV4Q29tbW9uKHBhdGg6IHN0cmluZykge1xuXHRcdGNvbnN0IGJpbnMgPSB7fTtcblx0XHQvLyBkb21haW5NYXAgZG9tYWluIC0+IFthcmVhc11cblx0XHQvLyBhcmVhTWFwIGFyZWEgLT4gW2RvbWFpbnNdXG5cdFx0Y29uc3QgW2RvbWFpbk1hcCwgYXJlYU1hcF0gPSB0aGlzLmluZGV4QXJlYURvbWFpbk1hcCgpO1xuXHRcdGNvbnN0IG5vdGVzID0gdGhpcy5kdi5wYWdlcyhgXCIke3BhdGh9XCJgKS5hcnJheSgpO1xuXHRcdGNvbnN0IHJzID0gW107XG5cblx0XHRmb3IgKGNvbnN0IG4gb2Ygbm90ZXMpIHtcblx0XHRcdGNvbnN0IGZtID0gbi5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZtLnRhZ3MgPT09IHVuZGVmaW5lZCB8fCBmbS50YWdzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZG9tYWluID0gSGVscGVyLmdldERvbWFpbihmbSk7XG5cdFx0XHRpZiAoZG9tYWluID09PSBcImRvbWFpbi9ub25lXCIpIHtcblx0XHRcdFx0Ly8gY29udGludWU7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBOb2RlOiAke24uZmlsZS5wYXRofWApO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBjb21wb25lbnRzID0gW107XG5cblx0XHRcdGZvciAoY29uc3QgdCBvZiBmbS50YWdzKSB7XG5cdFx0XHRcdGlmICh0Lmxlbmd0aCA+IDEwICYmIHQuc2xpY2UoMCwgMTApID09PSBcImNvbXBvbmVudC9cIikge1xuXHRcdFx0XHRcdGNvbXBvbmVudHMucHVzaCh0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY29tcG9uZW50cy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0Y29tcG9uZW50cy5wdXNoKFwiY29tcG9uZW50L3Vua25vd25cIik7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGFyZWFzID0gZG9tYWluTWFwW2RvbWFpbl07XG5cdFx0XHRpZiAoYXJlYXMgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0YFByb2dyYW1taW5nIGVycm9yICdhcmVhcycgaXMgdW5kZWZpbmVkIGZvciBkb21haW46ICcke2RvbWFpbn0nIG5vdGU6ICcke24uZmlsZS5wYXRofSdgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGNvbnN0IGEgb2YgYXJlYXMpIHtcblx0XHRcdFx0aWYgKGJpbnNbYV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGJpbnNbYV0gPSB7fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvciAoY29uc3QgZCBvZiBhcmVhTWFwW2FdKSB7XG5cdFx0XHRcdFx0aWYgKGJpbnNbYV1bZF0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0Ymluc1thXVtkXSA9IHt9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChkICE9PSBkb21haW4pIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGZvciAoY29uc3QgYyBvZiBjb21wb25lbnRzKSB7XG5cdFx0XHRcdFx0XHRpZiAoYmluc1thXVtkXVtjXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdGJpbnNbYV1bZF1bY10gPSBbbl07XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRiaW5zW2FdW2RdW2NdLnB1c2gobik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgYXJlYXMgPSBPYmplY3Qua2V5cyhiaW5zKTtcblx0XHRhcmVhcy5zb3J0KCk7XG5cdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMSwgXCJDb250ZW50XCJdKTtcblxuXHRcdGZvciAoY29uc3QgYSBvZiBhcmVhcykge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYS5zbGljZSg1KV0pO1xuXHRcdFx0cnMucHVzaChbXCJwYXJhZ3JhcGhcIiwgYCMke2F9YF0pO1xuXHRcdFx0Zm9yIChjb25zdCBkIG9mIGFyZWFNYXBbYV0pIHtcblx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMywgZC5zbGljZSg3KV0pO1xuXHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCBgIyR7ZH1gXSk7XG5cblx0XHRcdFx0Y29uc3QgY29tcG9uZW50cyA9IE9iamVjdC5rZXlzKGJpbnNbYV1bZF0pO1xuXHRcdFx0XHRjb21wb25lbnRzLnNvcnQoKTtcblx0XHRcdFx0Zm9yIChjb25zdCBjIG9mIGNvbXBvbmVudHMpIHtcblx0XHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCA0LCBjLnNsaWNlKDEwKV0pO1xuXHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGAjJHtjfWBdKTtcblx0XHRcdFx0XHRjb25zdCB0YXNrcyA9IGJpbnNbYV1bZF1bY107XG5cblx0XHRcdFx0XHRmb3IgKGNvbnN0IHQgb2YgdGFza3MpIHtcblx0XHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIHRoaXMuZHYuZmlsZUxpbmsodC5maWxlLnBhdGgpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0aW5kZXhSZXNvdXJjZXMoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaW5kZXhDb21tb24oUGF0aHMuUmVzb3VyY2VzKTtcblx0fVxuXG5cdGluZGV4Q29udGVudCgpIHtcblx0XHRyZXR1cm4gdGhpcy5pbmRleENvbW1vbihQYXRocy5SZWZzKTtcblx0fVxuXG5cdGluZGV4S25vd2xlZGdlKCkge1xuXHRcdGNvbnN0IGN1ckZtID0gdGhpcy5mcm9udG1hdHRlci5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoY3VyRm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IGFsbENvbXBvbmVudHMgPSBbXTtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShjdXJGbS5jb21wb25lbnRzKSkge1xuXHRcdFx0Zm9yIChjb25zdCBjb21wb25lbnQgb2YgY3VyRm0uY29tcG9uZW50cykge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0Y29tcG9uZW50Lmxlbmd0aCA+IDEwICYmXG5cdFx0XHRcdFx0Y29tcG9uZW50LnNsaWNlKDAsIDEwKSA9PT0gXCJjb21wb25lbnQvXCJcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0YWxsQ29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YWxsQ29tcG9uZW50cy5wdXNoKGBjb21wb25lbnQvJHtjb21wb25lbnR9YCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBhbGxEb21haW5zID0gW107XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoY3VyRm0uZG9tYWlucykpIHtcblx0XHRcdGZvciAoY29uc3QgZG9tYWluIG9mIGN1ckZtLmRvbWFpbnMpIHtcblx0XHRcdFx0aWYgKGRvbWFpbi5sZW5ndGggPiA3ICYmIGRvbWFpbi5zbGljZSgwLCA3KSA9PT0gXCJkb21haW4vXCIpIHtcblx0XHRcdFx0XHRhbGxEb21haW5zLnB1c2goZG9tYWluKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhbGxEb21haW5zLnB1c2goYGRvbWFpbi8ke2RvbWFpbn1gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGJpbnMgPSB7fTtcblx0XHRsZXQgZ3JvdXBCeSA9IFwiZG9tYWluXCI7XG5cdFx0aWYgKCFIZWxwZXIubmlsQ2hlY2soY3VyRm0uZ3JvdXBfYnkpKSB7XG5cdFx0XHRncm91cEJ5ID0gY3VyRm0uZ3JvdXBfYnk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgW2RvbWFpbk1hcCwgYXJlYU1hcF0gPSB0aGlzLmluZGV4QXJlYURvbWFpbk1hcCgpO1xuXHRcdGNvbnN0IG5vdGVzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLlNsaXBib3h9XCJgKS5hcnJheSgpO1xuXG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRmb3IgKGNvbnN0IG4gb2Ygbm90ZXMpIHtcblx0XHRcdGNvbnN0IGZtID0gbi5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZtLnRhZ3MgPT09IHVuZGVmaW5lZCB8fCBmbS50YWdzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZG9tYWluID0gSGVscGVyLmdldERvbWFpbihmbSk7XG5cdFx0XHRpZiAoZG9tYWluID09PSBcImRvbWFpbi9ub25lXCIpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIE5vZGU6ICR7bi5maWxlLnBhdGh9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghYWxsRG9tYWlucy5jb250YWlucyhkb21haW4pKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBjb21wb25lbnRzID0gW107XG5cblx0XHRcdGxldCBpc0NvbnRlbnQgPSBmYWxzZTtcblx0XHRcdGZvciAoY29uc3QgdCBvZiBmbS50YWdzKSB7XG5cdFx0XHRcdGlmICh0Lmxlbmd0aCA+IDggJiYgdC5zbGljZSgwLCA4KSA9PT0gXCJjb250ZW50L1wiKSB7XG5cdFx0XHRcdFx0aXNDb250ZW50ID0gdHJ1ZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodC5sZW5ndGggPiAxMCAmJiB0LnNsaWNlKDAsIDEwKSA9PT0gXCJjb21wb25lbnQvXCIpIHtcblx0XHRcdFx0XHRjb21wb25lbnRzLnB1c2godCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzQ29udGVudCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNvbXBvbmVudHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGNvbXBvbmVudHMucHVzaChcImNvbXBvbmVudC91bmtub3duXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYmluc1tkb21haW5dID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1tkb21haW5dID0ge307XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoY29uc3QgYyBvZiBjb21wb25lbnRzKSB7XG5cdFx0XHRcdGlmIChiaW5zW2RvbWFpbl1bY10gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGJpbnNbZG9tYWluXVtjXSA9IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJpbnNbZG9tYWluXVtjXS5wdXNoKG4pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDEsIFwiSW5kZXhcIl0pO1xuXHRcdGlmIChncm91cEJ5ID09PSBcImRvbWFpblwiKSB7XG5cdFx0XHRjb25zdCBkb21haW5zID0gT2JqZWN0LmtleXMoYmlucyk7XG5cdFx0XHRkb21haW5zLnNvcnQoKTtcblx0XHRcdGZvciAoY29uc3QgZG9tYWluIG9mIGRvbWFpbnMpIHtcblx0XHRcdFx0aWYgKGRvbWFpbk1hcFtkb21haW5dID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBcIkVycm9yXCJdKTtcblx0XHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCBgZG9tYWluOiAke2RvbWFpbn0gaXMgbm90IGluIG1hcGBdKTtcblx0XHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCBgIyR7ZG9tYWlufWBdKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChhbGxEb21haW5zLmxlbmd0aCA+IDAgJiYgIWFsbERvbWFpbnMuY29udGFpbnMoZG9tYWluKSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgZG9tYWluLnNsaWNlKDcpXSk7XG5cdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGAjJHtkb21haW59YF0pO1xuXHRcdFx0XHRjb25zdCBjb21wb25lbnRzTmFtZXNwYWNlID0gT2JqZWN0LmtleXMoYmluc1tkb21haW5dKTtcblx0XHRcdFx0Y29tcG9uZW50c05hbWVzcGFjZS5zb3J0KCk7XG5cdFx0XHRcdGNvbnN0IGNvbXBvbmVudHMgPSB7fTtcblx0XHRcdFx0Zm9yIChjb25zdCBjb21wb25lbnROYW1lc3BhY2Ugb2YgY29tcG9uZW50c05hbWVzcGFjZSkge1xuXHRcdFx0XHRcdGxldCBmcmFnbWVudCA9IFwiXCI7XG5cdFx0XHRcdFx0Y29uc3QgcyA9IGNvbXBvbmVudE5hbWVzcGFjZS5zcGxpdChcIi9cIik7XG5cdFx0XHRcdFx0Y29uc3QgY29tcG9uZW50ID0gc1sxXTtcblx0XHRcdFx0XHRpZiAocy5sZW5ndGggPT09IDMpIHtcblx0XHRcdFx0XHRcdGZyYWdtZW50ID0gc1syXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGNvbXBvbmVudHNbY29tcG9uZW50XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRjb21wb25lbnRzW2NvbXBvbmVudF0gPSBbZnJhZ21lbnRdO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb21wb25lbnRzW2NvbXBvbmVudF0ucHVzaChmcmFnbWVudCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgY21wID0gT2JqZWN0LmtleXMoY29tcG9uZW50cyk7XG5cdFx0XHRcdGNtcC5zb3J0KCk7XG5cblx0XHRcdFx0Zm9yIChjb25zdCBjb21wb25lbnQgb2YgY21wKSB7XG5cdFx0XHRcdFx0Y29uc3QgZnJhZ21lbnRzID0gY29tcG9uZW50c1tjb21wb25lbnRdO1xuXHRcdFx0XHRcdGZyYWdtZW50cy5zb3J0KCk7XG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0YWxsQ29tcG9uZW50cy5sZW5ndGggPiAwICYmXG5cdFx0XHRcdFx0XHQhYWxsQ29tcG9uZW50cy5jb250YWlucyhgY29tcG9uZW50LyR7Y29tcG9uZW50fWApXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMywgY29tcG9uZW50XSk7XG5cdFx0XHRcdFx0cnMucHVzaChbXCJwYXJhZ3JhcGhcIiwgYCNjb21wb25lbnQvJHtjb21wb25lbnR9YF0pO1xuXG5cdFx0XHRcdFx0aWYgKGZyYWdtZW50cy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IGZyYWdtZW50IG9mIGZyYWdtZW50cykge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBrZXkgPSBgY29tcG9uZW50LyR7Y29tcG9uZW50fSR7ZnJhZ21lbnQgPT09IFwiXCIgPyBcIlwiIDogXCIvXCIgKyBmcmFnbWVudFxuXHRcdFx0XHRcdFx0XHRcdH1gO1xuXHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCBgIyR7a2V5fWBdKTtcblx0XHRcdFx0XHRcdFx0Y29uc3QgdGFza3MgPSBiaW5zW2RvbWFpbl1ba2V5XTtcblx0XHRcdFx0XHRcdFx0aWYgKHRhc2tzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcdFwiYXJyYXlcIixcblx0XHRcdFx0XHRcdFx0XHRcdFJlbmRlcmVyLmtub3dsZWRnZUZ1bGwsXG5cdFx0XHRcdFx0XHRcdFx0XHR0YXNrcyxcblx0XHRcdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb25zdCBrZXkgPSBgY29tcG9uZW50LyR7Y29tcG9uZW50fWA7XG5cdFx0XHRcdFx0XHRjb25zdCB0YXNrcyA9IGJpbnNbZG9tYWluXVtrZXldO1xuXHRcdFx0XHRcdFx0aWYgKHRhc2tzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5rbm93bGVkZ2VGdWxsLCB0YXNrc10pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoZ3JvdXBCeSA9PT0gXCJjb21wb25lbnRcIikge1xuXHRcdFx0Y29uc3QgYnVmZiA9IHt9O1xuXHRcdFx0Zm9yIChjb25zdCBkb21haW4gb2YgT2JqZWN0LmtleXMoYmlucykpIHtcblx0XHRcdFx0Zm9yIChjb25zdCBjb21wb25lbnROYW1lc3BhY2Ugb2YgT2JqZWN0LmtleXMoYmluc1tkb21haW5dKSkge1xuXHRcdFx0XHRcdGxldCBmcmFnbWVudCA9IFwiXCI7XG5cdFx0XHRcdFx0Y29uc3QgcyA9IGNvbXBvbmVudE5hbWVzcGFjZS5zcGxpdChcIi9cIik7XG5cdFx0XHRcdFx0Y29uc3QgY29tcG9uZW50ID0gc1sxXTtcblx0XHRcdFx0XHRpZiAocy5sZW5ndGggPT09IDMpIHtcblx0XHRcdFx0XHRcdGZyYWdtZW50ID0gc1syXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoYnVmZltjb21wb25lbnRdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGJ1ZmZbY29tcG9uZW50XSA9IHt9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoYnVmZltjb21wb25lbnRdW2ZyYWdtZW50XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRidWZmW2NvbXBvbmVudF1bZnJhZ21lbnRdID0ge307XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChidWZmW2NvbXBvbmVudF1bZnJhZ21lbnRdW2RvbWFpbl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0YnVmZltjb21wb25lbnRdW2ZyYWdtZW50XVtkb21haW5dID0gW1xuXHRcdFx0XHRcdFx0XHQuLi5iaW5zW2RvbWFpbl1bY29tcG9uZW50TmFtZXNwYWNlXSxcblx0XHRcdFx0XHRcdF07XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgdGFzayBvZiBiaW5zW2RvbWFpbl1bY29tcG9uZW50TmFtZXNwYWNlXSkge1xuXHRcdFx0XHRcdFx0XHRidWZmW2NvbXBvbmVudF1bZnJhZ21lbnRdW2RvbWFpbl0ucHVzaCh0YXNrKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgY29tcG9uZW50cyA9IE9iamVjdC5rZXlzKGJ1ZmYpO1xuXHRcdFx0Y29tcG9uZW50cy5zb3J0KCk7XG5cdFx0XHRmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBjb21wb25lbnRzKSB7XG5cdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGNvbXBvbmVudF0pO1xuXHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCBgI2NvbXBvbmVudC8ke2NvbXBvbmVudH1gXSk7XG5cdFx0XHRcdGNvbnN0IGZyYWdtZW50cyA9IE9iamVjdC5rZXlzKGJ1ZmZbY29tcG9uZW50XSk7XG5cdFx0XHRcdGZyYWdtZW50cy5zb3J0KCk7XG5cblx0XHRcdFx0Zm9yIChjb25zdCBmcmFnbWVudCBvZiBmcmFnbWVudHMpIHtcblx0XHRcdFx0XHRpZiAoZnJhZ21lbnQgIT09IFwiXCIpIHtcblx0XHRcdFx0XHRcdHJzLnB1c2goW1xuXHRcdFx0XHRcdFx0XHRcInBhcmFncmFwaFwiLFxuXHRcdFx0XHRcdFx0XHRgI2NvbXBvbmVudC8ke2NvbXBvbmVudH0vJHtmcmFnbWVudH1gLFxuXHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29uc3QgZG9tYWlucyA9IE9iamVjdC5rZXlzKGJ1ZmZbY29tcG9uZW50XVtmcmFnbWVudF0pO1xuXHRcdFx0XHRcdGRvbWFpbnMuc29ydCgpO1xuXHRcdFx0XHRcdGZvciAoY29uc3QgZG9tYWluIG9mIGRvbWFpbnMpIHtcblx0XHRcdFx0XHRcdC8vIGlmIChcblx0XHRcdFx0XHRcdC8vIFx0YWxsRG9tYWlucy5sZW5ndGggPiAwICYmXG5cdFx0XHRcdFx0XHQvLyBcdCFhbGxEb21haW5zLmNvbnRhaW5zKGRvbWFpbilcblx0XHRcdFx0XHRcdC8vICkge1xuXHRcdFx0XHRcdFx0Ly8gXHRjb250aW51ZTtcblx0XHRcdFx0XHRcdC8vIH1cblxuXHRcdFx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMywgZG9tYWluLnNsaWNlKDcpXSk7XG5cdFx0XHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCBgIyR7ZG9tYWlufWBdKTtcblx0XHRcdFx0XHRcdGNvbnN0IHRhc2tzID0gYnVmZltjb21wb25lbnRdW2ZyYWdtZW50XVtkb21haW5dO1xuXG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdFx0XHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFx0XHRcdFx0XCJwYXJhZ3JhcGhcIixcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmR2LmZpbGVMaW5rKHRhc2suZmlsZS5wYXRoKSxcblx0XHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IG9udG9sb2d5TWFwID0ge307XG5cdFx0XHRjb25zdCBwYWdlcyA9IHt9O1xuXHRcdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGJpbnMpO1xuXHRcdFx0a2V5cy5zb3J0KCk7XG5cdFx0XHRmb3IgKGNvbnN0IGRvbWFpbiBvZiBrZXlzKSB7XG5cdFx0XHRcdGNvbnN0IGtleXMyID0gT2JqZWN0LmtleXMoYmluc1tkb21haW5dKTtcblx0XHRcdFx0a2V5czIuc29ydCgpO1xuXHRcdFx0XHRmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBrZXlzMikge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgdGFzayBvZiBiaW5zW2RvbWFpbl1bY29tcG9uZW50XSkge1xuXHRcdFx0XHRcdFx0aWYgKHRhc2suZmlsZS5mcm9udG1hdHRlci51dWlkID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0XHRcdFx0XHRwYWdlc1t0YXNrLmZpbGUuZnJvbnRtYXR0ZXIudXVpZF0gIT09IHVuZGVmaW5lZFxuXHRcdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cGFnZXNbdGFzay5maWxlLmZyb250bWF0dGVyLnV1aWRdID0gdGFzaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qga2V5czMgPSBPYmplY3Qua2V5cyhwYWdlcyk7XG5cdFx0XHRrZXlzMy5zb3J0KCk7XG5cblx0XHRcdGZvciAoY29uc3QgdXVpZCBvZiBrZXlzMykge1xuXHRcdFx0XHRjb25zdCBwYWdlID0gcGFnZXNbdXVpZF07XG5cdFx0XHRcdGNvbnN0IGZtID0gcGFnZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRjb25zdCBkb21haW4gPSBIZWxwZXIuZ2V0RG9tYWluKGZtKTtcblx0XHRcdFx0Y29uc3QgY29tcG9uZW50cyA9IFtdO1xuXHRcdFx0XHRmb3IgKGNvbnN0IHRhZyBvZiBmbS50YWdzKSB7XG5cdFx0XHRcdFx0aWYgKHRhZy5sZW5ndGggPiAxMCAmJiB0YWcuc2xpY2UoMCwgMTApID09PSBcImNvbXBvbmVudC9cIikge1xuXHRcdFx0XHRcdFx0Y29tcG9uZW50cy5wdXNoKHRhZyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGxldCBzID0gXCJcIjtcblx0XHRcdFx0cyArPSBgJHtkb21haW59XFxuYDtcblx0XHRcdFx0Y29tcG9uZW50cy5zb3J0KCk7XG5cdFx0XHRcdGZvciAoY29uc3QgY29tcG9uZW50IG9mIGNvbXBvbmVudHMpIHtcblx0XHRcdFx0XHRzICs9IGAke2NvbXBvbmVudH1cXG5gO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IGtleSA9IHM7XG5cdFx0XHRcdGlmIChvbnRvbG9neU1hcFtrZXldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRvbnRvbG9neU1hcFtrZXldID0gW3BhZ2VdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG9udG9sb2d5TWFwW2tleV0ucHVzaChwYWdlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBrZXlzNCA9IE9iamVjdC5rZXlzKG9udG9sb2d5TWFwKTtcblx0XHRcdGtleXM0LnNvcnQoKGEsIGIpID0+IG9udG9sb2d5TWFwW2FdLmxlbmd0aCAtIG9udG9sb2d5TWFwW2JdLmxlbmd0aCk7XG5cdFx0XHRmb3IgKGNvbnN0IGtleSBvZiBrZXlzNC5yZXZlcnNlKCkpIHtcblx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwga2V5XSk7XG5cdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBvbnRvbG9neU1hcFtrZXldKSB7XG5cdFx0XHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFx0XHRcInBhcmFncmFwaFwiLFxuXHRcdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQodGhpcy5kdiwgcGFnZS5maWxlKSxcblx0XHRcdFx0XHRdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBjb25zdCBteXV1aWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGdldFByb2plY3RUYXNrcyhwcm9qZWN0OiBzdHJpbmcpIHtcblx0XHRyZXR1cm4gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGNvbnN0IGZtID0gcGFnZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKHBhZ2UudHlwZSAhPT0gVHlwZXMuVGFzayAmJiBwYWdlLnR5cGUgIT09IFR5cGVzLk1lZGlhKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdGlmIChcblx0XHRcdFx0SGVscGVyLmdldFByb2plY3QoZm0pICE9PVxuXHRcdFx0XHRgJHtOYW1lc3BhY2UuUHJvamVjdH0vJHtwcm9qZWN0ID09PSBcImFkaG9jXCIgPyBcIm5vbmVcIiA6IHByb2plY3R9YFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdGlmIChmbS5zdGF0dXMgPT09IFN0YXR1cy5Eb25lKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJvamVjdFRhc2tzU2hlZXRSZWxhdGlvbkZyb250bWF0dGVyKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHQvLyBkY29uc3QgZm1sID0gY3VycmVudC5maWxlLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMoY3VycmVudCk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0bmFtZTogZm0uZ2V0TmFtZSgpLFxuXHRcdFx0dXVpZDogZm0udXVpZCxcblx0XHR9O1xuXHR9XG5cblx0Y29udGV4dFRhc2tzU2hlZXQoZHYpIHtcblx0XHQvLyBjb25zdCBwcm9qZWN0ID0gdGhpcy5wcm9qZWN0VGFza3NTaGVldFJlbGF0aW9uRnJvbnRtYXR0ZXIoZHYpO1xuXHRcdGNvbnN0IG1pblByaW9yaXR5ID0gMDtcblxuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Ly8gcnMucHVzaChbXCJoZWFkZXJcIiwgMiwgcHJvamVjdC5uYW1lXSk7XG5cblx0XHRjb25zdCBiaW5zID0ge1xuXHRcdFx0ZG9hYmxlOiBbXSxcblx0XHRcdHdhaXRpbmc6IFtdLFxuXHRcdFx0am91cm5hbDogW10sXG5cdFx0fTtcblxuXHRcdC8vIGNvbnN0IHRhc2tzID0gdGhpcy5nZXRQcm9qZWN0VGFza3MocHJvamVjdC5uYW1lKTtcblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRjb25zdCBmbSA9IHBhZ2UuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChwYWdlLnR5cGUgIT09IFR5cGVzLlRhc2sgJiYgcGFnZS50eXBlICE9PSBUeXBlcy5NZWRpYSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChmbS5zdGF0dXMgPT09IFN0YXR1cy5Eb25lKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZm1qcyA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0aWYgKGZtanMuZ2V0Q29udGV4dCgpICE9PSBgb3V0c2lkZWApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdGZvciAoY29uc3QgdGFzayBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cblx0XHRcdGlmIChmbS5wcmlvcml0eSAhPT0gdW5kZWZpbmVkICYmIGZtLnByaW9yaXR5IDwgbWluUHJpb3JpdHkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLm5vdGVIZWxwZXIuaXNEb2FibGUodGFzaykpIHtcblx0XHRcdFx0Ymlucy5kb2FibGUucHVzaCh0YXNrKTtcblx0XHRcdH0gZWxzZSBpZiAoZm0uc3RhdHVzID09PSBTdGF0dXMuVG9kbykge1xuXHRcdFx0XHRiaW5zLndhaXRpbmcucHVzaCh0YXNrKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChiaW5zLmRvYWJsZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgTmV4dCBBY3Rpb25zICgke2JpbnMuZG9hYmxlLmxlbmd0aH0pYF0pO1xuXHRcdFx0Ymlucy5kb2FibGUuc29ydChcblx0XHRcdFx0KGEsIGIpID0+XG5cdFx0XHRcdFx0KGEuZmlsZS5mcm9udG1hdHRlci5wcmlvcml0eSAtXG5cdFx0XHRcdFx0XHRiLmZpbGUuZnJvbnRtYXR0ZXIucHJpb3JpdHkpICpcblx0XHRcdFx0XHQtMSxcblx0XHRcdCk7XG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmJhc2ljVGFza0pvdXJuYWwsIGJpbnMuZG9hYmxlXSk7XG5cdFx0fVxuXG5cdFx0Ly8gY29uc29sZS5sb2coYmlucy53YWl0aW5nKTtcblx0XHRpZiAoYmlucy53YWl0aW5nLmxlbmd0aCA+IDApIHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGBXYWl0aW5nICgke2JpbnMud2FpdGluZy5sZW5ndGh9KWBdKTtcblx0XHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRcdGZvciAoY29uc3QgdGFzayBvZiBiaW5zLndhaXRpbmcpIHtcblx0XHRcdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdC8vIGlmIChmbS5uZWVkcyAhPT0gdW5kZWZpbmVkICYmIGZtLm5lZWRzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0Ly8gXHRmbS5jYXVzZSA9IGZtLm5lZWRzO1xuXHRcdFx0XHQvLyB9IGVsc2UgaWYgKGZtLmFmdGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gXHRmbS5jYXVzZSA9IGBhZnRlcjogJHtmbS5hZnRlcn1gO1xuXHRcdFx0XHQvLyB9IGVsc2Uge1xuXHRcdFx0XHQvLyBcdGZtLmNhdXNlID0gXCJ1bmtub3duXCI7XG5cdFx0XHRcdC8vIH1cblx0XHRcdFx0Zm0uY2F1c2UgPSBcInVua25vd25cIjtcblx0XHRcdFx0YnVmZi5wdXNoKHRhc2spO1xuXHRcdFx0fVxuXG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLndhaXRpbmdUYXNrLCBidWZmXSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0cHJvamVjdFRhc2tzU2hlZXRSZWxhdGlvbihkdikge1xuXHRcdGNvbnN0IHByb2plY3QgPSB0aGlzLnByb2plY3RUYXNrc1NoZWV0UmVsYXRpb25Gcm9udG1hdHRlcihkdik7XG5cdFx0Y29uc3QgbWluUHJpb3JpdHkgPSAwO1xuXG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHQvLyBycy5wdXNoKFtcImhlYWRlclwiLCAyLCBwcm9qZWN0Lm5hbWVdKTtcblxuXHRcdGNvbnN0IGJpbnMgPSB7XG5cdFx0XHRuZXh0QWN0aW9uOiBbXSxcblx0XHRcdGRvYWJsZTogW10sXG5cdFx0XHR3YWl0aW5nOiBbXSxcblx0XHRcdGpvdXJuYWw6IFtdLFxuXHRcdFx0bWF5YmU6IFtdLFxuXHRcdH07XG5cblx0XHRjb25zdCB0YXNrcyA9IHRoaXMuZ2V0UHJvamVjdFRhc2tzKHByb2plY3QubmFtZSk7XG5cblx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXG5cdFx0XHRpZiAoZm0ucHJpb3JpdHkgIT09IHVuZGVmaW5lZCAmJiBmbS5wcmlvcml0eSA8IG1pblByaW9yaXR5KSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5ub3RlSGVscGVyLmlzRG9hYmxlKHRhc2spKSB7XG5cdFx0XHRcdGlmIChmbS5wcmlvcml0eSA9PSA5KSB7XG5cdFx0XHRcdFx0Ymlucy5uZXh0QWN0aW9uLnB1c2godGFzayk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZm0ucHJpb3JpdHkgPiAwKSB7XG5cdFx0XHRcdFx0Ymlucy5kb2FibGUucHVzaCh0YXNrKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRiaW5zLm1heWJlLnB1c2godGFzayk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoZm0uc3RhdHVzID09PSBTdGF0dXMuVG9kbykge1xuXHRcdFx0XHRiaW5zLndhaXRpbmcucHVzaCh0YXNrKTtcblx0XHRcdH0gZWxzZSBpZiAoZm0uc3RhdHVzID09PSBTdGF0dXMuRG9pbmcpIHtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgJHtmbS51dWlkfWApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHtcblx0XHRcdGxldCB0b1JldmlldyA9IDA7XG5cdFx0XHRjb25zdCBsb2dzID0gdGhpcy5nZXRQcm9qZWN0TG9ncyhkdiwgcHJvamVjdCk7XG5cdFx0XHRmb3IgKGNvbnN0IGxvZyBvZiBsb2dzKSB7XG5cdFx0XHRcdGlmIChsb2cuZmlsZS5mcm9udG1hdHRlci5yZXZpZXdlZCA8IDEpIHtcblx0XHRcdFx0XHR0b1JldmlldyArPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGBQZW5kaW5nIExvZ3MgKCR7dG9SZXZpZXd9KWBdKTtcblx0XHRcdC8vIGlmICh0b1JldmlldyA+IDApIHtcblx0XHRcdC8vIFx0cnMucHVzaChbXG5cdFx0XHQvLyBcdFx0XCJwYXJhZ3JhcGhcIixcblx0XHRcdC8vIFx0XHRgW1ske1BhdGhzLlByb2plY3RzfS8ke3Byb2plY3QubmFtZSA9PT0gXCJhZGhvY1wiID8gXCJhZCBob2NcIiA6IHByb2plY3QubmFtZVxuXHRcdFx0Ly8gXHRcdH0vbG9nc11dYCxcblx0XHRcdC8vIFx0XSk7XG5cdFx0XHQvLyB9XG5cdFx0fVxuXG5cdFx0Ly8gcmV0dXJuIHJzO1xuXHRcdC8vIGdyb3VwQnkgbGF5ZXIsID8/XG5cdFx0aWYgKGJpbnMubmV4dEFjdGlvbi5sZW5ndGggPiAwKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgTmV4dCBBY3Rpb25zICgke2JpbnMuZG9hYmxlLmxlbmd0aH0pYF0pO1xuXHRcdFx0Ymlucy5uZXh0QWN0aW9uLnNvcnQoXG5cdFx0XHRcdChhLCBiKSA9PlxuXHRcdFx0XHRcdChhLmZpbGUuZnJvbnRtYXR0ZXIucHJpb3JpdHkgLVxuXHRcdFx0XHRcdFx0Yi5maWxlLmZyb250bWF0dGVyLnByaW9yaXR5KSAqXG5cdFx0XHRcdFx0LTEsXG5cdFx0XHQpO1xuXHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5iYXNpY1Rhc2tKb3VybmFsLCBiaW5zLm5leHRBY3Rpb25dKTtcblx0XHR9XG5cblx0XHRpZiAoYmlucy5kb2FibGUubGVuZ3RoID4gMCkge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYERvYWJsZSAoJHtiaW5zLmRvYWJsZS5sZW5ndGh9KWBdKTtcblx0XHRcdGJpbnMuZG9hYmxlLnNvcnQoXG5cdFx0XHRcdChhLCBiKSA9PlxuXHRcdFx0XHRcdChhLmZpbGUuZnJvbnRtYXR0ZXIucHJpb3JpdHkgLVxuXHRcdFx0XHRcdFx0Yi5maWxlLmZyb250bWF0dGVyLnByaW9yaXR5KSAqXG5cdFx0XHRcdFx0LTEsXG5cdFx0XHQpO1xuXHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5iYXNpY1Rhc2tKb3VybmFsLCBiaW5zLmRvYWJsZV0pO1xuXHRcdH1cblxuXHRcdGlmIChiaW5zLndhaXRpbmcubGVuZ3RoID4gMCkge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYFdhaXRpbmcgKCR7Ymlucy53YWl0aW5nLmxlbmd0aH0pYF0pO1xuXHRcdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdFx0Zm9yIChjb25zdCB0YXNrIG9mIGJpbnMud2FpdGluZykge1xuXHRcdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdFx0aWYgKGZtLm5lZWRzICE9PSB1bmRlZmluZWQgJiYgZm0ubmVlZHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGZtLmNhdXNlID0gZm0ubmVlZHM7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZm0uYWZ0ZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGZtLmNhdXNlID0gYGFmdGVyOiAke2ZtLmFmdGVyfWA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm0uY2F1c2UgPSBcInVua25vd25cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRidWZmLnB1c2godGFzayk7XG5cdFx0XHR9XG5cblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIud2FpdGluZ1Rhc2ssIGJ1ZmZdKTtcblx0XHR9XG5cblx0XHRpZiAoYmlucy5tYXliZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgTWF5YmVgXSk7XG5cdFx0XHRiaW5zLm1heWJlLnNvcnQoXG5cdFx0XHRcdChhLCBiKSA9PlxuXHRcdFx0XHRcdChhLmZpbGUuZnJvbnRtYXR0ZXIucHJpb3JpdHkgLVxuXHRcdFx0XHRcdFx0Yi5maWxlLmZyb250bWF0dGVyLnByaW9yaXR5KSAqXG5cdFx0XHRcdFx0LTEsXG5cdFx0XHQpO1xuXHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5yZWFkeVRhc2ssIGJpbnMubWF5YmVdKTtcblx0XHRcdC8vIHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNUYXNrLCBiaW5zLmRvYWJsZV0pO1xuXHRcdH1cblxuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZtID0gcGFnZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAocGFnZS50eXBlICE9PSBUeXBlcy5QcmF4aXMpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdEhlbHBlci5nZXRQcm9qZWN0KGZtKSAhPT1cblx0XHRcdFx0XHRgJHtOYW1lc3BhY2UuUHJvamVjdH0vJHtwcm9qZWN0Lm5hbWUgPT09IFwiYWRob2NcIiA/IFwibm9uZVwiIDogcHJvamVjdC5uYW1lXG5cdFx0XHRcdFx0fWBcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChmbS5zdGF0dXMgPT09IFN0YXR1cy5Eb25lKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSlcblx0XHRcdC5hcnJheSgpO1xuXG5cdFx0aWYgKHBhZ2VzLmxlbmd0aCA+IDApIHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDMsIFwiUHJheGlzXCJdKTtcblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIucHJheGlzQmFzZSwgcGFnZXNdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRwcm9qZWN0TG9nc1NoZWV0UmVsYXRpb24oZHYpIHtcblx0XHRjb25zdCBwcm9qZWN0ID0gdGhpcy5wcm9qZWN0VGFza3NTaGVldFJlbGF0aW9uRnJvbnRtYXR0ZXIoZHYpO1xuXG5cdFx0Ly8gY29uc3QgZmlsdGVyQnkgPSB0aGlzLmZyb250bWF0dGVyLnBhcnNlTGlzdEZpbHRlckJ5KGZtbCk7XG5cdFx0Y29uc3QgZmlsdGVyQnkgPSBbXTtcblx0XHRjb25zdCBycyA9IFtdO1xuXG5cdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgXCJMb2dzXCJdKTtcblxuXHRcdGNvbnN0IGxvZ3MgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc31cImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRpZiAocGFnZS50eXBlICE9PSBUeXBlcy5Mb2cpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5yZXZpZXdlZCA+IDApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBidWZmID0ge307XG5cdFx0Zm9yIChjb25zdCBlIG9mIGxvZ3MpIHtcblx0XHRcdGNvbnN0IGZtID0gZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZpbHRlckJ5Lmxlbmd0aCA+IDAgJiYgIXRoaXMubmFtZUluTmFtZXNwYWNlKGZtLCBmaWx0ZXJCeSkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGZtLmNyZWF0ZWRBdCA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3JlYXRlZEF0KGUuZmlsZSk7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS5wYXJlbnRfaWQpLFxuXHRcdFx0XHRgTWlzc2luZyBmaWVsZCBcInBhcmVudF9pZFwiIGZyb20gbG9nOiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgcGFyZW50ID0gdGhpcy5kdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc30vJHtmbS5wYXJlbnRfaWR9XCJgKVxuXHRcdFx0XHQuYXJyYXkoKTtcblx0XHRcdGlmIChwYXJlbnQubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdHBhcmVudC5sZW5ndGggPT09IDEsXG5cdFx0XHRcdGBQYXJlbnQ6ICR7Zm0ucGFyZW50X2lkfSBub3QgZm91bmQgZm9yIGxvZzogXCIke2ZtLnV1aWR9XCJgLFxuXHRcdFx0KTtcblx0XHRcdGZtLnByb2plY3QgPSBIZWxwZXIuZ2V0UHJvamVjdChwYXJlbnRbMF0uZmlsZS5mcm9udG1hdHRlcik7XG5cdFx0XHRmbS5hcmVhID0gSGVscGVyLmdldEFyZWEocGFyZW50WzBdLmZpbGUuZnJvbnRtYXR0ZXIsIHRydWUpO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRmbS5wcm9qZWN0ICE9PVxuXHRcdFx0XHRgcHJvamVjdC8ke3Byb2plY3QubmFtZSA9PT0gXCJhZGhvY1wiID8gXCJub25lXCIgOiBwcm9qZWN0Lm5hbWV9YFxuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoSGVscGVyLm5pbENoZWNrKGZtLmRvbmVfYXQpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgZGF0ZSA9IGZtLmRvbmVfYXQuc2xpY2UoMCwgMTApO1xuXG5cdFx0XHRpZiAoYnVmZltkYXRlXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJ1ZmZbZGF0ZV0gPSBbZV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRidWZmW2RhdGVdLnB1c2goZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGJ1ZmYpO1xuXHRcdGtleXMuc29ydCgpO1xuXHRcdGZvciAoY29uc3QgZGF0ZSBvZiBrZXlzKSB7XG5cdFx0XHRidWZmW2RhdGVdLnNvcnQoXG5cdFx0XHRcdChhLCBiKSA9PlxuXHRcdFx0XHRcdGIuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQuZ2V0VGltZSgpIC1cblx0XHRcdFx0XHRhLmZpbGUuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0LmdldFRpbWUoKSxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBkYXRlIG9mIGtleXMucmV2ZXJzZSgpKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAzLCBkYXRlXSk7XG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLnByb2plY3RMb2dzLCBidWZmW2RhdGVdXSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cdHByb2plY3RUYXNrc1NoZWV0KGR2KSB7XG5cdFx0Y29uc3QgcHJvamVjdCA9IHRoaXMuZnJvbnRtYXR0ZXIucHJvamVjdFBhcnNlTWV0YShkdik7XG5cdFx0Y29uc3QgZm1sID0gdGhpcy5mcm9udG1hdHRlci5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm1sID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmcm9udG1hdHRlciwgY2Fubm90IHByb2NlZWRgKTtcblx0XHR9XG5cblx0XHRjb25zdCBtaW5Qcmlvcml0eSA9XG5cdFx0XHRmbWwubWluX3ByaW9yaXR5ID09PSB1bmRlZmluZWQgPyAwIDogZm1sLm1pbl9wcmlvcml0eTtcblx0XHRjb25zdCBqb3VybmFsID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLkpvdXJuYWx9XCJgKS5hcnJheSgpWzBdLmZpbGVcblx0XHRcdC5mcm9udG1hdHRlci50YXNrcztcblxuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMSwgcHJvamVjdC5uYW1lXSk7XG5cblx0XHRjb25zdCBiaW5zID0ge1xuXHRcdFx0ZG9hYmxlOiBbXSxcblx0XHRcdHdhaXRpbmc6IFtdLFxuXHRcdFx0am91cm5hbDogW10sXG5cdFx0XHRtYXliZTogW10sXG5cdFx0XHRwcmF4aXM6IFtdLFxuXHRcdH07XG5cblx0XHRjb25zdCB0YXNrcyA9IHRoaXMuZ2V0UHJvamVjdFRhc2tzKHByb2plY3QubmFtZSk7XG5cblx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXG5cdFx0XHRpZiAoZm0ucHJpb3JpdHkgIT09IHVuZGVmaW5lZCAmJiBmbS5wcmlvcml0eSA8IG1pblByaW9yaXR5KSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5ub3RlSGVscGVyLmlzRG9hYmxlKHRhc2spKSB7XG5cdFx0XHRcdGJpbnMuZG9hYmxlLnB1c2godGFzayk7XG5cdFx0XHR9IGVsc2UgaWYgKGZtLnN0YXR1cyA9PT0gU3RhdHVzLlRvZG8pIHtcblx0XHRcdFx0Ymlucy53YWl0aW5nLnB1c2godGFzayk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRiaW5zLm1heWJlLnB1c2godGFzayk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0e1xuXHRcdFx0bGV0IHRvUmV2aWV3ID0gMDtcblx0XHRcdGNvbnN0IGxvZ3MgPSB0aGlzLmdldFByb2plY3RMb2dzKGR2LCBwcm9qZWN0KTtcblx0XHRcdGZvciAoY29uc3QgbG9nIG9mIGxvZ3MpIHtcblx0XHRcdFx0aWYgKGxvZy5maWxlLmZyb250bWF0dGVyLnJldmlld2VkIDwgMSkge1xuXHRcdFx0XHRcdHRvUmV2aWV3ICs9IDE7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGBQZW5kaW5nIExvZ3MgKCR7dG9SZXZpZXd9KWBdKTtcblx0XHRcdGlmICh0b1JldmlldyA+IDApIHtcblx0XHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFx0XCJwYXJhZ3JhcGhcIixcblx0XHRcdFx0XHRgW1ske1BhdGhzLlByb2plY3RzfS8ke3Byb2plY3QubmFtZSA9PT0gXCJhZGhvY1wiID8gXCJhZCBob2NcIiA6IHByb2plY3QubmFtZVxuXHRcdFx0XHRcdH0vbG9nc11dYCxcblx0XHRcdFx0XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIGdyb3VwQnkgbGF5ZXIsID8/XG5cdFx0aWYgKGJpbnMuZG9hYmxlLmxlbmd0aCA+IDApIHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGBOZXh0IEFjdGlvbnMgKCR7Ymlucy5kb2FibGUubGVuZ3RofSlgXSk7XG5cdFx0XHRiaW5zLmRvYWJsZS5zb3J0KFxuXHRcdFx0XHQoYSwgYikgPT5cblx0XHRcdFx0XHQoYS5maWxlLmZyb250bWF0dGVyLnByaW9yaXR5IC1cblx0XHRcdFx0XHRcdGIuZmlsZS5mcm9udG1hdHRlci5wcmlvcml0eSkgKlxuXHRcdFx0XHRcdC0xLFxuXHRcdFx0KTtcblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNUYXNrSm91cm5hbCwgYmlucy5kb2FibGVdKTtcblx0XHR9XG5cblx0XHRpZiAoYmlucy53YWl0aW5nLmxlbmd0aCA+IDApIHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGBXYWl0aW5nICgke2JpbnMud2FpdGluZy5sZW5ndGh9KWBdKTtcblx0XHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRcdGZvciAoY29uc3QgdGFzayBvZiBiaW5zLndhaXRpbmcpIHtcblx0XHRcdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGlmIChmbS5uZWVkcyAhPT0gdW5kZWZpbmVkICYmIGZtLm5lZWRzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRmbS5jYXVzZSA9IGZtLm5lZWRzO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGZtLmFmdGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRmbS5jYXVzZSA9IGBhZnRlcjogJHtmbS5hZnRlcn1gO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZtLmNhdXNlID0gXCJ1bmtub3duXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnVmZi5wdXNoKHRhc2spO1xuXHRcdFx0fVxuXG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLndhaXRpbmdUYXNrLCBidWZmXSk7XG5cdFx0fVxuXG5cdFx0aWYgKGJpbnMubWF5YmUubGVuZ3RoID4gMCkge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYE1heWJlYF0pO1xuXHRcdFx0Ymlucy5tYXliZS5zb3J0KFxuXHRcdFx0XHQoYSwgYikgPT5cblx0XHRcdFx0XHQoYS5maWxlLmZyb250bWF0dGVyLnByaW9yaXR5IC1cblx0XHRcdFx0XHRcdGIuZmlsZS5mcm9udG1hdHRlci5wcmlvcml0eSkgKlxuXHRcdFx0XHRcdC0xLFxuXHRcdFx0KTtcblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIucmVhZHlUYXNrLCBiaW5zLm1heWJlXSk7XG5cdFx0XHQvLyBycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmJhc2ljVGFzaywgYmlucy5kb2FibGVdKTtcblx0XHR9XG5cblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRjb25zdCBmbSA9IHBhZ2UuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdFx0aWYgKHBhZ2UudHlwZSAhPT0gVHlwZXMuUHJheGlzKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRIZWxwZXIuZ2V0UHJvamVjdChmbSkgIT09XG5cdFx0XHRcdFx0YCR7TmFtZXNwYWNlLlByb2plY3R9LyR7cHJvamVjdC5uYW1lID09PSBcImFkaG9jXCIgPyBcIm5vbmVcIiA6IHByb2plY3QubmFtZVxuXHRcdFx0XHRcdH1gXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZm0uc3RhdHVzID09PSBTdGF0dXMuRG9uZSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0pXG5cdFx0XHQuYXJyYXkoKTtcblxuXHRcdGlmIChwYWdlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAzLCBcIlByYXhpc1wiXSk7XG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLnByYXhpc0Jhc2UsIHBhZ2VzXSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0Z2V0UHJvamVjdExvZ3MoZHYsIHByb2plY3QpIHtcblx0XHRjb25zdCBsb2dzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLkxvZ3N9XCJgKS53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0aWYgKHBhZ2UudHlwZSAhPT0gVHlwZXMuTG9nKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgZSBvZiBsb2dzKSB7XG5cdFx0XHRjb25zdCBmbSA9IGUuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHQhSGVscGVyLm5pbENoZWNrKGZtLnBhcmVudF9pZCksXG5cdFx0XHRcdGBNaXNzaW5nIGZpZWxkIFwicGFyZW50X2lkXCIgZnJvbSBsb2c6IFwiJHtmbS51dWlkfVwiYCxcblx0XHRcdCk7XG5cdFx0XHRjb25zdCBwYXJlbnQgPSB0aGlzLmR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2ZtLnBhcmVudF9pZH1cImApXG5cdFx0XHRcdC5hcnJheSgpO1xuXHRcdFx0aWYgKHBhcmVudC5sZW5ndGggIT09IDEpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHQvLyBBc3NlcnQuVHJ1ZShcblx0XHRcdC8vIFx0cGFyZW50Lmxlbmd0aCA9PT0gMSxcblx0XHRcdC8vIFx0YFBhcmVudDogJHtmbS5wYXJlbnRfaWR9IG5vdCBmb3VuZCBmb3IgbG9nOiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHQvLyApO1xuXHRcdFx0Zm0ucHJvamVjdCA9IEhlbHBlci5nZXRQcm9qZWN0KHBhcmVudFswXS5maWxlLmZyb250bWF0dGVyKTtcblx0XHRcdGZtLmFyZWEgPSBIZWxwZXIuZ2V0QXJlYShwYXJlbnRbMF0uZmlsZS5mcm9udG1hdHRlciwgdHJ1ZSk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGZtLnByb2plY3QgIT09XG5cdFx0XHRcdGBwcm9qZWN0LyR7cHJvamVjdC5uYW1lID09PSBcImFkaG9jXCIgPyBcIm5vbmVcIiA6IHByb2plY3QubmFtZX1gXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZm0uZG9uZV9hdCkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRidWZmLnB1c2goZSk7XG5cdFx0fVxuXHRcdHJldHVybiBidWZmO1xuXHR9XG5cblx0cHJvamVjdExvZ3NTaGVldChkdikge1xuXHRcdGNvbnN0IHByb2plY3QgPSB0aGlzLmZyb250bWF0dGVyLnByb2plY3RQYXJzZU1ldGEoZHYpO1xuXHRcdGNvbnN0IGZtbCA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0aWYgKGZtbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXIsIGNhbm5vdCBwcm9jZWVkYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgYmVmb3JlID0gSGVscGVyLm5pbENoZWNrKGZtbC5iZWZvcmUpXG5cdFx0XHQ/IG5ldyBEYXRlKDApXG5cdFx0XHQ6IG5ldyBEYXRlKGZtbC5iZWZvcmUpO1xuXHRcdGNvbnN0IGFmdGVyID0gSGVscGVyLm5pbENoZWNrKGZtbC5hZnRlcilcblx0XHRcdD8gbmV3IERhdGUoKVxuXHRcdFx0OiBuZXcgRGF0ZShmbWwuYWZ0ZXIpO1xuXG5cdFx0Ly8gY29uc29sZS5sb2coYGJlZm9yZTogJyR7YmVmb3JlfSdgKTtcblx0XHQvLyBjb25zb2xlLmxvZyhgYWZ0ZXI6ICcke2FmdGVyfSdgKTtcblx0XHRjb25zdCBmaWx0ZXJCeSA9IHRoaXMuZnJvbnRtYXR0ZXIucGFyc2VMaXN0RmlsdGVyQnkoZm1sKTtcblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGxldCB0b3RhbFRpbWUgPSAwO1xuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDEsIHByb2plY3QubmFtZV0pO1xuXG5cdFx0Y29uc3QgbG9ncyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5Mb2dzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGlmIChwYWdlLnR5cGUgIT09IFR5cGVzLkxvZykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSB7fTtcblx0XHRmb3IgKGNvbnN0IGUgb2YgbG9ncykge1xuXHRcdFx0Y29uc3QgZm0gPSBlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZmlsdGVyQnkubGVuZ3RoID4gMCAmJiAhdGhpcy5uYW1lSW5OYW1lc3BhY2UoZm0sIGZpbHRlckJ5KSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Zm0uY3JlYXRlZEF0ID0gdGhpcy5mcm9udG1hdHRlci5nZXRDcmVhdGVkQXQoZS5maWxlKTtcblx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHQhSGVscGVyLm5pbENoZWNrKGZtLnBhcmVudF9pZCksXG5cdFx0XHRcdGBNaXNzaW5nIGZpZWxkIFwicGFyZW50X2lkXCIgZnJvbSBsb2c6IFwiJHtmbS51dWlkfVwiYCxcblx0XHRcdCk7XG5cdFx0XHRjb25zdCBwYXJlbnQgPSB0aGlzLmR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2ZtLnBhcmVudF9pZH1cImApXG5cdFx0XHRcdC5hcnJheSgpO1xuXHRcdFx0aWYgKHBhcmVudC5sZW5ndGggIT09IDEpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHQvLyBBc3NlcnQuVHJ1ZShcblx0XHRcdC8vIFx0cGFyZW50Lmxlbmd0aCA9PT0gMSxcblx0XHRcdC8vIFx0YFBhcmVudDogJHtmbS5wYXJlbnRfaWR9IG5vdCBmb3VuZCBmb3IgbG9nOiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHQvLyApO1xuXHRcdFx0Zm0ucHJvamVjdCA9IEhlbHBlci5nZXRQcm9qZWN0KHBhcmVudFswXS5maWxlLmZyb250bWF0dGVyKTtcblx0XHRcdGZtLmFyZWEgPSBIZWxwZXIuZ2V0QXJlYShwYXJlbnRbMF0uZmlsZS5mcm9udG1hdHRlciwgdHJ1ZSk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGZtLnByb2plY3QgIT09XG5cdFx0XHRcdGBwcm9qZWN0LyR7cHJvamVjdC5uYW1lID09PSBcImFkaG9jXCIgPyBcIm5vbmVcIiA6IHByb2plY3QubmFtZX1gXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZm0uZG9uZV9hdCkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGRhdGUgPSBmbS5kb25lX2F0LnNsaWNlKDAsIDEwKTtcblx0XHRcdGNvbnN0IGNyZWF0ZWRBdCA9IG5ldyBEYXRlKGZtLmNyZWF0ZWRfYXQpO1xuXHRcdFx0Y29uc3QgZG9uZUF0ID0gbmV3IERhdGUoZm0uZG9uZV9hdCk7XG5cblx0XHRcdGlmIChjcmVhdGVkQXQgPiBiZWZvcmUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjcmVhdGVkQXQgPCBhZnRlcikge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJ1ZmZbZGF0ZV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRidWZmW2RhdGVdID0gW2VdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVmZltkYXRlXS5wdXNoKGUpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBkZWx0YSA9IGRvbmVBdC5nZXRUaW1lKCkgLSBjcmVhdGVkQXQuZ2V0VGltZSgpO1xuXG5cdFx0XHR0b3RhbFRpbWUgKz0gZGVsdGE7XG5cdFx0fVxuXG5cdFx0ZHYucGFyYWdyYXBoKFxuXHRcdFx0YF90b3RhbFRpbWUgKGgpOl8gJHtNYXRoLnJvdW5kKCh0b3RhbFRpbWUgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwfWAsXG5cdFx0KTtcblxuXHRcdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhidWZmKTtcblx0XHRrZXlzLnNvcnQoKTtcblx0XHRmb3IgKGNvbnN0IGRhdGUgb2Yga2V5cykge1xuXHRcdFx0YnVmZltkYXRlXS5zb3J0KFxuXHRcdFx0XHQoYSwgYikgPT5cblx0XHRcdFx0XHRiLmZpbGUuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0LmdldFRpbWUoKSAtXG5cdFx0XHRcdFx0YS5maWxlLmZyb250bWF0dGVyLmNyZWF0ZWRBdC5nZXRUaW1lKCksXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgZGF0ZSBvZiBrZXlzLnJldmVyc2UoKSkge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMywgZGF0ZV0pO1xuXHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5wcm9qZWN0TG9ncywgYnVmZltkYXRlXV0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGFsbFRvZG9Qcm9qZWN0cygpIHtcblx0XHRjb25zdCBbYnlBcmVhcywgYnlDb250ZXh0cywgYnlMYXllcnMsIGJ5T3JncywgYnlQcm9qZWN0cywgbWluUHJpb3JpdHldID1cblx0XHRcdHRoaXMuZnJvbnRtYXR0ZXIucGFyc2VUb2RvTGlzdCgpO1xuXHRcdGNvbnN0IGZtbCA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0aWYgKGZtbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXIsIGNhbm5vdCBwcm9jZWVkYCk7XG5cdFx0fVxuXG5cdFx0Ly8gdW5kZWZpbmVkIHwgbnVsbCwgZW1wdHkgYXJyLCBhcnIgMSsgdmFsZXVycyBzdHJcblx0XHRjb25zdCBmaWx0ZXJCeSA9IGZtbC5maWx0ZXJfYnk7XG5cblx0XHQvLyB1bmRlZmluZWQsIG51bGwgfHwgc3RyaW5nIHx8IGVtcHR5IGFyciB8fCBhcnIubGVuIDErW3N0cl1cblx0XHRsZXQgZ3JvdXBCeSA9IGZtbC5ncm91cF9ieTtcblx0XHRpZiAodHlwZW9mIGdyb3VwQnkgPT09IFwidW5kZWZpbmVkXCIgfHwgZ3JvdXBCeSA9PT0gXCJcIikge1xuXHRcdFx0Z3JvdXBCeSA9IFwiXCI7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgZ3JvdXBCeSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFVuc3Vwb3J0ZWQgaW1wbGVtZW50YXRpb24gZ3JvdXBCeTogJyR7Z3JvdXBCeX0nYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdG9kYXkgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuSm91cm5hbH1cImApWzBdLmZpbGUuZnJvbnRtYXR0ZXJcblx0XHRcdC50YXNrcztcblx0XHRjb25zdCBwcm9qZWN0cyA9IHRoaXMubm90ZUhlbHBlci5nZXROYW1lc3BhY2VDb250ZW50KE5hbWVzcGFjZS5Qcm9qZWN0KTtcblx0XHRwcm9qZWN0cy5zb3J0KCk7XG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAxLCBcIlByb2plY3RzXCJdKTtcblxuXHRcdGZvciAoY29uc3QgcHJvamVjdCBvZiBwcm9qZWN0cykge1xuXHRcdFx0Y29uc3QgYmlucyA9IFtdO1xuXHRcdFx0aWYgKHByb2plY3QgPT09IFwibm9uZVwiKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0YXNrcyA9IHRoaXMuZHZcblx0XHRcdFx0LnBhZ2VzKGAjJHtOYW1lc3BhY2UuUHJvamVjdH0vJHtwcm9qZWN0fWApXG5cdFx0XHRcdC53aGVyZShcblx0XHRcdFx0XHQocGFnZSkgPT5cblx0XHRcdFx0XHRcdHBhZ2UudHlwZSA9PT0gVHlwZXMuVGFzayAmJiBwYWdlLnN0YXR1cyA9PT0gU3RhdHVzLlRvZG8sXG5cdFx0XHRcdCk7XG5cdFx0XHRsZXQgZWxDb3VudCA9IDA7XG5cblx0XHRcdGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuXHRcdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGZpbHRlckJ5ICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0XHRmaWx0ZXJCeSAhPT0gbnVsbCAmJlxuXHRcdFx0XHRcdGZpbHRlckJ5Lmxlbmd0aCA+IDBcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0aWYgKCF0aGlzLm5hbWVJbk5hbWVzcGFjZShmbSwgZmlsdGVyQnkpKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodG9kYXkuY29udGFpbnMoZm0udXVpZCkpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChmbS5wcmlvcml0eSAhPT0gdW5kZWZpbmVkICYmIGZtLnByaW9yaXR5IDwgbWluUHJpb3JpdHkpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh0aGlzLm5vdGVIZWxwZXIuaXNEb2FibGUodGFzaykpIHtcblx0XHRcdFx0XHRsZXQgYnkgPSBncm91cEJ5O1xuXHRcdFx0XHRcdGlmIChncm91cEJ5ICE9PSBcIlwiKSB7XG5cdFx0XHRcdFx0XHRieSA9IEhlbHBlci5nZXRUYWcoXG5cdFx0XHRcdFx0XHRcdHRhc2suZmlsZS5mcm9udG1hdHRlcixcblx0XHRcdFx0XHRcdFx0Z3JvdXBCeSxcblx0XHRcdFx0XHRcdFx0dHJ1ZSxcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRpZiAoYnkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0XHRieSA9IFwiXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGJpbnNbYnldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGJpbnNbYnldID0gW3Rhc2tdO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRiaW5zW2J5XS5wdXNoKHRhc2spO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbENvdW50Kys7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGVsQ291bnQgPT09IDApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIHByb2plY3RdKTtcblx0XHRcdGlmIChncm91cEJ5ID09PSBcIlwiKSB7XG5cdFx0XHRcdGJpbnNbXCJcIl0uc29ydChcblx0XHRcdFx0XHQoYSwgYikgPT5cblx0XHRcdFx0XHRcdGEuZmlsZS5mcm9udG1hdHRlci5wcmlvcml0eSAtXG5cdFx0XHRcdFx0XHRiLmZpbGUuZnJvbnRtYXR0ZXIucHJpb3JpdHksXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIucmVhZHlUYXNrLCBiaW5zW1wiXCJdXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYmlucyk7XG5cdFx0XHRcdGtleXMuc29ydCgpO1xuXHRcdFx0XHRmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG5cdFx0XHRcdFx0Ly8gYWRkIGEgaGVhZGVyIGlmIGtleSAhPSBmb3IgZGVmYXVsdCB2YWx1ZVxuXHRcdFx0XHRcdGlmIChrZXkgIT09IEhlbHBlci5nZXRUYWcoeyB0YWdzOiBbXSB9LCBncm91cEJ5KSkge1xuXHRcdFx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMywga2V5XSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ymluc1trZXldLnNvcnQoXG5cdFx0XHRcdFx0XHQoYSwgYikgPT5cblx0XHRcdFx0XHRcdFx0YS5maWxlLmZyb250bWF0dGVyLnByaW9yaXR5IC1cblx0XHRcdFx0XHRcdFx0Yi5maWxlLmZyb250bWF0dGVyLnByaW9yaXR5LFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5yZWFkeVRhc2ssIGJpbnNba2V5XV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0bG9ncygpIHtcblx0XHRjb25zdCBbZ3JvdXBCeSwgZmlsdGVyQnksIGJlZm9yZSwgYWZ0ZXJdID1cblx0XHRcdHRoaXMuZnJvbnRtYXR0ZXIucGFyc2VBbGxQcm9ncmVzc2VkVGFza3MoKTtcblxuXHRcdGNvbnN0IHRhc2tzID0gdGhpcy5kdlxuXHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0LndoZXJlKChwYWdlKSA9PiBwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuc3RhdHVzICE9PSBcImRvaW5nXCIpO1xuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuXHRcdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZmlsdGVyQnkubGVuZ3RoID4gMCAmJiAhdGhpcy5uYW1lSW5OYW1lc3BhY2UoZm0sIGZpbHRlckJ5KSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgdGltZUVzdGltYXRlID0gSGVscGVyLmR1cmF0aW9uU3RyaW5nVG9TZWMoZm0udGltZV9lc3RpbWF0ZSk7XG5cdFx0XHRpZiAodGltZUVzdGltYXRlID09PSB1bmRlZmluZWQgJiYgZm0udGltZV9lc3RpbWF0ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRgSW52YWxpZCB2YWx1ZTogXCIke2ZtLnRpbWVfZXN0aW1hdGV9XCIgZm9yIGVudHJ5OiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmbS50aW1lRXN0aW1hdGUgPSB0aW1lRXN0aW1hdGU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGxvZ3MgPSB0aGlzLmR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkxvZ3N9LyR7Zm0udXVpZH1cImApXG5cdFx0XHRcdC53aGVyZSgocGFnZSkgPT4gcGFnZS50eXBlID09PSBUeXBlcy5Mb2cpXG5cdFx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiYXNjXCIpO1xuXG5cdFx0XHQvLyBkaXNjYXJkIHRhc2tzIHdpdGhvdXQgbG9nIGVudHJ5XG5cdFx0XHRpZiAobG9ncy5sZW5ndGggPCAxKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRmbS50b29rID0gMDtcblx0XHRcdGNvbnN0IHByb2plY3QgPSBIZWxwZXIuZ2V0RmllbGQoSGVscGVyLmdldFByb2plY3QoZm0sIHRydWUpLCBcIlwiKTtcblx0XHRcdGNvbnN0IGFyZWEgPSBIZWxwZXIuZ2V0RmllbGQoSGVscGVyLmdldEFyZWEoZm0sIHRydWUpLCBcIlwiKTtcblxuXHRcdFx0Zm9yIChjb25zdCBsb2cgb2YgbG9ncykge1xuXHRcdFx0XHRjb25zdCBmbWwgPSBsb2cuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdFx0Y29uc3QgZW50cnkgPSB7XG5cdFx0XHRcdFx0YWxpYXM6IGZtLmFsaWFzLFxuXHRcdFx0XHRcdHV1aWQ6IGZtLnV1aWQsXG5cdFx0XHRcdFx0bG9nSWQ6IGZtbC51dWlkLFxuXHRcdFx0XHRcdGVzdGltYXRlOiBmbS50aW1lRXN0aW1hdGUsXG5cdFx0XHRcdFx0cHJvamVjdDogcHJvamVjdCxcblx0XHRcdFx0XHRhcmVhOiBhcmVhLFxuXHRcdFx0XHRcdGRvbWFpbjogSGVscGVyLmdldEZpZWxkKEhlbHBlci5nZXREb21haW4oZm0sIHRydWUpLCBcIlwiKSxcblx0XHRcdFx0XHRwYXRoOiB0YXNrLmZpbGUucGF0aCxcblx0XHRcdFx0XHRsb2dQYXRoOiBsb2cuZmlsZS5wYXRoLFxuXHRcdFx0XHRcdGNyZWF0ZWRBdDogdW5kZWZpbmVkLFxuXHRcdFx0XHRcdGRvbmVBdDogdW5kZWZpbmVkLFxuXHRcdFx0XHRcdHRvb2s6IHVuZGVmaW5lZCxcblx0XHRcdFx0XHR0b29rQWNjOiB1bmRlZmluZWQsXG5cdFx0XHRcdFx0ZGVsdGFBY2M6IHVuZGVmaW5lZCxcblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKGZtbC5jcmVhdGVkX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhsb2cpO1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGB0YXNrOiAke2ZtLnV1aWR9IGxhc3QgZW50cnkgaXMgbWlzc2luZyAnY3JlYXRlZF9hdCcgZmllbGRgLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZm1sLmRvbmVfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGxvZyk7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0YHRhc2s6ICR7Zm0udXVpZH0gbGFzdCBlbnRyeSBpcyBtaXNzaW5nICdkb25lX2F0JyBmaWVsZGAsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGVudHJ5LmNyZWF0ZWRBdCA9IG5ldyBEYXRlKGZtbC5jcmVhdGVkX2F0KTtcblx0XHRcdFx0ZW50cnkuZG9uZUF0ID0gbmV3IERhdGUoZm1sLmRvbmVfYXQpO1xuXHRcdFx0XHRpZiAoIXRoaXMuZmlsdGVyQnlEYXRlKGVudHJ5LmRvbmVBdCwgYmVmb3JlLCBhZnRlcikpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IHRvb2sgPVxuXHRcdFx0XHRcdChlbnRyeS5kb25lQXQuZ2V0VGltZSgpIC0gZW50cnkuY3JlYXRlZEF0LmdldFRpbWUoKSkgLyAxMDAwO1xuXHRcdFx0XHRmbS50b29rICs9IHRvb2s7XG5cdFx0XHRcdGVudHJ5LnRvb2sgPSB0b29rO1xuXHRcdFx0XHRlbnRyeS50b29rQWNjID0gZm0udG9vaztcblx0XHRcdFx0ZW50cnkuZGVsdGFBY2MgPSB0aW1lRXN0aW1hdGUgLSBmbS50b29rO1xuXHRcdFx0XHRidWZmLnB1c2goZW50cnkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGtleUdldHRlciA9IEhlbHBlci5nZXRLZXkoZ3JvdXBCeSk7XG5cdFx0Y29uc3QgYmlucyA9IHt9O1xuXHRcdGZvciAoY29uc3QgZW50cnkgb2YgYnVmZikge1xuXHRcdFx0bGV0IGQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGQgPSBrZXlHZXR0ZXIoZW50cnkpO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGVudHJ5KTtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVudHJ5KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJpbnNbZF0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW2RdID0gW2VudHJ5XTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJpbnNbZF0ucHVzaChlbnRyeSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGJpbnMpO1xuXHRcdGtleXMuc29ydCgpO1xuXG5cdFx0Ly8gYnVpbGRzIHJlbmRlcmluZyBhcnJheVxuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Zm9yIChjb25zdCBrZXkgb2Yga2V5cy5yZXZlcnNlKCkpIHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGtleV0pO1xuXHRcdFx0Y29uc3QgYXJyID0gW107XG5cdFx0XHRsZXQgdG90YWxUaW1lID0gMDtcblxuXHRcdFx0Ly8gZGF5IGxvb3Bcblx0XHRcdGZvciAoY29uc3QgZSBvZiBiaW5zW2tleV0pIHtcblx0XHRcdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdFx0XHRidWZmLnB1c2goXG5cdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoXG5cdFx0XHRcdFx0XHR0aGlzLmR2LFxuXHRcdFx0XHRcdFx0eyBwYXRoOiBlLnBhdGgsIGZyb250bWF0dGVyOiB7IHV1aWQ6IGUudXVpZCB9IH0sXG5cdFx0XHRcdFx0XHRcIlRhc2tcIixcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8vIGJ1ZmYucHVzaChcblx0XHRcdFx0Ly8gXHR0aGlzLmR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHQvLyBcdFx0ZS5wYXRoLFxuXHRcdFx0XHQvLyBcdFx0XCJUYXNrXCIsXG5cdFx0XHRcdC8vIFx0XHRmYWxzZSxcblx0XHRcdFx0Ly8gXHRcdGAke2UudXVpZC5zbGljZSgwLCA4KX1gLFxuXHRcdFx0XHQvLyBcdCksXG5cdFx0XHRcdC8vICk7XG5cblx0XHRcdFx0YnVmZi5wdXNoKFxuXHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKFxuXHRcdFx0XHRcdFx0dGhpcy5kdixcblx0XHRcdFx0XHRcdHsgcGF0aDogZS5sb2dQYXRoLCBmcm9udG1hdHRlcjogeyB1dWlkOiBlLmxvZ0lkIH0gfSxcblx0XHRcdFx0XHRcdFwiQ29udGVudFwiLFxuXHRcdFx0XHRcdCksXG5cdFx0XHRcdCk7XG5cdFx0XHRcdC8vIGJ1ZmYucHVzaChcblx0XHRcdFx0Ly8gXHR0aGlzLmR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHQvLyBcdFx0ZS5sb2dQYXRoLFxuXHRcdFx0XHQvLyBcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdC8vIFx0XHRmYWxzZSxcblx0XHRcdFx0Ly8gXHRcdGAke2UubG9nSWQuc2xpY2UoMCwgOCl9YCxcblx0XHRcdFx0Ly8gXHQpLFxuXHRcdFx0XHQvLyApO1xuXG5cdFx0XHRcdC8vIGJ1ZmYucHVzaChgJHtlLmNyZWF0ZWRBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDE2KX1gKTtcblx0XHRcdFx0Ly8gYnVmZi5wdXNoKGAke2UuZG9uZUF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTYpfWApO1xuXG5cdFx0XHRcdGNvbnN0IGNvbnZlcnRTZWNvbmRzVG9Ib3VycyA9ICh0KSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgucm91bmQoKHQgLyAzNjAwKSAqIDEwKSAvIDEwO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRidWZmLnB1c2goYCR7Y29udmVydFNlY29uZHNUb0hvdXJzKGUudG9vayl9YCk7XG5cdFx0XHRcdGJ1ZmYucHVzaChgJHtlLnByb2plY3R9YCk7XG5cblx0XHRcdFx0YXJyLnB1c2goYnVmZik7XG5cdFx0XHRcdHRvdGFsVGltZSArPSBlLnRvb2s7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHRhc2tcblx0XHRcdHRvdGFsVGltZSA9IE1hdGgucm91bmQoKHRvdGFsVGltZSAvIDM2MDApICogMTApIC8gMTA7XG5cdFx0XHRycy5wdXNoKFtcInN0YXRzXCIsIFwidG90YWxUaW1lXCIsIFwiaFwiLCB0b3RhbFRpbWVdKTtcblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNQcm9ncmVzc2VkVGFza1dpdGhMb2csIGFycl0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGluYm94KCkge1xuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdC8vIGZvbmN0aW9uIGQnZXh0cmFjdGlvbiBldCBkJ2luaXRpYWxpc2F0aW9uIGRlcyBwYXJhbXJ0cmVzIGR1IGZyb250bWF0dGVyXG5cdFx0Ly8gZm9uY3Rpb24gZmlsdGVyLCAodGFzaykgLT4gYm9vbFxuXG5cdFx0Y29uc3QgZmlsdGVyQnkgPSBbXTtcblx0XHRjb25zdCBtaW5TaXplID0gMDtcblx0XHRjb25zdCBtYXhTaXplID0gNDI5NDk2NzI5NTtcblxuXHRcdGNvbnN0IGZsZWV0aW5ncyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5JbmJveH1cImApLmFycmF5KCk7XG5cdFx0Zm9yIChjb25zdCBlIG9mIGZsZWV0aW5ncykge1xuXHRcdFx0Y29uc3QgZm0gPSBlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRlLmZpbGUuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0ID0gdGhpcy5mcm9udG1hdHRlci5nZXRDcmVhdGVkQXQoXG5cdFx0XHRcdGUuZmlsZSxcblx0XHRcdCk7XG5cdFx0XHRjb25zdCBmbWpzID0gbmV3IEZyb250bWF0dGVySlMoZSk7XG5cdFx0XHRmbS5wcm9qZWN0ID0gSGVscGVyLmdldFByb2plY3QoZm0sIHRydWUpO1xuXHRcdFx0Zm0uZG9tYWluID0gYGRvbWFpbi8ke2ZtanMuZ2V0RG9tYWluKCl9YDtcblx0XHRcdGZtLmNvbXBvbmVudHMgPSBIZWxwZXIuZ2V0Q29tcG9uZW50cyhmbSk7XG5cblx0XHRcdGlmIChlLmZpbGUuc2l6ZSA8IG1pblNpemUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoZS5maWxlLnNpemUgPiBtYXhTaXplKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRidWZmLnB1c2goZSk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbG9ncyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5Mb2dzfVwiYCkud2hlcmUoKHApID0+IHtcblx0XHRcdGlmIChwLnR5cGUgIT09IFR5cGVzLkxvZykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGYgPSBwLmZpbGU7XG5cdFx0XHRjb25zdCBjcmVhdGVkQXQgPSB0aGlzLmZyb250bWF0dGVyLmdldENyZWF0ZWRBdChmKTtcblx0XHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0XHRpZiAoY3JlYXRlZEF0LmdldFRpbWUoKSArIDg2NDAwMDAwIC0gbm93LmdldFRpbWUoKSA+IDApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAocC5yZXZpZXdlZCAhPT0gdW5kZWZpbmVkICYmIHAucmV2aWV3ZWQgPj0gMSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc30vJHtmLmZyb250bWF0dGVyLnBhcmVudF9pZH1cImApXG5cdFx0XHRcdC5hcnJheSgpO1xuXHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNvbnN0IHBhcmVudCA9IHBhZ2VzWzBdO1xuXHRcdFx0Ly8gaWYgKHBhcmVudC50eXBlICE9PSBUeXBlcy5NZWRpYSkge1xuXHRcdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0XHQvLyB9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0Zm9yIChjb25zdCBlIG9mIGxvZ3MpIHtcblx0XHRcdGNvbnN0IGZtID0gZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Zm0uY3JlYXRlZEF0ID0gdGhpcy5mcm9udG1hdHRlci5nZXRDcmVhdGVkQXQoZS5maWxlKTtcblx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHQhSGVscGVyLm5pbENoZWNrKGZtLnBhcmVudF9pZCksXG5cdFx0XHRcdGBNaXNzaW5nIGZpZWxkIFwicGFyZW50X2lkXCIgZnJvbSBsb2c6IFwiJHtmbS51dWlkfVwiYCxcblx0XHRcdCk7XG5cdFx0XHRjb25zdCBwYXJlbnQgPSB0aGlzLmR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2ZtLnBhcmVudF9pZH1cImApXG5cdFx0XHRcdC5hcnJheSgpO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdHBhcmVudC5sZW5ndGggPT09IDEsXG5cdFx0XHRcdGBQYXJlbnQ6ICR7Zm0ucGFyZW50X2lkfSBub3QgZm91bmQgZm9yIGxvZzogXCIke2ZtLnV1aWR9XCJgLFxuXHRcdFx0KTtcblx0XHRcdGZtLnByb2plY3QgPSBIZWxwZXIuZ2V0UHJvamVjdChwYXJlbnRbMF0uZmlsZS5mcm9udG1hdHRlciwgdHJ1ZSk7XG5cdFx0XHRmbS5kb21haW4gPSB1bmRlZmluZWQ7XG5cdFx0XHRmbS5jb21wb25lbnRzID0gW107XG5cblx0XHRcdGlmIChlLmZpbGUuc2l6ZSA8IG1pblNpemUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoZS5maWxlLnNpemUgPiBtYXhTaXplKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRidWZmLnB1c2goZSk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc29ydEJ5U2l6ZVRoZW5EYXRlID0gZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0Y29uc3QgZkEgPSBhLmZpbGU7XG5cdFx0XHRjb25zdCBmQiA9IGIuZmlsZTtcblx0XHRcdGlmIChmQS5zaXplICE9PSBmQi5zaXplKSB7XG5cdFx0XHRcdHJldHVybiBmQi5zaXplIC0gZkEuc2l6ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0ZkEuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0LmdldFRpbWUoKSAtXG5cdFx0XHRcdFx0ZkIuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0LmdldFRpbWUoKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRjb25zdCBzb3J0QnlBZ2UgPSAoYSwgYikgPT5cblx0XHRcdGEuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQuZ2V0VGltZSgpIC1cblx0XHRcdGIuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQuZ2V0VGltZSgpO1xuXG5cdFx0YnVmZi5zb3J0KHNvcnRCeUFnZSk7XG5cdFx0Y29uc3QgZmlsdGVyRnVuYyA9IChwYWdlKSA9PiB7XG5cdFx0XHRjb25zdCBmbSA9IHBhZ2UuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHRpZiAoSGVscGVyLmdldFByb2plY3QoZm0sIHRydWUpICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoSGVscGVyLmdldERvbWFpbihmbSwgdHJ1ZSkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH07XG5cblx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmluYm94RW50cnksIGJ1ZmYuZmlsdGVyKGZpbHRlckZ1bmMpXSk7XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRkb21haW5zKCkge1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuRG9tYWluc31cImApXG5cdFx0XHQud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdFx0Y29uc3QgZm0gPSBwYWdlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGlmIChmbS5uYW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHRoaXMuZHYucGFnZXMoYCNkb21haW4vJHtmbS5uYW1lfWApLmFycmF5KCkubGVuZ3RoIDw9IDApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9KVxuXHRcdFx0LnNvcnQoKGspID0+IGsubmFtZSwgXCJhc2NcIilcblx0XHRcdC5hcnJheSgpO1xuXHRcdGNvbnN0IHJzID0gW107XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG5cdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0Zm0ucmVzb2x2ZSh0aGlzLmR2KTtcblx0XHRcdGJ1ZmYucHVzaChmbSk7XG5cdFx0fVxuXHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNEb21haW4sIGJ1ZmZdKTtcblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGNvbXBvbmVudHMoKSB7XG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Db21wb25lbnRzfVwiYClcblx0XHRcdC5zb3J0KChrKSA9PiBrLm5hbWUsIFwiYXNjXCIpXG5cdFx0XHQuYXJyYXkoKTtcblx0XHRjb25zdCBycyA9IFtdO1xuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGZtLnJlc29sdmUodGhpcy5kdik7XG5cdFx0XHRidWZmLnB1c2goZm0pO1xuXHRcdH1cblx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmJhc2ljRG9tYWluLCBidWZmXSk7XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRuYW1lcygpIHtcblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLk5hbWVzfVwiYClcblx0XHRcdC5zb3J0KChrKSA9PiBrLm5hbWUsIFwiYXNjXCIpXG5cdFx0XHQuYXJyYXkoKTtcblx0XHRjb25zdCBycyA9IFtdO1xuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGZtLnJlc29sdmUodGhpcy5kdik7XG5cdFx0XHRidWZmLnB1c2goZm0pO1xuXHRcdH1cblx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmJhc2ljRG9tYWluLCBidWZmXSk7XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRwcm9qZWN0cygpIHtcblx0XHRsZXQgZm1sID0gdGhpcy5mcm9udG1hdHRlci5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm1sID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGZtbCA9IHsgaW5hY3RpdmU6IFtdIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRjb25zdCBiaW5zID0ge1xuXHRcdFx0YWN0aXZlOiBbXSxcblx0XHRcdGluYWN0aXZlOiBbXSxcblx0XHR9O1xuXG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2LnBhZ2VzKGBcIlByb2plY3RzXCJgKS5zb3J0KChrKSA9PiBrLm5hbWUsIFwiYXNjXCIpO1xuXHRcdGZvciAoY29uc3QgcHJvamVjdCBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm1Qcm9qZWN0ID0gbmV3IEZyb250bWF0dGVySlMocHJvamVjdCk7XG5cdFx0XHRpZiAoZm1Qcm9qZWN0LmdldE5hbWUoKSA9PT0gXCJhZGhvY1wiKSB7XG5cdFx0XHRcdGJpbnMuYWN0aXZlLnB1c2gocHJvamVjdCk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0YXNrcyA9IHRoaXMuZHZcblx0XHRcdFx0LnBhZ2VzKGAjcHJvamVjdC8ke2ZtUHJvamVjdC5nZXROYW1lKCl9YClcblx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHBhZ2UuZmlsZS5mb2xkZXIgIT09IGAke1BhdGhzLlRhc2tzfWApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb25zdCBmbVRhc2sgPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdFx0XHRpZiAoZm1UYXNrLmdldFByb2plY3QoKSAhPT0gZm1Qcm9qZWN0LmdldE5hbWUoKSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdGZtVGFzay5mbS5zdGF0dXMgPT09IFwidG9kb1wiIHx8XG5cdFx0XHRcdFx0XHRmbVRhc2suZm0uc3RhdHVzID09PSBcImRvaW5nXCJcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdGxldCBuZXh0QWN0aW9uQ291bnQgPSAwO1xuXHRcdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKHRhc2suZmlsZS5mcm9udG1hdHRlci5wcmlvcml0eSk7XG5cdFx0XHRcdGlmICh0YXNrLmZpbGUuZnJvbnRtYXR0ZXIucHJpb3JpdHkgPT09IDkpIHtcblx0XHRcdFx0XHRuZXh0QWN0aW9uQ291bnQrKztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdHRhc2tzLmxlbmd0aCA9PT0gMCB8fFxuXHRcdFx0XHRuZXh0QWN0aW9uQ291bnQgPT09IDAgfHxcblx0XHRcdFx0Zm1sLmluYWN0aXZlLmNvbnRhaW5zKGZtUHJvamVjdC5nZXROYW1lKCkpXG5cdFx0XHQpIHtcblx0XHRcdFx0Ymlucy5pbmFjdGl2ZS5wdXNoKHByb2plY3QpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ymlucy5hY3RpdmUucHVzaChwcm9qZWN0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBycy5wdXNoKFtcImhlYWRlclwiLCAxLCBcIlByb2plY3RzXCJdKTtcblx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmJhc2ljUmVsYXRpb24sIGJpbnMuYWN0aXZlXSk7XG5cdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgXCJJbmFjdGl2ZVwiXSk7XG5cdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5iYXNpY1JlbGF0aW9uLCBiaW5zLmluYWN0aXZlXSk7XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRwcmF4aXMoKSB7XG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApXG5cdFx0XHQud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdFx0aWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci50eXBlICE9PSBUeXBlcy5QcmF4aXMpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLnN0YXR1cyAhPT0gU3RhdHVzLlRvZG8pIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0pXG5cdFx0XHQuYXJyYXkoKTtcblxuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMSwgXCJQcmF4aXNcIl0pO1xuXHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNUYXNrLCBwYWdlc10pO1xuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0Z29hbHMoKSB7XG5cdFx0Y29uc3QgZm0gPSB0aGlzLmZyb250bWF0dGVyLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGNvbnN0IGZpbHRlckJ5ID0gbmV3IEZpbHRlckJ5KGZtKTtcblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLkdvYWxzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGNvbnN0IGZtcCA9IHBhZ2UuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChmbXAuc3RhdHVzICE9PSBcInRvZG9cIikge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgcCA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0aWYgKGZpbHRlckJ5LmZpbHRlcihwYWdlLmZpbGUuZnJvbnRtYXR0ZXIpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRidWZmLnB1c2gocCk7XG5cdFx0fVxuXG5cdFx0YnVmZi5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRjb25zdCBkdGEgPSBuZXcgRGF0ZShhLmZtLmJlZm9yZSk7XG5cdFx0XHRjb25zdCBkdGIgPSBuZXcgRGF0ZShiLmZtLmJlZm9yZSk7XG5cdFx0XHRyZXR1cm4gZHRhLmdldFRpbWUoKSAtIGR0Yi5nZXRUaW1lKCk7XG5cdFx0fSk7XG5cdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMSwgXCJHb2Fsc1wiXSk7XG5cdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5nb2FsLCBidWZmXSk7XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRsaWJyYXJ5KCkge1xuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgZG9tYWlucyA9IFtdO1xuXHRcdGNvbnN0IHJlZkRvbWFpbnMgPSBbXTtcblxuXHRcdHtcblx0XHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Eb21haW5zfVwiYClcblx0XHRcdFx0LnNvcnQoKGspID0+IGsubmFtZSwgXCJhc2NcIilcblx0XHRcdFx0LmFycmF5KCk7XG5cblx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRmbS5yZXNvbHZlKHRoaXMuZHYpO1xuXHRcdFx0XHRkb21haW5zLnB1c2goZm0uZ2V0TmFtZSgpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR7XG5cdFx0XHRmb3IgKGNvbnN0IGRvbWFpbiBvZiBkb21haW5zKSB7XG5cdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGAke2RvbWFpbn1gXSk7XG5cdFx0XHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgXCI4MDIgUmVmc1wiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdC8vIGNvbnN0IGZtID0gcGFnZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRcdGNvbnN0IGNvbnRlbnQgPSBmbS5nZXRDb250ZW50KCk7XG5cdFx0XHRcdFx0aWYgKGNvbnRlbnQgPT09IFwicGVyc29uXCIgfHwgY29udGVudCA9PT0gXCJwbGFjZVwiKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFkb21haW5zLmNvbnRhaW5zKGZtLmdldERvbWFpbihmYWxzZSkpKSB7XG5cdFx0XHRcdFx0XHRpZiAoIXJlZkRvbWFpbnMuY29udGFpbnMoZm0uZ2V0RG9tYWluKGZhbHNlKSkpIHtcblx0XHRcdFx0XHRcdFx0cmVmRG9tYWlucy5wdXNoKGZtLmdldERvbWFpbihmYWxzZSkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBmbS5nZXREb21haW4oZmFsc2UpID09PSBkb21haW47XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIua25vd2xlZGdlQmFzZSwgcGFnZXNdKTtcblx0XHRcdH1cblxuXHRcdFx0e1xuXHRcdFx0XHRpZiAocmVmRG9tYWlucy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRyZXR1cm4gcnM7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBcInVuZGVjbGFyZWQgZG9tYWluc1wiXSk7XG5cdFx0XHRcdGZvciAoY29uc3QgZG9tYWluIG9mIHJlZkRvbWFpbnMpIHtcblx0XHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAzLCBkb21haW5dKTtcblx0XHRcdFx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHYucGFnZXMoYFwiODAyIFJlZnNcImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0Ly8gY29uc3QgZm0gPSBwYWdlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdFx0XHRjb25zdCBjb250ZW50ID0gZm0uZ2V0Q29udGVudCgpO1xuXHRcdFx0XHRcdFx0aWYgKGNvbnRlbnQgPT09IFwicGVyc29uXCIgfHwgY29udGVudCA9PT0gXCJwbGFjZVwiKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGZtLmdldERvbWFpbihmYWxzZSkgPT09IGRvbWFpbjtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIua25vd2xlZGdlQmFzZSwgcGFnZXNdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdHBsYW5uaW5nKGxhc3RXZWVrID0gMikge1xuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApXG5cdFx0XHQud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdFx0aWYgKGZtLmF0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZm0uZ2V0UHJvamVjdCgpICE9PSBcImRhaWx5XCIpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0pXG5cdFx0XHQuc29ydCgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLmF0LCBcImRlc2NcIik7XG5cblx0XHRjb25zdCBiaW5zID0ge307XG5cdFx0Zm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG5cdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0bGV0IGF0ID0gdW5kZWZpbmVkO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YXQgPSBmbS5hdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZGF0ZTogJyR7Zm0uZm0udXVpZH0nYCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXIoZm0uYXQpO1xuXHRcdFx0aWYgKGJpbnNbd2Vla051bWJlcl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3dlZWtOdW1iZXJdID0gW2ZtXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJpbnNbd2Vla051bWJlcl0ucHVzaChmbSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRjb25zdCBjdXJyZW50V2Vla051bWJlciA9IHRoaXMuZ2V0V2Vla051bWJlcihub3cpO1xuXHRcdGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGJpbnMpKSB7XG5cdFx0XHRjb25zdCB3ZWVrTnVtYmVyID0gTnVtYmVyKGtleSk7XG5cdFx0XHRpZiAod2Vla051bWJlcitsYXN0V2VlayA8IGN1cnJlbnRXZWVrTnVtYmVyKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHdlZWtOdW1iZXIgPCBjdXJyZW50V2Vla051bWJlcikge1xuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgfn53ZWVrICR7a2V5fX5+YF0pO1xuXHRcdFx0fSBlbHNlIGlmICh3ZWVrTnVtYmVyID09PSBjdXJyZW50V2Vla051bWJlcikge1xuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgKndlZWsgJHtrZXl9KmBdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGB3ZWVrICR7a2V5fWBdKTtcblx0XHRcdH1cblxuXHRcdFx0Ymluc1trZXldLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdFx0cmV0dXJuIGEuYXQuZ2V0VGltZSgpIC0gYi5hdC5nZXRUaW1lKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Zm9yIChjb25zdCB0YXNrIG9mIGJpbnNba2V5XSkge1xuXHRcdFx0XHRjb25zdCBkYXkgPSBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl1bXG5cdFx0XHRcdFx0dGFzay5hdC5nZXREYXkoKVxuXHRcdFx0XHRdO1xuXHRcdFx0XHRjb25zdCB0ZXh0ID0gUmVuZGVyZXIubWFrZUxpbmsoXG5cdFx0XHRcdFx0dGhpcy5kdixcblx0XHRcdFx0XHR0YXNrLmYsXG5cdFx0XHRcdFx0YCR7dGFzay5hdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKX0sICR7ZGF5fWAsXG5cdFx0XHRcdFx0XCJkYWlseVwiLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmICh3ZWVrTnVtYmVyIDwgY3VycmVudFdlZWtOdW1iZXIpIHtcblx0XHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCBgfn4ke3RleHR9fn5gXSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAod2Vla051bWJlciA9PT0gY3VycmVudFdlZWtOdW1iZXIpIHtcblx0XHRcdFx0XHRpZiAodGhpcy5kYXlPZlllYXIodGFzay5hdCkgPCB0aGlzLmRheU9mWWVhcihub3cpKSB7XG5cdFx0XHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCBgfn4ke3RleHR9fn5gXSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGAke3RleHR9YF0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCBgJHt0ZXh0fWBdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGRheU9mWWVhcihkdCk6IG51bWJlciB7XG5cdFx0Y29uc3QgeWVhciA9IGR0LmdldEZ1bGxZZWFyKCk7XG5cdFx0Y29uc3QgbW9udGggPSBkdC5nZXRNb250aCgpICsgMTtcblx0XHRjb25zdCBkYXkgPSBkdC5nZXREYXRlKCk7XG5cblx0XHRjb25zdCBOMSA9IE1hdGguZmxvb3IoKDI3NSAqIG1vbnRoKSAvIDkpO1xuXHRcdGNvbnN0IE4yID0gTWF0aC5mbG9vcigobW9udGggKyA5KSAvIDEyKTtcblx0XHRjb25zdCBOMyA9IDEgKyBNYXRoLmZsb29yKCh5ZWFyIC0gNCAqIE1hdGguZmxvb3IoeWVhciAvIDQpICsgMikgLyAzKTtcblx0XHRyZXR1cm4gTjEgLSBOMiAqIE4zICsgZGF5IC0gMzA7XG5cdH1cblxuXHRnZXRXZWVrTnVtYmVyKGQpIHtcblx0XHQvLyBDb3B5IGRhdGUgc28gZG9uJ3QgbW9kaWZ5IG9yaWdpbmFsXG5cdFx0ZCA9IG5ldyBEYXRlKERhdGUuVVRDKGQuZ2V0RnVsbFllYXIoKSwgZC5nZXRNb250aCgpLCBkLmdldERhdGUoKSkpO1xuXHRcdC8vIFNldCB0byBuZWFyZXN0IFRodXJzZGF5OiBjdXJyZW50IGRhdGUgKyA0IC0gY3VycmVudCBkYXkgbnVtYmVyXG5cdFx0Ly8gTWFrZSBTdW5kYXkncyBkYXkgbnVtYmVyIDdcblx0XHRkLnNldFVUQ0RhdGUoZC5nZXRVVENEYXRlKCkgKyA0IC0gKGQuZ2V0VVRDRGF5KCkgfHwgNykpO1xuXHRcdC8vIEdldCBmaXJzdCBkYXkgb2YgeWVhclxuXHRcdGNvbnN0IHllYXJTdGFydDogYW55ID0gbmV3IERhdGUoRGF0ZS5VVEMoZC5nZXRVVENGdWxsWWVhcigpLCAwLCAxKSk7XG5cdFx0Ly8gQ2FsY3VsYXRlIGZ1bGwgd2Vla3MgdG8gbmVhcmVzdCBUaHVyc2RheVxuXHRcdHJldHVybiBNYXRoLmNlaWwoKChkIC0geWVhclN0YXJ0KSAvIDg2NDAwMDAwICsgMSkgLyA3KTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgRHZMaWIge1xuXHR0YXNrRGlyID0gXCI4MTMgVGFza3NcIjtcblx0aW5ib3hEaXIgPSBcIjgwMCBJbmJveFwiO1xuXHRyZWZEaXIgPSBcIjgwMiBSZWZzXCI7XG5cdGxvZ0RpciA9IFwiNjAwIExvZ1wiO1xuXG5cdFRhc2sgPSB7XG5cdFx0QkFTRTogMyxcblx0XHREQUlMWTogNCxcblx0fTtcblxuXHRUeXBlID0ge1xuXHRcdFRBU0s6IDMsXG5cdFx0REFJTFk6IDQsXG5cdFx0TE9HOiA2LFxuXHR9O1xuXG5cdFN0YXR1cyA9IHtcblx0XHRUT0RPOiBcInRvZG9cIixcblx0XHRET05FOiBcImRvbmVcIixcblx0XHRET0lORzogXCJkb2luZ1wiLFxuXHRcdFRSQVNIOiBcInRyYXNoXCIsXG5cdFx0TUFZQkU6IFwibWF5YmVcIixcblx0XHRTVEFOREJZOiBcInN0YW5kYnlcIixcblx0fTtcblxuXHROYW1lc3BhY2UgPSB7XG5cdFx0QVJFQTogXCJhcmVhXCIsXG5cdFx0Q09OVEVYVDogXCJjb250ZXh0XCIsXG5cdFx0TEFZRVI6IFwibGF5ZXJcIixcblx0XHRPUkc6IFwib3JnXCIsXG5cdFx0UFJPSkVDVDogXCJwcm9qZWN0XCIsXG5cdH07XG5cblx0RGVmYXVsdCA9IHtcblx0XHRBUkVBOiBcIm5vbmVcIixcblx0XHRDT05URVhUOiBcImFueVwiLFxuXHRcdExBWUVSOiBcIm5vbmVcIixcblx0XHRPUkc6IFwibm9uZVwiLFxuXHRcdFBST0pFQ1Q6IFwibm9uZVwiLFxuXHR9O1xuXG5cdF9kdiA9IFwiXCI7XG5cblx0c2V0IGR2KG1vZCkge1xuXHRcdHRoaXMuX2R2ID0gbW9kO1xuXHR9XG5cblx0Z2V0IGR2KCkge1xuXHRcdHJldHVybiB0aGlzLl9kdjtcblx0fVxuXG5cdGlzQ2hpbGRUYWcocGFyZW50LCBjaGlsZCkge1xuXHRcdGlmIChjaGlsZC5sZW5ndGggPD0gcGFyZW50Lmxlbmd0aCArIDEpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IGVsc2UgaWYgKGNoaWxkLnNsaWNlKDAsIHBhcmVudC5sZW5ndGggKyAxKSAhPSBgJHtwYXJlbnR9L2ApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRzdHJpcFRhZyh0YWcpIHtcblx0XHRsZXQgdCA9IFwiXCI7XG5cdFx0aWYgKHRhZy5zbGljZSgtMSkgPT09IFwiL1wiKSB7XG5cdFx0XHR0ID0gdGFnLnNsaWNlKDAsIC0xKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dCA9IHRhZztcblx0XHR9XG5cdFx0aWYgKHQuc2xpY2UoMCwgMSkgPT09IFwiI1wiKSB7XG5cdFx0XHR0ID0gdC5zbGljZSgxLCB0Lmxlbmd0aCk7XG5cdFx0fVxuXHRcdHJldHVybiB0O1xuXHR9XG5cblx0Z2V0VGFza0Zyb21VVUlEKGR2LCB1dWlkKSB7XG5cdFx0Y29uc3QgbiA9IGR2LnBhZ2VzKGBcIiR7dGhpcy50YXNrRGlyfS8ke3V1aWR9XCJgKTtcblx0XHRpZiAobi5sZW5ndGggPT09IDApIHtcblx0XHRcdC8vIHNob3VsZCB3YXJuLCB0aGlzIG1lYW5zIG5vdGUgZGVwZW5kcyBvbiBhIG5vbi1leGlzdGluZyB0YXNrXG5cdFx0XHRjb25zb2xlLndhcm4oYFwiJHt0aGlzLnRhc2tEaXJ9LyR7dXVpZH1cIiB0YXNrIGRvZXMgbm90IGV4aXN0c2ApO1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0cmV0dXJuIG5bMF07XG5cdH1cblxuXHRoYXNWYWxpZEZvcm1hdCh0YXNrKSB7XG5cdFx0Ly8gZHYucGFnZXMgcmV0dXJucyBhbiBhcnJheSB3ZXRoZXIgaXQgZmluZHMgMSBvciBtb3JlIG5vdGVzXG5cdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdC8vIHRoaXMgc2hvdWxkIHdhcm4sIGFsbCB0YXNrcyBzaG91bGQgaGF2ZSBhIGZyb250bWF0dGVyXG5cdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdGBcIiR7dGhpcy50YXNrRGlyfS8ke3Rhc2sudXVpZH1cIiB0YXNrIGRvZXMgbm90IGhhdmUgYSBmcm9udG1hdHRlcmAsXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChmbS50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdC8vIGFsbCB0YXNrcyBtdXN0IGhhdmUgYSBgdHlwZWAgZmllbGRcblx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0YFwiJHt0aGlzLnRhc2tEaXJ9LyR7dGFzay51dWlkfVwiIHRhc2sgZG9lcyBub3QgaGF2ZSBhIFxcYHR5cGVcXGAgZmllbGRgLFxuXHRcdFx0KTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoZm0uc3RhdHVzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdC8vIGFsbCB0YXNrcyBtdXN0IGhhdmUgYSBgc3RhdHVzYCBmaWVsZFxuXHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRgXCIke3RoaXMudGFza0Rpcn0vJHt0YXNrLnV1aWR9XCIgdGFzayBkb2VzIG5vdCBoYXZlIGEgXFxgc3RhdHVzXFxgIGZpZWxkYCxcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0aGFzUGVuZGluZ0RlcGVuZGVuY2llcyhkdiwgZGVwcykge1xuXHRcdGZvciAoY29uc3QgZGVwIG9mIGRlcHMpIHtcblx0XHRcdGNvbnN0IHRhc2sgPSB0aGlzLmdldFRhc2tGcm9tVVVJRChkdiwgZGVwKTtcblx0XHRcdGlmICh0YXNrID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXRoaXMuaGFzVmFsaWRGb3JtYXQodGFzaykpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChcblx0XHRcdFx0Zm0udHlwZSAhPT0gdGhpcy5UYXNrLkJBU0UgJiZcblx0XHRcdFx0Zm0udHlwZSAhPT0gdGhpcy5UYXNrLkRBSUxZXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoZm0uc3RhdHVzID09PSB0aGlzLlN0YXR1cy5UT0RPKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpc0RvYWJsZShkdiwgdGFzaykge1xuXHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXG5cdFx0aWYgKGZtLnN0YXR1cyAhPT0gdGhpcy5TdGF0dXMuVE9ETykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChmbS5hZnRlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb25zdCBhZnRlciA9IG5ldyBEYXRlKGZtLmFmdGVyKTtcblx0XHRcdGlmIChEYXRlLm5vdygpIDw9IGFmdGVyLmdldFRpbWUoKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgZGVwcyA9IGZtLm5lZWRzO1xuXHRcdGlmIChkZXBzID09PSB1bmRlZmluZWQgfHwgZGVwcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmhhc1BlbmRpbmdEZXBlbmRlbmNpZXMoZHYsIGRlcHMpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRnZXROYW1lc3BhY2VDb250ZW50KGR2LCBucykge1xuXHRcdGNvbnN0IGNoaWxkcmVuID0gW107XG5cdFx0Y29uc3QgcmVzcCA9IGR2LnBhZ2VzKGAjJHtuc31gKTtcblx0XHRmb3IgKGNvbnN0IGYgb2YgcmVzcCkge1xuXHRcdFx0Y29uc3QgdGFncyA9IGYudGFncztcblx0XHRcdGlmICh0YWdzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdFx0aWYgKHRoaXMuaXNDaGlsZFRhZyhucywgdGFnKSkge1xuXHRcdFx0XHRcdGNvbnN0IHQgPSB0YWcuc2xpY2UobnMubGVuZ3RoICsgMSk7XG5cdFx0XHRcdFx0aWYgKCFjaGlsZHJlbi5pbmNsdWRlcyh0KSkge1xuXHRcdFx0XHRcdFx0Y2hpbGRyZW4ucHVzaCh0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2hpbGRyZW47XG5cdH1cblxuXHRpc0RvbmUoZHYsIGRlcCkge1xuXHRcdGNvbnN0IHRhc2sgPSB0aGlzLmdldFRhc2tGcm9tVVVJRChkdiwgZGVwKTtcblx0XHRpZiAodGFzayA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLmhhc1ZhbGlkRm9ybWF0KHRhc2spKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtLnN0YXR1cyA9PT0gdGhpcy5TdGF0dXMuRE9ORSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Z2V0VGFza3MoXG5cdFx0ZHYsXG5cdFx0dGFnLFxuXHRcdHRhc2tUeXBlID0gW3RoaXMuVGFzay5CQVNFLCB0aGlzLlRhc2suREFJTFldLFxuXHRcdHN0YXR1cyA9IHRoaXMuU3RhdHVzLlRPRE8sXG5cdCkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCB0YXNrcyA9IGR2LnBhZ2VzKHRhZyk7XG5cblx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoZm0uc3RhdHVzID09PSB1bmRlZmluZWQgfHwgZm0uc3RhdHVzICE9PSBzdGF0dXMpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoZm0udHlwZSA9PT0gdW5kZWZpbmVkIHx8ICF0YXNrVHlwZS5jb250YWlucyhmbS50eXBlKSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGJ1ZmYucHVzaCh0YXNrKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYnVmZjtcblx0fVxuXG5cdGZvcm1hdFRhc2soZHYsIHRhc2spIHtcblx0XHRyZXR1cm4gZHYuZmlsZUxpbmsodGFzay5maWxlLnBhdGgpO1xuXHR9XG5cblx0Zm9ybWF0VGFza0JpcyhkdiwgdGFzaykge1xuXHRcdGNvbnN0IGYgPSB0YXNrLmZpbGU7XG5cdFx0bGV0IGN0eCA9IFwiXCI7XG5cblx0XHRmb3IgKGNvbnN0IHRhZyBvZiBmLnRhZ3MpIHtcblx0XHRcdGlmICh0YWcuc2xpY2UoMCwgOSkgPT0gXCIjY29udGV4dC9cIikge1xuXHRcdFx0XHRjdHggPSB0YWcuc2xpY2UoOSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFtcblx0XHRcdGR2LmZpbGVMaW5rKGYucGF0aCksXG5cdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0Zi5mcm9udG1hdHRlci50aW1lX2VzdGltYXRlLFxuXHRcdFx0Y3R4LFxuXHRcdF07XG5cdH1cblxuXHRmb3JtYXRUYXNrQmFzZShkdiwgdGFzaykge1xuXHRcdGNvbnN0IGYgPSB0YXNrLmZpbGU7XG5cdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IHRhZ3MgPSBmbS50YWdzO1xuXG5cdFx0Y29uc3QgYXJlYSA9IHRoaXMuZ2V0QXJlYSh0YWdzKTtcblxuXHRcdHJldHVybiBbXG5cdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0YXJlYSxcblx0XHRdO1xuXHR9XG5cblx0Zm9ybWF0VGFza1dhaXRpbmcoZHYsIHRhc2spIHtcblx0XHRjb25zdCBmID0gdGFzay5maWxlO1xuXHRcdGNvbnN0IGZtID0gZi5mcm9udG1hdHRlcjtcblx0XHRjb25zdCBkZXBzID0gW107XG5cblx0XHRpZiAoZm0ubmVlZHMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Zm9yIChjb25zdCBkZXAgb2YgZm0ubmVlZHMpIHtcblx0XHRcdFx0ZGVwcy5wdXNoKGR2LmZpbGVMaW5rKGAke3RoaXMudGFza0Rpcn0vJHtkZXB9YCkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZvcm1hdFRhc2tNYXliZShkdiwgdGFzaykge1xuXHRcdGNvbnN0IGYgPSB0YXNrLmZpbGU7XG5cdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IGRlcHMgPSBbXTtcblxuXHRcdHJldHVybiBbZHYuZmlsZUxpbmsoZi5wYXRoKV07XG5cdH1cblxuXHRtYWtlQXN5bmNSZXF1ZXN0KGR2LCB1dWlkKSB7XG5cdFx0cmV0dXJuIGR2XG5cdFx0XHQucXVlcnkoYExJU1QgV0hFUkUgbmVlZHMgQU5EIGNvbnRhaW5zKG5lZWRzLCBcIiR7dXVpZH1cIilgKVxuXHRcdFx0LnRoZW4oKHZhbHVlKSA9PiB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdH0pO1xuXHR9XG5cblx0Z2V0RGVwZW5kYW50VGFza3MoZHYsIHRhc2spIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgdXVpZCA9IHRhc2suZmlsZS5uYW1lO1xuXG5cdFx0aWYgKHRhc2suZmlsZS5mcm9udG1hdHRlciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gYnVmZjtcblx0XHR9XG5cblx0XHRjb25zdCB0YXNrcyA9IGR2XG5cdFx0XHQucGFnZXMoYFwiJHt0aGlzLnRhc2tEaXJ9XCJgKVxuXHRcdFx0LndoZXJlKChwKSA9PiBwLm5lZWRzICE9PSB1bmRlZmluZWQgJiYgcC5uZWVkcy5jb250YWlucyh1dWlkKSk7XG5cdFx0Zm9yIChjb25zdCB0ayBvZiB0YXNrcykge1xuXHRcdFx0Y29uc3QgdCA9IGR2LnBhZ2VzKGBcIiR7dGsuZmlsZS5wYXRofVwiYCk7XG5cdFx0XHRidWZmLnB1c2godFswXSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGJ1ZmY7XG5cdH1cblxuXHRieURlcGVuZGVuY3lBbmRQcmlvcml0eUFuZENyZWF0ZWRBdChkdiwgYSwgYikge1xuXHRcdGNvbnN0IGZ0QSA9IGEuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCBmdEIgPSBiLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgcHJpb0EgPSBmdEEucHJpb3JpdHk7XG5cdFx0Y29uc3QgcHJpb0IgPSBmdEIucHJpb3JpdHk7XG5cdFx0Ly8gYmVmb3JlID4gZGVwcyA+IHByaW8gPiBjcmVhdGVkX2F0XG5cdFx0Ly8gbGV0IGJlZm9yZUEgPSBmdEEuYmVmb3JlO1xuXHRcdC8vIGxldCBiZWZvcmVCID0gZnRCLmJlZm9yZTtcblxuXHRcdGNvbnN0IGRlcHNBID0gdGhpcy5nZXREZXBlbmRhbnRUYXNrcyhkdiwgYSk7XG5cdFx0Y29uc3QgZGVwc0IgPSB0aGlzLmdldERlcGVuZGFudFRhc2tzKGR2LCBiKTtcblxuXHRcdGlmIChkZXBzQS5sZW5ndGggLSBkZXBzQi5sZW5ndGggIT09IDApIHtcblx0XHRcdHJldHVybiBkZXBzQS5sZW5ndGggLSBkZXBzQi5sZW5ndGg7XG5cdFx0fVxuXG5cdFx0aWYgKHByaW9BIC0gcHJpb0IgIT09IDApIHtcblx0XHRcdHJldHVybiBwcmlvQSAtIHByaW9CO1xuXHRcdH1cblxuXHRcdGNvbnN0IGRhdGVBID0gbmV3IERhdGUoZnRBLmNyZWF0ZWRfYXQpO1xuXHRcdGNvbnN0IGRhdGVCID0gbmV3IERhdGUoZnRCLmNyZWF0ZWRfYXQpO1xuXG5cdFx0cmV0dXJuIChkYXRlQS5nZXRUaW1lKCkgLSBkYXRlQi5nZXRUaW1lKCkpICogLTE7XG5cdH1cblxuXHRmb3JtYXRUYXNrUGxhbm5pbmdXYWl0aW5nKGR2LCB0YXNrKSB7XG5cdFx0Y29uc3QgZiA9IHRhc2suZmlsZTtcblxuXHRcdHJldHVybiBbXG5cdFx0XHQvLyBham91dGVyIGFsaWFzIHN1ciBsZSBsaW5rXG5cdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZi5uYW1lLnNsaWNlKDAsIDgpKSxcblx0XHRcdGYuZnJvbnRtYXR0ZXIudGltZV9lc3RpbWF0ZSxcblx0XHRcdGYuZnJvbnRtYXR0ZXIuY2F1c2UsXG5cdFx0XTtcblx0fVxuXG5cdHJlbmRlckJhc2VBc0FycmF5KGR2LCB0YXNrcykge1xuXHRcdGNvbnN0IGFyciA9IFtdO1xuXHRcdHRhc2tzLmZvckVhY2goKHRhc2spID0+IHtcblx0XHRcdGFyci5wdXNoKHRoaXMuZm9ybWF0VGFza0Jhc2UoZHYsIHRhc2spKTtcblx0XHR9KTtcblx0XHRkdi50YWJsZShbXCJ1dWlkXCIsIFwidGFza3NcIiwgXCJlc3RpbWF0ZVwiLCBcImFyZWFcIl0sIGFycik7XG5cdH1cblxuXHRyZW5kZXJQbGFubmluZ1dhaXRpbmcoZHYsIHRhc2tzKSB7XG5cdFx0Y29uc3QgYXJyID0gW107XG5cdFx0dGFza3MuZm9yRWFjaCgodGFzaykgPT4ge1xuXHRcdFx0YXJyLnB1c2godGhpcy5mb3JtYXRUYXNrUGxhbm5pbmdXYWl0aW5nKGR2LCB0YXNrKSk7XG5cdFx0fSk7XG5cdFx0ZHYudGFibGUoW1widGFza3NcIiwgXCJ1dWlkXCIsIFwiZXN0aW1hdGVcIiwgXCJjYXVzZVwiXSwgYXJyKTtcblx0fVxuXG5cdHJlbmRlck1heWJlQXNBcnJheShkdiwgdGFza3MpIHtcblx0XHRjb25zdCBhcnIgPSBbXTtcblx0XHR0YXNrcy5mb3JFYWNoKCh7IHJlZiwgdGFzayB9KSA9PiB7XG5cdFx0XHRpZiAodGFzayAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGFyci5wdXNoKHRoaXMuZm9ybWF0VGFza01heWJlKGR2LCB0YXNrKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0ZHYudGFibGUoW1widXVpZFwiXSwgYXJyKTtcblx0fVxuXG5cdGZvcm1hdFRhc2tEYWlseShkdiwgdGFzaykge1xuXHRcdGNvbnN0IGYgPSB0YXNrLmZpbGU7XG5cdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgdGFncyA9IHRhc2suZmlsZS50YWdzO1xuXHRcdGNvbnN0IGFyZWFzID0gW107XG5cblx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0XHRpZiAodGFnLnNsaWNlKDAsIDYpID09IFwiI2FyZWEvXCIpIHtcblx0XHRcdFx0YXJlYXMucHVzaCh0YWcuc2xpY2UoNikpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGxpbmtzID0gW107XG5cdFx0Zm9yIChjb25zdCBsaW5rIG9mIGYub3V0bGlua3MpIHtcblx0XHRcdGxpbmtzLnB1c2gobGluayk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdGFza3MgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHQgb2YgZi50YXNrcykge1xuXHRcdFx0dGFza3MucHVzaCh0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gW1xuXHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoKSxcblx0XHRcdGxpbmtzLmxlbmd0aCA+IDBcblx0XHRcdFx0PyBkdi5tYXJrZG93bkxpc3QobGlua3MpXG5cdFx0XHRcdDogZHYubWFya2Rvd25UYXNrTGlzdCh0YXNrcyksXG5cdFx0XHRmbS50aW1lX2FsbG9jYXRlZCxcblx0XHRcdGFyZWFzLmxlbmd0aCA+IDAgPyBkdi5tYXJrZG93bkxpc3QoYXJlYXMpIDogXCJcIixcblx0XHRdO1xuXHR9XG5cblx0Zm9ybWF0RmxlZXRpbmcoZHYsIHRhc2spIHtcblx0XHRjb25zdCBmID0gdGFzay5maWxlO1xuXHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IHRhZ3MgPSB0YXNrLmZpbGUudGFncztcblx0XHRjb25zdCBob3VycyA9IDM2MDA7XG5cdFx0Y29uc3QgZGF5cyA9IDg2NDAwO1xuXG5cdFx0bGV0IGR0ID0gbmV3IERhdGUoKTtcblx0XHRpZiAoZm0gIT09IHVuZGVmaW5lZCAmJiBmbS5jcmVhdGVkX2F0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGR0ID0gbmV3IERhdGUoZm0uY3JlYXRlZF9hdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGR0ID0gbmV3IERhdGUoZi5jdGltZS50cyk7XG5cdFx0fVxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3QgZGVsdGEgPSAobm93LmdldFRpbWUoKSAtIGR0LmdldFRpbWUoKSkgLyAxMDAwO1xuXHRcdGxldCBzaW5jZSA9IFwiXCI7XG5cdFx0Y29uc3QgdG9EdCA9ICh0KSA9PiB7XG5cdFx0XHRyZXR1cm4gU3RyaW5nKE1hdGgucm91bmQodCAqIDEwKSAvIDEwKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0fTtcblx0XHRpZiAoZGVsdGEgPj0gZGF5cykge1xuXHRcdFx0Ly8gZGF5cyBhZ29cblx0XHRcdHNpbmNlID0gdG9EdChkZWx0YSAvIGRheXMpICsgXCJkXCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGhvdXJzIGFnb1xuXHRcdFx0c2luY2UgPSB0b0R0KGRlbHRhIC8gaG91cnMpICsgXCJoXCI7XG5cdFx0fVxuXG5cdFx0Ly8gcmV0dXJuIFtkdi5maWxlTGluayhgJHtmLnBhdGh9I0NvbnRlbnRgKSwgc2luY2UsIGYuc2l6ZV07XG5cdFx0aWYgKGZtLmFsaWFzID09PSB1bmRlZmluZWQgfHwgZm0uYWxpYXMgPT09IFwiXCIpIHtcblx0XHRcdHJldHVybiBbZHYuZmlsZUxpbmsoYCR7Zi5wYXRofWApLCBzaW5jZSwgZi5zaXplXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIFtkdi5maWxlTGluayhgJHtmLnBhdGh9YCwgZmFsc2UsIGZtLmFsaWFzKSwgc2luY2UsIGYuc2l6ZV07XG5cdFx0fVxuXHR9XG5cblx0cmVuZGVyRGFpbHlBc0FycmF5KGR2LCB0YXNrcykge1xuXHRcdGNvbnN0IGFyciA9IFtdO1xuXHRcdHRhc2tzLmZvckVhY2goKHRhc2spID0+IHtcblx0XHRcdGFyci5wdXNoKHRoaXMuZm9ybWF0VGFza0RhaWx5KGR2LCB0YXNrKSk7XG5cdFx0fSk7XG5cdFx0ZHYudGFibGUoW1widXVpZFwiLCBcImNvbnRlbnRcIiwgXCJkdXJhdGlvblwiLCBcImFyZWFcIl0sIGFycik7XG5cdH1cblxuXHRyZW5kZXJGbGVldGluZ0FzQXJyYXkoZHYsIHRhc2tzKSB7XG5cdFx0Y29uc3QgYXJyID0gW107XG5cdFx0dGFza3MuZm9yRWFjaCgodGFzaykgPT4ge1xuXHRcdFx0YXJyLnB1c2godGhpcy5mb3JtYXRGbGVldGluZyhkdiwgdGFzaykpO1xuXHRcdH0pO1xuXHRcdGR2LnRhYmxlKFtcImNvbnRlbnRcIiwgXCJhZ2VcIiwgXCJzaXplXCJdLCBhcnIpO1xuXHR9XG5cblx0YXV0b0ZpZWxkTmVlZChkdiwgZm0pIHtcblx0XHRpZiAoZm0ubmVlZHMgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCBkZXAgb2YgZm0ubmVlZHMpIHtcblx0XHRcdGlmICghdGhpcy5pc0RvbmUoZHYsIGRlcCkpIHtcblx0XHRcdFx0YnVmZi5wdXNoKGR2LmZpbGVMaW5rKGAke3RoaXMudGFza0Rpcn0vJHtkZXB9YCkpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoYnVmZi5sZW5ndGggPiAwKSB7XG5cdFx0XHRkdi5oZWFkZXIoMiwgXCJOZWVkc1wiKTtcblx0XHRcdGR2Lmxpc3QoYnVmZik7XG5cdFx0fVxuXHR9XG5cblx0YXV0b0ZpZWxkTmVlZGVkQnkoZHYsIGN1cnJlbnQpIHtcblx0XHRjb25zdCB0YXNrcyA9IHRoaXMuZ2V0RGVwZW5kYW50VGFza3MoZHYsIGN1cnJlbnQpO1xuXHRcdGlmICh0YXNrcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRpZiAoIXRoaXMuaXNEb25lKGR2LCB0YXNrLnV1aWQpKSB7XG5cdFx0XHRcdGJ1ZmYucHVzaChkdi5maWxlTGluayh0YXNrLmZpbGUucGF0aCkpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoYnVmZi5sZW5ndGggPiAwKSB7XG5cdFx0XHRkdi5oZWFkZXIoMiwgXCJOZWVkZWRCeVwiKTtcblx0XHRcdGR2Lmxpc3QoYnVmZik7XG5cdFx0fVxuXHR9XG5cblx0YXV0b0ZpZWxkVGFncyhkdiwgZm0pIHtcblx0XHRjb25zdCB0YWdzID0gZm0udGFncztcblx0XHRpZiAodGFncyA9PSB1bmRlZmluZWQgfHwgdGFncy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0YWdzLnNvcnQoKTtcblx0XHRkdi5oZWFkZXIoMiwgXCJUYWdzXCIpO1xuXHRcdGxldCBzID0gXCJcIjtcblx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0XHRzICs9IGAgIyR7dGFnfWA7XG5cdFx0fVxuXHRcdGR2LnBhcmFncmFwaChzKTtcblxuXHRcdC8vIGR2LnBhcmFncmFwaChzKTtcblx0XHQvLyBmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0Ly8gICBkdi5wYXJhZ3JhcGgoYCMke3RhZ31gKTtcblx0XHQvLyB9XG5cdH1cblxuXHRhdXRvRmllbGRUYXNrQmFzZShkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgZm0gPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnNvbGUud2FybihcImZtIGlzIHJlcXVpcmVkXCIpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuYXV0b0ZpZWxkTmVlZChkdiwgZm0pO1xuXHRcdHRoaXMuYXV0b0ZpZWxkTmVlZGVkQnkoZHYsIGN1cnJlbnQpO1xuXHRcdHRoaXMuYXV0b0ZpZWxkVGFncyhkdiwgZm0pO1xuXG5cdFx0Y29uc3QgbG9nRW50cmllcyA9IGR2XG5cdFx0XHQucGFnZXMoYFwiJHt0aGlzLmxvZ0Rpcn0vJHtmbS51dWlkfVwiYClcblx0XHRcdC53aGVyZSgocCkgPT4gcC50eXBlID09PSA2KVxuXHRcdFx0LnNvcnQoKGspID0+IGsuY3JlYXRlZF9hdCwgXCJkZXNjXCIpO1xuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGxldCB0b3RhbFRpbWUgPSAwO1xuXHRcdGZvciAoY29uc3QgZW50cnkgb2YgbG9nRW50cmllcykge1xuXHRcdFx0Y29uc3QgZm1lID0gZW50cnkuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGNvbnN0IGUgPSBbXTtcblx0XHRcdGxldCBzdGFydDogYW55ID0gMDtcblx0XHRcdGxldCBzdG9wOiBhbnkgPSAwO1xuXG5cdFx0XHRpZiAoZm1lID09PSB1bmRlZmluZWQgfHwgZm1lLmNyZWF0ZWRfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXI6ICR7Zm1lLnV1aWR9YCk7XG5cdFx0XHR9XG5cblx0XHRcdHN0YXJ0ID0gbmV3IERhdGUoZm1lLmNyZWF0ZWRfYXQpO1xuXHRcdFx0ZS5wdXNoKHN0YXJ0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApKTtcblxuXHRcdFx0aWYgKGZtZS5kb25lX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0c3RvcCA9IERhdGUubm93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzdG9wID0gbmV3IERhdGUoZm1lLmRvbmVfYXQpO1xuXHRcdFx0fVxuXHRcdFx0dG90YWxUaW1lICs9IHN0b3AgLSBzdGFydDtcblxuXHRcdFx0ZS5wdXNoKFxuXHRcdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0XHRmbWUudXVpZCxcblx0XHRcdFx0XHRcIiMjIENvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRmbWUudXVpZC5zbGljZSgwLCA4KSxcblx0XHRcdFx0KSxcblx0XHRcdCk7XG5cdFx0XHRlLnB1c2goTWF0aC5yb3VuZCgoKHN0b3AgLSBzdGFydCkgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwKTtcblx0XHRcdGlmIChmbWUucmV2aWV3ZWQgPT09IHVuZGVmaW5lZCB8fCBmbWUucmV2aWV3ZWQgPT09IDApIHtcblx0XHRcdFx0ZS5wdXNoKDApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZS5wdXNoKGZtZS5yZXZpZXdlZCk7XG5cdFx0XHR9XG5cblx0XHRcdGJ1ZmYucHVzaChlKTtcblx0XHR9XG5cblx0XHRpZiAoYnVmZi5sZW5ndGggPiAwKSB7XG5cdFx0XHRkdi5oZWFkZXIoMiwgXCJMb2dzXCIpO1xuXHRcdFx0ZHYudGFibGUoW1wiY3JlYXRlZF9hdFwiLCBcInV1aWRcIiwgXCJzZXNzaW9uXCIsIFwicmV2aWV3ZWRcIl0sIGJ1ZmYpO1xuXHRcdFx0aWYgKHRvdGFsVGltZSA+IDApIHtcblx0XHRcdFx0ZHYucGFyYWdyYXBoKFxuXHRcdFx0XHRcdGBfdG90YWxUaW1lIChoKTpfICR7TWF0aC5yb3VuZCgodG90YWxUaW1lIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMFxuXHRcdFx0XHRcdH1gLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGF1dG9GaWVsZExvZyhkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgZm0gPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkdi5oZWFkZXIoMiwgXCJQYXJlbnRcIik7XG5cdFx0ZHYucGFyYWdyYXBoKGR2LmZpbGVMaW5rKGAke3RoaXMudGFza0Rpcn0vJHtmbS5wYXJlbnRfaWR9YCkpO1xuXHR9XG5cblx0YXV0b0ZpZWxkQXV0aG9ycyhkdiwgZm0pIHtcblx0XHRjb25zdCBhdXRob3JzID0gZm0uYXV0aG9ycztcblx0XHRpZiAoYXV0aG9ycyA9PT0gdW5kZWZpbmVkIHx8IGF1dGhvcnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGR2LmhlYWRlcigyLCBcIkF1dGhvcnNcIik7XG5cdFx0ZHYubGlzdChhdXRob3JzKTtcblx0fVxuXG5cdGF1dG9GaWVsZFRpdGxlKGR2LCBmbSkge1xuXHRcdGNvbnN0IHRpdGxlID0gZm0uYWxpYXM7XG5cdFx0aWYgKHRpdGxlID09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGR2LmhlYWRlcigxLCB0aXRsZSk7XG5cdH1cblxuXHRhdXRvRmllbGRMaXRlcmF0dXJlTm90ZShkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgZm0gPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLmF1dG9GaWVsZFRpdGxlKGR2LCBmbSk7XG5cdFx0dGhpcy5hdXRvRmllbGRBdXRob3JzKGR2LCBmbSk7XG5cdFx0dGhpcy5hdXRvRmllbGRUYWdzKGR2LCBmbSk7XG5cdH1cblxuXHRhdXRvRmllbGRQZXJtYW5lbnQoZHYpIHtcblx0XHRjb25zdCBjdXJyZW50ID0gZHYuY3VycmVudCgpO1xuXHRcdGNvbnN0IGZtID0gY3VycmVudC5maWxlLmZyb250bWF0dGVyO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5hdXRvRmllbGRUYWdzKGR2LCBmbSk7XG5cdH1cblxuXHRhdXRvRmllbGRUYXNrKGR2KSB7XG5cdFx0cmV0dXJuIHRoaXMuYXV0b0ZpZWxkVGFza0Jhc2UoZHYpO1xuXHR9XG5cblx0YXV0b0ZpZWxkTGl0ZXJhdHVyZShkdikge1xuXHRcdHJldHVybiB0aGlzLmF1dG9GaWVsZExpdGVyYXR1cmVOb3RlKGR2KTtcblx0fVxuXG5cdGF1dG9GaWVsZEZsZWV0aW5nKGR2KSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0YXV0b0ZpZWxkU3VwcGx5KGR2KSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0ZmluZFRhc2tzQnlQcm9qZWN0KGR2LCBuYW1lKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXG5cdFx0aWYgKG5hbWUgIT09IFwiXCIgJiYgbmFtZSAhPT0gXCJub25lXCIpIHtcblx0XHRcdGNvbnN0IHRhc2tzID0gdGhpcy5nZXRUYXNrcyhkdiwgYCR7dGhpcy5OYW1lc3BhY2UuUFJPSkVDVH0vbm9uZWAsIFtcblx0XHRcdFx0dGhpcy5UYXNrLkJBU0UsXG5cdFx0XHRdKTtcblx0XHRcdGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuXHRcdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdFx0aWYgKHRoaXMuaXNEb2FibGUoZHYsIHRhc2spKSB7XG5cdFx0XHRcdFx0YnVmZi5wdXNoKHRhc2spO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IHRhc2tzID0gdGhpcy5nZXRUYXNrcyhkdiwgXCJcIiwgW3RoaXMuVGFzay5CQVNFXSk7XG5cdFx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGNvbnN0IHRhZ3MgPSBmbS50YWdzO1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0KGZtLnRhZ3MgPT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdFx0KG5hbWUgPT09IFwiXCIgfHwgbmFtZSA9PT0gXCJub25lXCIpKSB8fFxuXHRcdFx0XHRcdGZtLnRhZ3MuY29udGFpbnMoYCR7dGhpcy5OYW1lc3BhY2UuUFJPSkVDVH0vbm9uZWApXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGlmICh0aGlzLmlzRG9hYmxlKGR2LCB0YXNrKSkge1xuXHRcdFx0XHRcdFx0YnVmZi5wdXNoKHRhc2spO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGJ1ZmYuc29ydCgpO1xuXHRcdHJldHVybiBidWZmO1xuXHR9XG5cblx0Z2V0VGFnKHRhZ3MsIHR5cGUpIHtcblx0XHRsZXQgbmFtZSA9IFwiXCI7XG5cdFx0bGV0IGRlZmF1bHRWYWx1ZSA9IFwiXCI7XG5cblx0XHRpZiAodHlwZSA9PT0gXCJhcmVhXCIpIHtcblx0XHRcdG5hbWUgPSB0aGlzLk5hbWVzcGFjZS5BUkVBO1xuXHRcdFx0ZGVmYXVsdFZhbHVlID0gdGhpcy5EZWZhdWx0LkFSRUE7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSBcImNvbnRleHRcIikge1xuXHRcdFx0bmFtZSA9IHRoaXMuTmFtZXNwYWNlLkNPTlRFWFQ7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSB0aGlzLkRlZmF1bHQuQ09OVEVYVDtcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwibGF5ZXJcIikge1xuXHRcdFx0bmFtZSA9IHRoaXMuTmFtZXNwYWNlLkxBWUVSO1xuXHRcdFx0ZGVmYXVsdFZhbHVlID0gdGhpcy5EZWZhdWx0LkxBWUVSO1xuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gXCJvcmdcIikge1xuXHRcdFx0bmFtZSA9IHRoaXMuTmFtZXNwYWNlLk9SRztcblx0XHRcdGRlZmF1bHRWYWx1ZSA9IHRoaXMuRGVmYXVsdC5PUkc7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSBcInByb2plY3RcIikge1xuXHRcdFx0bmFtZSA9IHRoaXMuTmFtZXNwYWNlLlBST0pFQ1Q7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSB0aGlzLkRlZmF1bHQuUFJPSkVDVDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBnZXRUYWcgZ290IHVuc3Vwb3J0ZWQgdHlwZTogJHt0eXBlfWApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxlbiA9IG5hbWUubGVuZ3RoICsgMTtcblx0XHRjb25zdCBkZWZhdWx0VGFnID0gYCR7bmFtZX0vJHtkZWZhdWx0VmFsdWV9YDtcblx0XHRpZiAodGFncyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFRhZztcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0XHRpZiAodGFnLmxlbmd0aCA+IGxlbiAmJiB0YWcuc2xpY2UoMCwgbGVuKSA9PSBgJHtuYW1lfS9gKSB7XG5cdFx0XHRcdHJldHVybiB0YWc7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlZmF1bHRUYWc7XG5cdH1cblxuXHRnZXRBcmVhKHRhZ3MpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUYWcodGFncywgXCJhcmVhXCIpO1xuXHR9XG5cblx0Z2V0Q29udGV4dCh0YWdzKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VGFnKHRhZ3MsIFwiY29udGV4dFwiKTtcblx0fVxuXHRnZXRMYXllcih0YWdzKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VGFnKHRhZ3MsIFwibGF5ZXJcIik7XG5cdH1cblxuXHRnZXRPcmcodGFncykge1xuXHRcdHJldHVybiB0aGlzLmdldFRhZyh0YWdzLCBcIm9yZ1wiKTtcblx0fVxuXG5cdGdldFByb2plY3QodGFncykge1xuXHRcdHJldHVybiB0aGlzLmdldFRhZyh0YWdzLCBcInByb2plY3RcIik7XG5cdH1cblxuXHRwYXJzZUxpc3RGcm9udG1hdHRlcihmbSkge1xuXHRcdGxldCBtaW5Qcmlvcml0eSA9IDA7XG5cdFx0aWYgKGZtLm1pbl9wcmlvcml0eSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRtaW5Qcmlvcml0eSA9IGZtLm1pbl9wcmlvcml0eTtcblx0XHR9XG5cblx0XHRsZXQgaWdub3JlID0gW107XG5cdFx0aWYgKGZtLmlnbm9yZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZ25vcmUgPSBmbS5pZ25vcmU7XG5cdFx0fVxuXG5cdFx0bGV0IGJ5QXJlYXMgPSBbXTtcblx0XHRpZiAoZm0uYnlfYXJlYXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0YnlBcmVhcyA9IGZtLmJ5X2FyZWFzO1xuXHRcdH1cblxuXHRcdGxldCBieVByb2plY3RzID0gW107XG5cdFx0aWYgKGZtLmJ5X3Byb2plY3RzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGJ5UHJvamVjdHMgPSBmbS5ieV9wcm9qZWN0cztcblx0XHR9XG5cdFx0cmV0dXJuIFttaW5Qcmlvcml0eSwgaWdub3JlLCBieUFyZWFzLCBieVByb2plY3RzXTtcblx0fVxuXG5cdHJlbmRlck5hbWVzcGFjZUNvbnRlbnQoZHYpIHtcblx0XHRjb25zdCBzZWxmID0gZHYuY3VycmVudCgpO1xuXHRcdGNvbnN0IG5hbWUgPSBzZWxmLmZpbGUubmFtZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsIC0xKTtcblxuXHRcdGR2LmhlYWRlcigxLCBcIkluZGV4XCIpO1xuXHRcdGR2LmhlYWRlcigyLCBgJHtzZWxmLmZpbGUubmFtZX1gKTtcblxuXHRcdGNvbnN0IHRhZ3MgPSB0aGlzLmdldE5hbWVzcGFjZUNvbnRlbnQoZHYsIG5hbWUpO1xuXHRcdHRhZ3Muc29ydCgpO1xuXG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0ZHYucGFyYWdyYXBoKGAjJHtuYW1lfS8ke3RhZ31gKTtcblx0XHR9XG5cdH1cblxuXHRyZW5kZXJVbnByb2Nlc3NlZExvZ3MoZHYpIHtcblx0XHRjb25zdCBsb2dzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke3RoaXMubG9nRGlyfVwiYClcblx0XHRcdC53aGVyZShcblx0XHRcdFx0KHApID0+XG5cdFx0XHRcdFx0cC50eXBlID09PSB0aGlzLlR5cGUuTE9HICYmXG5cdFx0XHRcdFx0KHAucmV2aWV3ZCA9PT0gdW5kZWZpbmVkIHx8IHAucmV2aWV3ZWQgPCAxKSxcblx0XHRcdClcblx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiYXNjXCIpO1xuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBsb2dzKSB7XG5cdFx0XHQvLyBjb25zb2xlLmxvZyhlbnRyeS5maWxlKTtcblx0XHRcdC8vIGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Ly8gaWYgKGlnbm9yZS5jb250YWlucyhmbS51dWlkKSkge1xuXHRcdFx0Ly8gXHRjb250aW51ZTtcblx0XHRcdC8vIH1cblx0XHRcdC8vIGlmICh0b2RheS5jb250YWlucyhmbS51dWlkKSkge1xuXHRcdFx0Ly8gXHRjb250aW51ZTtcblx0XHRcdC8vIH1cblx0XHRcdC8vIGlmIChmbS5wcmlvcml0eSAhPT0gdW5kZWZpbmVkICYmIGZtLnByaW9yaXR5IDwgbWluUHJpb3JpdHkpIHtcblx0XHRcdC8vIFx0Y29udGludWU7XG5cdFx0XHQvLyB9XG5cdFx0XHQvLyBpZiAobGliLmlzRG9hYmxlKGR2LCB0YXNrKSkge1xuXHRcdFx0Ly8gXHRidWZmLnB1c2godGFzayk7XG5cdFx0XHQvLyB9XG5cdFx0fVxuXG5cdFx0Ly8gaWYgKHRhc2tzLmxlbmd0aCA+IDApIHtcblx0XHQvLyBcdGR2LmhlYWRlcigyLCBcIkFkSG9jXCIpO1xuXHRcdC8vIFx0bGliLnJlbmRlckJhc2VBc0FycmF5KGR2LCBidWZmLnJldmVyc2UoKSk7XG5cdFx0Ly8gfVxuXG5cdFx0Y29uc3QgYXJyID0gW107XG5cdFx0bG9ncy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdFx0Y29uc3QgZm0gPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBwYXJlbnRJZCA9IGZtLnBhcmVudF9pZDtcblx0XHRcdGlmIChwYXJlbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBsb2cgZW50cnk6ICR7ZW50cnkuZmlsZS5wYXRofWApO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBwYXJlbnQgPSBkdi5wYWdlcyhgXCIke3RoaXMudGFza0Rpcn0vJHtwYXJlbnRJZH1cImApO1xuXHRcdFx0Y29uc3QgcGFyZW50Rm0gPSBwYXJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChwYXJlbnRGbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0YXNrOiAke3BhcmVudC5maWxlLnBhdGh9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBwcm9qZWN0ID0gdGhpcy5nZXRQcm9qZWN0KHBhcmVudEZtLnRhZ3MpO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRwcm9qZWN0ID09PSBgJHt0aGlzLk5hbWVzcGFjZS5QUk9KRUNUfS8ke3RoaXMuRGVmYXVsdC5QUk9KRUNUfWBcblx0XHRcdCkge1xuXHRcdFx0XHRwcm9qZWN0ID0gXCJcIjtcblx0XHRcdH1cblxuXHRcdFx0bGV0IGFyZWEgPSB0aGlzLmdldEFyZWEocGFyZW50Rm0udGFncyk7XG5cdFx0XHRpZiAoYXJlYSA9PT0gYCR7dGhpcy5OYW1lc3BhY2UuQVJFQX0vJHt0aGlzLkRlZmF1bHQuQVJFQX1gKSB7XG5cdFx0XHRcdGFyZWEgPSBcIlwiO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBmb3JtYXRlZCA9IFtdO1xuXG5cdFx0XHRmb3JtYXRlZC5wdXNoKFxuXHRcdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0XHRlbnRyeS5maWxlLnBhdGgsXG5cdFx0XHRcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdFx0YCR7Zm0udXVpZC5zbGljZSgwLCA4KX1gLFxuXHRcdFx0XHQpLFxuXHRcdFx0KTtcblx0XHRcdGNvbnN0IGNyZWF0ZWRBdCA9IG5ldyBEYXRlKGZtLmNyZWF0ZWRfYXQpO1xuXHRcdFx0Zm9ybWF0ZWQucHVzaChjcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkpO1xuXHRcdFx0Zm9ybWF0ZWQucHVzaChwcm9qZWN0KTtcblx0XHRcdGZvcm1hdGVkLnB1c2goYXJlYSk7XG5cdFx0XHRhcnIucHVzaChmb3JtYXRlZCk7XG5cdFx0fSk7XG5cblx0XHRkdi50YWJsZShbXCJ1dWlkXCIsIFwiY3JlYXRlZF9hdFwiLCBcInByb2plY3RcIiwgXCJhcmVhXCJdLCBhcnIpO1xuXHR9XG5cblx0YXNzZXJ0VGFza0RvbmVBdChkdiwgdGFza0lkKSB7XG5cdFx0Y29uc3QgdGFzayA9IGR2LnBhZ2VzKGBcIiR7dGhpcy50YXNrRGlyfS8ke3Rhc2tJZH1cImApO1xuXHRcdGlmICh0YXNrLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGB0YXNrOiAke3Rhc2tJZH0gZG9lc3Qgbm90IGV4aXN0c2ApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYHRhc2s6ICR7dGFza0lkfSBkb2VzIG5vdCBoYXZlIGEgZnJvbnRtYXR0ZXJgKTtcblx0XHR9XG5cblx0XHRjb25zdCBsb2dzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke3RoaXMubG9nRGlyfS8ke3Rhc2tJZH1cImApXG5cdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImFzY1wiKTtcblx0XHRpZiAobG9ncy5sZW5ndGggPCAxKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYHRhc2s6ICR7dGFza0lkfSBoYXMgbm8gTG9nc2ApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxhc3RFbnRyeSA9IGxvZ3NbbG9ncy5sZW5ndGggLSAxXTtcblx0XHRpZiAobGFzdEVudHJ5LmZpbGUuZnJvbnRtYXR0ZXIuZG9uZV9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGB0YXNrOiAke3Rhc2tJZH0gbGFzdCBlbnRyeSBpcyBtaXNzaW5nICdkb25lX2F0JyBmaWVsZGAsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGRvbmVBdCA9IG5ldyBEYXRlKGxhc3RFbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVfYXQpO1xuXHRcdHJldHVybiBbXG5cdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0dGFzay5maWxlLnBhdGgsXG5cdFx0XHRcdFwiQ29udGVudFwiLFxuXHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0YCR7dGFzay5maWxlLmZyb250bWF0dGVyLnV1aWQuc2xpY2UoMCwgOCl9YCxcblx0XHRcdCksXG5cdFx0XHRgJHtkb25lQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCl9YCxcblx0XHRdO1xuXHR9XG5cblx0Z2V0RG9uZVRpbWVsaW5lKGR2KSB7XG5cdFx0Ly8gcHJlbmRzIGVuIGNvbXB0ZSBkb2luZyAtPiBkb25lLCBwYXMgbGVzIHRhc2sgc3VyIGxlcXVlbGxlcyBkdSB0cmF2YWlsIGEgXHUwMEU5dFx1MDBFOSBmYWl0IG1haXMgcXVpIG9udCBcdTAwRTl0XHUwMEU5IHN1c3BlbmRcblx0XHQvLyBkYWlseSwgdGFzayB0cm9wIGxvbmd1ZSBwb3VyIGV0cmUgZmFpdGUgZW4gdW4gc2l0dGluZ1xuXHRcdGNvbnN0IHRhc2tzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke3RoaXMudGFza0Rpcn1cImApXG5cdFx0XHQud2hlcmUoKHApID0+IHAuc3RhdHVzID09PSBcImRvbmVcIik7XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgdGFzazogJHtmbS51dWlkfSBkb2VzIG5vdCBoYXZlIGEgZnJvbnRtYXR0ZXJgKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgbG9ncyA9IGR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke3RoaXMubG9nRGlyfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImFzY1wiKTtcblx0XHRcdGlmIChsb2dzLmxlbmd0aCA8IDEpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGB0YXNrOiAke2ZtLnV1aWR9IGhhcyBubyBMb2dzYCk7XG5cdFx0XHRcdC8vIHRocm93IG5ldyBFcnJvcihgdGFzazogJHt0YXNrSWR9IGhhcyBubyBMb2dzYCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGxhc3RFbnRyeSA9IGxvZ3NbbG9ncy5sZW5ndGggLSAxXTtcblx0XHRcdGlmIChsYXN0RW50cnkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChsYXN0RW50cnkuZmlsZS5mcm9udG1hdHRlci5kb25lX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGB0YXNrOiAke2ZtLnV1aWR9IGxhc3QgZW50cnkgaXMgbWlzc2luZyAnZG9uZV9hdCcgZmllbGRgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRmbS5kb25lQXQgPSBuZXcgRGF0ZShsYXN0RW50cnkuZmlsZS5mcm9udG1hdHRlci5kb25lX2F0KTtcblx0XHRcdGJ1ZmYucHVzaCh0YXNrKTtcblx0XHR9XG5cblx0XHRidWZmLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdGNvbnN0IGRhdGVBID0gbmV3IERhdGUoYS5maWxlLmZyb250bWF0dGVyLmRvbmVBdCk7XG5cdFx0XHRjb25zdCBkYXRlQiA9IG5ldyBEYXRlKGIuZmlsZS5mcm9udG1hdHRlci5kb25lQXQpO1xuXHRcdFx0cmV0dXJuIChkYXRlQS5nZXRUaW1lKCkgLSBkYXRlQi5nZXRUaW1lKCkpICogLTE7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBhcnIgPSBbXTtcblx0XHRidWZmLmZvckVhY2goKGUpID0+IHtcblx0XHRcdGFyci5wdXNoKFtcblx0XHRcdFx0ZHYuc2VjdGlvbkxpbmsoXG5cdFx0XHRcdFx0ZS5maWxlLnBhdGgsXG5cdFx0XHRcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdFx0YCR7ZS5maWxlLmZyb250bWF0dGVyLnV1aWQuc2xpY2UoMCwgOCl9YCxcblx0XHRcdFx0KSxcblx0XHRcdFx0YCR7ZS5maWxlLmZyb250bWF0dGVyLmRvbmVBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDE2KX1gLFxuXHRcdFx0XSk7XG5cdFx0fSk7XG5cblx0XHRkdi50YWJsZShbXCJ1dWlkXCIsIFwiZG9uZUF0XCJdLCBhcnIpO1xuXHR9XG5cblx0ZHVyYXRpb25TdHJpbmdUb1NlYyh2YWwpIHtcblx0XHRjb25zdCBtdWx0ID0gdmFsLnNsaWNlKC0xKTtcblx0XHRsZXQgbSA9IDA7XG5cdFx0aWYgKG11bHQgPT09IFwiaFwiKSB7XG5cdFx0XHRtID0gNjAgKiA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT09IFwibVwiKSB7XG5cdFx0XHRtID0gNjA7XG5cdFx0fSBlbHNlIGlmIChtdWx0ID09PSBcImRcIikge1xuXHRcdFx0bSA9IDI0ICogNjAgKiA2MDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKGBVbmhhbmRsZWQgY2FzZSBtdWx0OiAke211bHR9YCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG0gKiBwYXJzZUludCh2YWwuc2xpY2UoMCwgLTEpKTtcblx0fVxuXG5cdHRlc3REdkZ1bmMoKSB7XG5cdFx0Ly8gcHJlbmRzIGVuIGNvbXB0ZSBkb2luZyAtPiBkb25lLCBwYXMgbGVzIHRhc2sgc3VyIGxlcXVlbGxlcyBkdSB0cmF2YWlsIGEgXHUwMEU5dFx1MDBFOSBmYWl0IG1haXMgcXVpIG9udCBcdTAwRTl0XHUwMEU5IHN1c3BlbmRcblx0XHQvLyBkYWlseSwgdGFzayB0cm9wIGxvbmd1ZSBwb3VyIGV0cmUgZmFpdGUgZW4gdW4gc2l0dGluZ1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCBkdiA9IGFwcC5wbHVnaW5zLnBsdWdpbnMuZGF0YXZpZXcuYXBpO1xuXHRcdGNvbnN0IHRhc2tzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke3RoaXMudGFza0Rpcn1cImApXG5cdFx0XHQud2hlcmUoKHApID0+IHAuc3RhdHVzID09PSBcImRvbmVcIik7XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgdGFzazogJHtmbS51dWlkfSBkb2VzIG5vdCBoYXZlIGEgZnJvbnRtYXR0ZXJgKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgbG9ncyA9IGR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke3RoaXMubG9nRGlyfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImFzY1wiKTtcblx0XHRcdGlmIChsb2dzLmxlbmd0aCA8IDEpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGB0YXNrOiAke2ZtLnV1aWR9IGhhcyBubyBMb2dzYCk7XG5cdFx0XHRcdC8vIHRocm93IG5ldyBFcnJvcihgdGFzazogJHt0YXNrSWR9IGhhcyBubyBMb2dzYCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGxhc3RFbnRyeSA9IGxvZ3NbbG9ncy5sZW5ndGggLSAxXTtcblx0XHRcdGlmIChsYXN0RW50cnkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChsYXN0RW50cnkuZmlsZS5mcm9udG1hdHRlci5kb25lX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGB0YXNrOiAke2ZtLnV1aWR9IGxhc3QgZW50cnkgaXMgbWlzc2luZyAnZG9uZV9hdCcgZmllbGRgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRmbS5kb25lQXQgPSBuZXcgRGF0ZShsYXN0RW50cnkuZmlsZS5mcm9udG1hdHRlci5kb25lX2F0KTtcblx0XHRcdGJ1ZmYucHVzaCh0YXNrKTtcblx0XHR9XG5cblx0XHRidWZmLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdGNvbnN0IGRhdGVBID0gbmV3IERhdGUoYS5maWxlLmZyb250bWF0dGVyLmRvbmVBdCk7XG5cdFx0XHRjb25zdCBkYXRlQiA9IG5ldyBEYXRlKGIuZmlsZS5mcm9udG1hdHRlci5kb25lQXQpO1xuXHRcdFx0cmV0dXJuIChkYXRlQS5nZXRUaW1lKCkgLSBkYXRlQi5nZXRUaW1lKCkpICogLTE7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBhcnIgPSBbXTtcblx0XHRidWZmLmZvckVhY2goKGUpID0+IHtcblx0XHRcdGFyci5wdXNoKFtcblx0XHRcdFx0ZHYuc2VjdGlvbkxpbmsoXG5cdFx0XHRcdFx0ZS5maWxlLnBhdGgsXG5cdFx0XHRcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdFx0YCR7ZS5maWxlLmZyb250bWF0dGVyLnV1aWQuc2xpY2UoMCwgOCl9YCxcblx0XHRcdFx0KSxcblx0XHRcdFx0YCR7ZS5maWxlLmZyb250bWF0dGVyLmRvbmVBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDE2KX1gLFxuXHRcdFx0XSk7XG5cdFx0fSk7XG5cblx0XHQvLyBkdi50YWJsZShbXCJ1dWlkXCIsIFwiZG9uZUF0XCJdLCBhcnIpO1xuXHR9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQSxzQkFRTzs7O0FDVEEsSUFBTSxRQUFRO0FBQUEsRUFDcEIsT0FBTztBQUFBLEVBQ1AsWUFBWTtBQUFBLEVBQ1osT0FBTztBQUFBLEVBQ1AsU0FBUztBQUFBLEVBQ1QsT0FBTztBQUFBLEVBQ1AsTUFBTTtBQUFBLEVBQ04sVUFBVTtBQUFBLEVBQ1YsTUFBTTtBQUFBLEVBQ04sYUFBYTtBQUFBLEVBQ2IsU0FBUztBQUFBLEVBQ1QsV0FBVztBQUFBLEVBQ1gsVUFBVTtBQUFBLEVBQ1YsU0FBUztBQUFBLEVBQ1QsT0FBTztBQUNSO0FBRU8sSUFBTSxTQUFTO0FBQUEsRUFDckIsTUFBTTtBQUFBLEVBQ04sT0FBTztBQUFBLEVBQ1AsTUFBTTtBQUFBLEVB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QU0sZUFBZTtBQUNwQixTQUFLLFdBQVcsT0FBTztBQUFBLE1BQ3RCLENBQUM7QUFBQSxNQUNEO0FBQUEsTUFDQSxNQUFNLEtBQUssU0FBUztBQUFBLElBQ3JCO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUFBLEVBQ2xDO0FBQ0Q7QUFFTyxJQUFNLGVBQU4sY0FBMkIsc0JBQU07QUFBQSxFQUN2QyxZQUFZQyxNQUFVO0FBQ3JCLFVBQU1BLElBQUc7QUFBQSxFQUNWO0FBQUEsRUFFQSxTQUFTO0FBQ1IsVUFBTSxFQUFFLFVBQVUsSUFBSTtBQUV0QixVQUFNLEtBQUssS0FBSyxJQUFJLFFBQVEsUUFBUSxTQUFTO0FBQzdDLFVBQU0sUUFBUSxHQUFHLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxHQUFHLEVBQUU7QUFDNUMsUUFBSSxJQUFJO0FBQ1IsZUFBVyxRQUFRLE9BQU87QUFDekIsV0FBSyxHQUFHLEtBQUssS0FBSztBQUFBO0FBQUE7QUFBQSxJQUVuQjtBQUNBLGNBQVUsUUFBUSxDQUFDO0FBQUEsRUFDcEI7QUFBQSxFQUVBLFVBQVU7QUFDVCxVQUFNLEVBQUUsVUFBVSxJQUFJO0FBQ3RCLGNBQVUsTUFBTTtBQUFBLEVBQ2pCO0FBQ0Q7IiwKICAibmFtZXMiOiBbInBhZ2UiLCAiZm0iLCAiVHlwZXMiLCAiZm91bmQiLCAiYXJlYXMiLCAiYnVmZiIsICJhcHAiXQp9Cg==
