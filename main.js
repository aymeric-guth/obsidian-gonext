/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  ExampleModal: () => ExampleModal,
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// constants.ts
var Paths = {
  Tasks: "813 Tasks",
  Components: "Components",
  Goals: "Goals",
  Slipbox: "803 Slipbox",
  Inbox: "800 Inbox",
  Refs: "802 Refs",
  Archives: "400 Archives",
  Logs: "600 Log",
  Attachments: "000 Attachments",
  Journal: "Journal",
  Resources: "Resources",
  Projects: "100 Projects",
  Domains: "Domains",
  Names: "Names"
};
var Status = {
  Todo: "todo",
  Doing: "doing",
  Done: "done",
  Maybe: "maybe",
  Standby: "standby",
  Trash: "trash"
};
var Types = {
  Fleeting: 13,
  Literature: 1,
  Permanent: 2,
  Task: 3,
  Praxis: 4,
  Provision: 5,
  Log: 6,
  Resource: 7,
  Media: 8,
  Project: 12,
  Org: 9,
  Domain: 10,
  Component: 11
};
var Namespace = {
  Area: "area",
  Context: "context",
  Layer: "layer",
  Org: "org",
  Project: "project"
};
var Default = {
  Area: "none",
  Context: "any",
  Layer: "none",
  Org: "none",
  Project: "none"
};

// api.ts
var FilterBy = class {
  constructor(fm) {
    this.fm = fm;
    if (fm === void 0) {
      this.predicates = [];
    } else {
      this.predicates = Array.isArray(fm.filter_by) ? fm.filter_by : [];
    }
  }
  nameInNamespace(fm, ns) {
    let found = false;
    if (ns.length === 0) {
      return true;
    }
    for (const a of ns) {
      const root = a.split("/");
      Assert.True(root.length === 2, `Invalid tag: '${a}'`);
      const parent = root[0].slice(0, 1) === "!" ? root[0].slice(1) : root[0];
      const name = Helper.getTag(fm, parent);
      if (a.slice(0, 1) === "!") {
        if (name === a.slice(1)) {
          return false;
        } else {
          found = true;
        }
      } else {
        if (name === a) {
          found = true;
        } else {
          found = false;
        }
      }
    }
    return found;
  }
  filter(fm) {
    if (this.predicates.length == 0) {
      return false;
    }
    return !this.nameInNamespace(fm, this.predicates);
  }
};
var FrontmatterJS = class {
  singular(values, field) {
    if (!Helper.nilCheck(this.fm[field])) {
      const value = this.fm[field];
      if (typeof value === "string") {
        if (!values.contains(value)) {
          values.push(value);
        }
      } else {
        console.warn(
          `'${field}' is ignored, invalid data-type: '${typeof this.fm[field]}'`
        );
      }
    }
  }
  plural(values, field) {
    if (!Helper.nilCheck(this.fm[field])) {
      if (!Array.isArray(this.fm[field])) {
        console.warn(
          `'${field}' is ignored, invalid data-type: '${field}'`
        );
      } else {
        for (const value of this.fm[field]) {
          if (typeof value === "string") {
            if (!values.contains(value)) {
              values.push(value);
            }
          } else {
            console.warn(
              `'${value}s.${value}' is ignored, invalid data-type: '${typeof value}'`
            );
          }
        }
      }
    }
  }
  constructor(page) {
    Assert.True(page !== void 0, "'page' is undefined");
    this.f = page.file;
    const f = this.f;
    Assert.True(f !== void 0, "'f' is undefined");
    this.fm = f.frontmatter;
    Assert.True(this.fm !== void 0, "'fm' is undefined");
    Assert.True(
      this.fm.uuid !== void 0,
      `'uuid' is undefined for '${this.f.path}'`
    );
    this.uuid = this.fm.uuid;
    this.version = this.fm.version;
    this.createdAt = new Date(this.fm.created_at);
    this.at = this.fm.at !== void 0 ? new Date(this.fm.at) : new Date();
    this.before = this.fm.before !== void 0 ? new Date(this.fm.before) : new Date();
    this.after = this.fm.after !== void 0 ? new Date(this.fm.after) : new Date();
    this.components = [];
    this.domains = [];
    this.projects = [];
    this.contexts = [];
    this.traits = [];
    const domains = [];
    const components = [];
    const projects = [];
    const names = [];
    const contexts = [];
    const contents = [];
    const traits = [];
    if (!Helper.nilCheck(this.fm.tags)) {
      if (!Array.isArray(this.fm.tags)) {
        console.warn("'tags' is ignored, invalid data-type");
        this.fm.tags = [];
      }
      for (const tag of this.fm.tags) {
        if (tag.slice(0, 7) === "domain/") {
          domains.push(tag.slice(7));
        } else if (tag.slice(0, 10) === "component/") {
          components.push(tag.slice(10));
        } else if (tag.slice(0, 8) === "project/") {
          projects.push(tag.slice(8));
        } else if (tag.slice(0, 5) === "name/") {
          names.push(tag.slice(5));
        } else if (tag.slice(0, 8) == "context/") {
          contexts.push(tag.slice(8));
        } else if (tag.slice(0, 8) == "content/") {
          contents.push(tag.slice(8));
        } else if (tag.slice(0, 6) == "trait/") {
          traits.push(tag.slice(6));
        }
      }
    }
    this.singular(domains, "domain");
    this.plural(domains, "domains");
    this.singular(components, "components");
    this.plural(components, "components");
    this.singular(projects, "project");
    this.plural(projects, "projects");
    this.singular(contents, "contents");
    this.plural(contents, "contents");
    this.singular(names, "name");
    this.plural(names, "names");
    this.plural(names, "alias");
    this.singular(traits, "trait");
    this.plural(traits, "traits");
    this.domains = domains;
    this.components = components;
    this.projects = projects;
    this.names = names;
    this.contexts = contexts;
    this.contents = contents;
    this.traits = traits;
  }
  getDomain(emptyDefault = true) {
    if (emptyDefault) {
      return this.domains[0];
    } else {
      return this.domains[0] === void 0 ? "unknown" : this.domains[0];
    }
  }
  getDomains() {
    return this.domains;
  }
  getTraits() {
    return this.traits;
  }
  getComponents() {
    return this.components;
  }
  getProject(emptyDefault = true) {
    if (emptyDefault) {
      return this.projects[0];
    } else {
      return this.projects[0] === void 0 ? "" : this.projects[0];
    }
  }
  getProjects() {
    return this.projects;
  }
  getName(emptyDefault = true) {
    if (emptyDefault) {
      return this.names[0];
    } else {
      return this.names[0] === void 0 ? "" : this.names[0];
    }
  }
  getContent(emptyDefault = true) {
    if (emptyDefault) {
      return this.contents[0];
    } else {
      return this.contents[0] === void 0 ? "" : this.contents[0];
    }
  }
  getNames() {
    return this.names;
  }
  getContext(emptyDefault = true) {
    if (emptyDefault) {
      return this.contexts[0];
    } else {
      return this.contexts[0] === void 0 ? "" : this.contexts[0];
    }
  }
  resolve(dv) {
    const domains = [];
    for (const domain of this.domains) {
      if (Helper.isUUID(domain)) {
        const pages = dv.pages(`"${Paths.Domains}"`).where((page) => page.file.frontmatter.uuid === domain);
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 1) {
          const page = pages[0];
          domains.push(page.file.frontmatter.name);
        }
      } else {
        const pages = dv.pages(`"${Paths.Domains}"`).where((page) => page.file.frontmatter.name === domain);
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 1) {
          const page = pages[0];
          domains.push(page.file.frontmatter.name);
        }
      }
    }
    if (domains.length !== this.domains.length) {
      console.warn(`Domain resolution failed for: ${this.domains}`);
    }
    this.domains = domains;
  }
};
var ValidationError = class extends Error {
  constructor(message) {
    super(message);
    this.name = "ValidationError";
  }
};
var Assert = {
  True(predicate, message) {
    if (!predicate) {
      throw new ValidationError(message);
    }
  }
};
var Helper = {
  nilCheck(val) {
    return val === void 0 || val === null;
  },
  getKeyFuck(groupBy) {
    switch (groupBy) {
      default:
      case "doneAt":
        return (entry) => entry.file.frontmatter.doneAt.toISOString().slice(0, 10);
        break;
      case "createdAt":
        return (entry) => entry.file.frontmatter.createdAt.toISOString().slice(0, 10);
        break;
      case "project":
        return (entry) => entry.file.frontmatter.project;
        break;
      case "area":
        return (entry) => entry.file.frontmatter.area;
        break;
    }
  },
  getKey(groupBy) {
    switch (groupBy) {
      default:
      case "doneAt":
        return (entry) => entry.doneAt.toISOString().slice(0, 10);
        break;
      case "createdAt":
        return (entry) => entry.createdAt.toISOString().slice(0, 10);
        break;
      case "project":
        return (entry) => entry.project;
        break;
      case "area":
        return (entry) => entry.area;
        break;
    }
  },
  numberTypeToString(val) {
    switch (val.type) {
      case Types.Fleeting:
        return "fleeting";
      case Types.Log:
        return "log";
      case Types.Project:
        return "project";
      case Types.Org:
        return "org";
      case Types.Domain:
        return "domain";
      case Types.Component:
        return "component";
      default:
        throw new Error(
          `numberTypeToString: type: "${val.type}" not implemented "${val.uuid}"`
        );
    }
  },
  roundToOneDecimal(val) {
    return Math.round(val * 10) / 10;
  },
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  },
  getField(field, defaultValue) {
    if (field === void 0 || field === null) {
      return defaultValue;
    } else {
      return field;
    }
  },
  getDate(dt) {
    if (dt === "" || dt === null) {
      return void 0;
    } else if (dt !== void 0) {
      dt = new Date(dt);
      if (isNaN(dt)) {
        return void 0;
      } else {
        return dt;
      }
    } else {
      return void 0;
    }
  },
  getTag(fm, type, emptyDefault) {
    let name = "";
    let defaultValue = "";
    if (type === "area") {
      name = Namespace.Area;
      defaultValue = Default.Area;
    } else if (type === "context") {
      name = Namespace.Context;
      defaultValue = Default.Context;
    } else if (type === "layer") {
      name = Namespace.Layer;
      defaultValue = Default.Layer;
    } else if (type === "org") {
      name = Namespace.Org;
      defaultValue = Default.Org;
    } else if (type === "project") {
      name = Namespace.Project;
      defaultValue = Default.Project;
    } else if (type == "domain") {
      name = "domain";
      defaultValue = "none";
    } else {
      throw new Error(`getTag got unsuported type: '${type}'`);
    }
    const len = name.length + 1;
    const defaultTag = `${name}/${defaultValue}`;
    let defaultRetVal = defaultTag;
    if (emptyDefault) {
      defaultRetVal = void 0;
    }
    if (fm === void 0) {
      return defaultRetVal;
    }
    const tags = fm.tags;
    if (tags === void 0 || tags.length === 0) {
      return defaultRetVal;
    }
    for (const tag of tags) {
      if (tag == defaultTag) {
        return defaultRetVal;
      }
      if (tag.length > len && tag.slice(0, len) == `${name}/`) {
        return tag;
      }
    }
    return defaultRetVal;
  },
  getName(fm) {
    const components = Helper.getComponents(fm);
    if (components.length < 1) {
      throw new Error(`Helper.getName() ${fm}`);
    }
    let name = void 0;
    let occurences = 0;
    for (const component of components) {
      if (component.slice(0, 15) === "component/name/") {
        name = component.slice(15);
        occurences += 1;
      }
    }
    if (occurences > 1) {
      throw new Error(
        `Helper.getName() ${fm} multiple occurences of 'component/name'`
      );
    }
    if (name === void 0) {
      throw new Error(
        `Helper.getName() ${fm} 'component/name' undefined`
      );
    }
    return name;
  },
  getComponents(fm) {
    const components = [];
    if (Helper.nilCheck(fm.tags)) {
      return [];
    }
    for (const tag of fm.tags) {
      if (tag.length > 10 && tag.slice(0, 10) === "component/") {
        components.push(tag);
      }
    }
    return components;
  },
  getArea(fm, emptyDefault = false) {
    return Helper.getTag(fm, "area", emptyDefault);
  },
  getContext(fm, emptyDefault = false) {
    return Helper.getTag(fm, "context", emptyDefault);
  },
  getDomain(fm, emptyDefault = false) {
    return Helper.getTag(fm, "domain", emptyDefault);
  },
  getLayer(fm, emptyDefault = false) {
    return Helper.getTag(fm, "layer", emptyDefault);
  },
  getOrg(fm, emptyDefault = false) {
    return Helper.getTag(fm, "org", emptyDefault);
  },
  getProject(fm, emptyDefault = false) {
    return Helper.getTag(fm, "project", emptyDefault);
  },
  durationStringToSec(val) {
    if (val === void 0 || val.length === 0) {
      return 0;
    }
    const mult = val.slice(-1);
    let m = 0;
    if (mult === "h") {
      m = 60 * 60;
    } else if (mult === "m") {
      m = 60;
    } else if (mult === "d") {
      m = 24 * 60 * 60;
    } else if (mult == "w") {
      m = 24 * 60 * 60 * 7;
    } else {
      console.warn(`Unhandled case val: ${val}`);
      return void 0;
    }
    return m * parseInt(val.slice(0, -1));
  },
  msecToStringDuration(val) {
    const oneHourInMsec = 36e5;
    const oneDayInMsec = 864e5;
    if (val >= 24 * oneHourInMsec) {
      return String(Helper.roundToOneDecimal(val / oneDayInMsec)).padStart(
        2,
        "0"
      ) + " d";
    } else {
      return String(Helper.roundToOneDecimal(val / oneHourInMsec)).padStart(
        2,
        "0"
      ) + " h";
    }
  },
  isUUID(val) {
    if (typeof val !== "string") {
      return false;
    }
    return val.length === 36;
  }
};
var AutoField = {
  tags(dv, fm, level = 2) {
    const tags = fm.tags;
    if (tags == void 0 || tags.length === 0) {
      return;
    }
    tags.sort();
    dv.header(level, "Tags");
    let s = "";
    for (const tag of tags) {
      s += ` #${tag}`;
    }
    dv.paragraph(s);
  },
  authors(dv, fm) {
    const authors = fm.authors;
    if (authors === void 0 || authors.length === 0) {
      return;
    }
    dv.header(3, "Authors");
    dv.list(authors);
  },
  title(dv, fm) {
    const title = fm.alias;
    if (title === void 0 || title.length === 0) {
      return;
    }
    dv.header(3, title);
  },
  logs(dv, entries) {
    const buff = [];
    let totalTime = 0;
    for (const entry of entries) {
      const fme = entry.file.frontmatter;
      const e = [];
      let start = 0;
      let stop = 0;
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      if (fme.done_at === void 0) {
        stop = Date.now();
      } else {
        stop = new Date(fme.done_at);
      }
      totalTime += stop - start;
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      e.push(Math.round((stop - start) / (1e3 * 60 * 60) * 10) / 10);
      if (fme.reviewed === void 0 || fme.reviewed === 0) {
        e.push(0);
      } else {
        e.push(fme.reviewed);
      }
      buff.push(e);
    }
    if (buff.length > 0) {
      dv.header(2, "Logs");
      dv.table(["created_at", "uuid", "session", "reviewed"], buff);
      if (totalTime > 0) {
        dv.paragraph(
          `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
        );
      }
    }
  },
  revisions(dv, entries) {
    const current = dv.current();
    const cols = ["", "created_at", "uuid"];
    const buff = [];
    for (const entry of entries) {
      const e = [];
      const fm = entry.file.frontmatter;
      if (current.file.frontmatter.uuid === fm.uuid) {
        e.push("->");
      } else {
        e.push("");
      }
      const start = new Date(fm.created_at);
      e.push(start.toISOString().slice(0, 10));
      e.push(
        dv.sectionLink(
          fm.uuid,
          "## Content",
          false,
          fm.uuid.slice(0, 8)
        )
      );
      buff.push(e);
    }
    if (buff.length > 1) {
      dv.header(2, "Revisions");
      dv.table(cols, buff);
    }
  },
  media(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    const pages = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
    if (pages.length !== 1) {
      return;
    }
    const media = pages[0];
    const mediaFm = media.file.frontmatter;
    AutoField.title(dv, mediaFm);
    dv.paragraph(Renderer.makeLinkAlias(dv, media.file));
    AutoField.authors(dv, mediaFm);
    AutoField.tags(dv, mediaFm, 3);
    const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
    AutoField.logs(dv, logEntries);
  },
  revisionsList(dv, root) {
    let head = dv.current();
    while (true) {
      const pages = dv.pages(`"${root}"`).where(
        (page) => page.file.frontmatter.next === head.file.frontmatter.uuid
      );
      if (pages.length > 1) {
        throw new Error();
      } else if (pages.length === 0) {
        break;
      }
      head = pages[0];
    }
    const buff = [];
    let cur = head;
    while (true) {
      buff.push(cur);
      const fm = cur.file.frontmatter;
      if (fm.next === void 0) {
        break;
      }
      const pages = dv.pages(`"${root}/${fm.next}"`);
      if (pages.length === 0) {
        break;
      }
      cur = pages[0];
    }
    return buff;
  },
  permanent(dv) {
    const fm = dv.current().file.frontmatter;
    const components = Helper.getComponents(fm);
    const traits = [];
    for (const component of components) {
      if (component.length > 16 && component.slice(0, 16) === "component/trait/") {
        traits.push(component.slice(16));
      }
    }
    if (traits.length === 0) {
      AutoField.tags(dv, fm, 2);
    } else {
      if (traits.length > 1) {
        throw new Error("Support for 1 trait only");
      }
      const trait = traits[0];
      if (trait !== "revision") {
        throw new Error(`Trait '${trait}' not implemented`);
      }
      const ontology = [];
      for (const component of components) {
        if (component.length > 16 && component.slice(0, 16) === "component/trait/") {
          continue;
        }
        ontology.push(`#${component}`);
      }
      ontology.push(`#${Helper.getDomain(fm)}`);
      const pages = dv.pages(ontology.join(" and ")).where((page) => page.file.frontmatter.type === fm.type).sort((k) => k.created_at, "desc").array();
      AutoField.revisions(dv, pages);
    }
  },
  autoFieldTitle(dv, fm) {
    const title = fm.alias;
    if (title == void 0) {
      return;
    }
    dv.header(1, title);
  },
  autoFieldAuthors(dv, fm) {
    const authors = fm.authors;
    if (authors === void 0 || authors.length === 0) {
      return;
    }
    dv.header(2, "Authors");
    dv.list(authors);
  },
  autoFieldTags(dv, fm) {
    const tags = fm.tags;
    if (tags == void 0 || tags.length === 0) {
      return;
    }
    tags.sort();
    dv.header(2, "Tags");
    let s = "";
    for (const tag of tags) {
      s += ` #${tag}`;
    }
    dv.paragraph(s);
  },
  literature(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    if (Helper.nilCheck(fm.authors)) {
    } else {
      this.autoFieldTitle(dv, fm);
      this.autoFieldAuthors(dv, fm);
      this.autoFieldTags(dv, fm);
    }
  },
  goal(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      console.warn("fm is required");
      return;
    }
    const created_at = new Date(fm.created_at);
    const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
    const buff = [];
    for (const entry of logEntries) {
      const fme = entry.file.frontmatter;
      const e = [];
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      const start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      buff.push(e);
    }
    const before = new Date(fm.before);
    const timeframe = (before.getTime() - created_at.getTime()) / (1e3 * 3600 * 24);
    let timeframeText = "";
    dv.header(3, "Timeframe");
    if (timeframe > 0 && timeframe < 30) {
      timeframeText = "runaway";
    } else if (timeframe < 60) {
      timeframeText = "10,000 feet";
    } else if (timeframe < 360) {
      timeframeText = "20,000 feet";
    } else if (timeframe < 720) {
      timeframeText = "30,000 feet";
    } else if (timeframe < 1080) {
      timeframeText = "40,000 feet";
    } else {
      timeframeText = "50,000 feet";
    }
    dv.paragraph(timeframeText);
    if (buff.length > 0) {
      dv.header(2, "Reviews");
      dv.table(["reviewed_at", "uuid"], buff);
    }
  },
  domain(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      console.warn("fm is required");
      return;
    }
    Assert.True(fm.name !== void 0, "'name' is undefined");
    {
      const pages = dv.pages(`"${Paths.Goals}"`).where((p) => {
        const fml = new FrontmatterJS(p);
        if (fml.fm.status !== "todo") {
          return false;
        }
        if (fml.getDomain() !== fm.name) {
          return false;
        }
        return true;
      }).array();
      const rs = [];
      for (const page of pages) {
        const fme = page.file.frontmatter;
        if (fme === void 0 || fme.created_at === void 0 || fme.before === void 0) {
          throw new Error(`Invalid frontmatter: ${fme.uuid}`);
        }
        const entry = {
          uuid: fme.uuid,
          createdAt: new Date(fme.created_at),
          before: new Date(fme.before)
        };
        entry.delta = entry.before.getTime() - entry.createdAt.getTime();
        rs.push(entry);
      }
      rs.sort((a, b) => a.delta - b.delta);
      dv.header(2, "Goals");
      const buff = [];
      for (const entry of rs) {
        const e = [];
        e.push(
          dv.sectionLink(
            entry.uuid,
            "## Content",
            false,
            entry.uuid.slice(0, 8)
          )
        );
        e.push(entry.before.toISOString().slice(0, 10));
        buff.push(e);
      }
      dv.table(["uuid", "before"], buff);
    }
    {
      const fmd = new FrontmatterJS({ file: { frontmatter: fm } });
      fmd.resolve(dv);
      const buff = [];
      for (const domain of fmd.getDomains()) {
        buff.push([`#domain/${domain}`]);
      }
      dv.header(2, "Domains");
      dv.table(["name"], buff);
    }
  },
  resource(dv) {
    return AutoField.permanent(dv);
  },
  generic(dv) {
    const current = dv.current();
    const fm = new FrontmatterJS(current);
    const path = fm.f.path;
    const dirname = path.split("/")[0];
    if (dirname === void 0) {
      throw new Error("unexpected error");
    }
    if (dirname === Paths.Tasks) {
    } else if (dirname == Paths.Inbox) {
    } else {
      return;
      throw new Error("not implemented");
    }
    const links = [];
    for (const trait of fm.getTraits()) {
      if (trait.slice(0, 4) === "link") {
        links.push(trait.slice(5));
      }
    }
    const refs = [];
    for (const link of links) {
      const pages = dv.pages().where((page) => page.file.frontmatter.uuid === link);
      if (pages.length === 1) {
        refs.push(pages[0]);
      } else {
        console.warn(`referencing unkown resource: '${link}'`);
      }
    }
    if (refs.length > 0) {
      dv.header(2, "refs");
      for (const ref of refs) {
        dv.paragraph(Renderer.makeLinkAlias(dv, ref.file));
      }
    }
  },
  calendar(dv) {
    const current = dv.current().file.frontmatter;
    const currentAt = new Date(current.at);
    const currentAtShort = currentAt.toISOString().slice(0, 10);
    const pages = dv.pages(`"Calendar"`).where((page) => {
      const fm = page.file.frontmatter;
      if (fm.completed === true) {
        return false;
      }
      const now = new Date();
      if (fm.date !== currentAtShort) {
        return false;
      }
      if (fm.completed === false) {
        return true;
      } else {
        return true;
      }
    }).sort((k) => k.at, "asc");
    if (pages.length === 0) {
      return;
    }
    const buff = [];
    for (const page of pages) {
      const fm = page.file.frontmatter;
      buff.push([`${fm.startTime} - ${fm.endTime}`, `${fm.title}`]);
    }
    console.log(pages.length);
    dv.table(["at", "title"], buff);
  },
  daily(dv) {
    const current = dv.current().file.frontmatter;
    const currentAt = new Date(current.at);
    const currentAtShort = currentAt.toISOString().slice(0, 10);
    const pages = dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (current.uuid === fm.uuid) {
        return false;
      }
      if (fm.fm.status !== "todo" || fm.getProject() === "daily") {
        return false;
      }
      const now = new Date();
      if (page.file.frontmatter.at !== void 0 && fm.at.toISOString().slice(0, 10) === currentAtShort) {
        return true;
      }
      if (page.file.frontmatter.at !== void 0 && fm.at.getTime() < now.getTime()) {
        return true;
      }
      if (page.file.frontmatter.before !== void 0 && fm.before.getTime() > now.getTime()) {
        return true;
      }
      if (page.file.frontmatter.after !== void 0 && fm.after.getTime() < now.getTime()) {
        return true;
      }
      return false;
    }).sort((k) => k.at, "asc");
    if (pages.length === 0) {
      return;
    }
    const buff = [];
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      const h = String(fm.at.getHours()).padStart(2, "0");
      const m = String(fm.at.getMinutes()).padStart(2, "0");
      if (page.file.frontmatter.status === "done") {
        buff.push([
          `~~${Renderer.makeLinkShortUUID(dv, page.file, "Task")}~~`,
          `~~${h}:${m}~~`
        ]);
      } else {
        buff.push([
          `${Renderer.makeLinkShortUUID(dv, page.file, "Task")}`,
          `${h}:${m}`
        ]);
      }
    }
    dv.table(["uuid", "at"], buff);
  }
};
var Renderer = {
  makeLinkName(dv, f, anchor = "Content") {
    if (Helper.nilCheck(f.frontmatter.name)) {
      return Renderer.makeLinkShortUUID(dv, f, anchor);
    }
    return dv.sectionLink(f.path, anchor, false, `${f.frontmatter.name}`);
  },
  makeLinkAlias(dv, f, anchor = "Content") {
    if (Helper.nilCheck(f.frontmatter.alias)) {
      return Renderer.makeLinkShortUUID(dv, f, anchor);
    }
    return dv.sectionLink(f.path, anchor, false, `${f.frontmatter.alias}`);
  },
  makeLinkShortUUID(dv, f, anchor = "Content") {
    return dv.sectionLink(
      f.path,
      anchor,
      false,
      `${f.frontmatter.uuid.slice(0, 8)}`
    );
  },
  makeLink(dv, f, name = void 0, anchor = "Content") {
    return dv.sectionLink(f.path, anchor, false, name);
  },
  projectLogs(dv, data) {
    const cols = ["type", "task_id", "log_id", "took", "reviewed"];
    const buff = [];
    let totalTime = 0;
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      Assert.True(
        !Helper.nilCheck(fm.type),
        `"type" id not defined for: ${f.path}`
      );
      const createdAt = new Date(fm.created_at);
      const doneAt = new Date(fm.done_at);
      const delta = doneAt.getTime() - createdAt.getTime();
      totalTime += delta;
      const record = {
        taskId: "",
        logId: Renderer.makeLinkAlias(dv, f),
        took: Math.round(delta / (1e3 * 60 * 60) * 10) / 10,
        reviewed: Helper.nilCheck(fm.reviewed) ? 0 : fm.reviewed
      };
      const pages = dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (pages.length !== 1) {
        throw new Error(
          `parent task with id: "${fm.parent_id}" does not exists`
        );
      }
      const parent = pages[0];
      switch (parent.file.frontmatter.type) {
        case Types.Task:
          record.type = `<font color=8B0000>task</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Task"
          );
          break;
        case Types.Media:
          record.type = `<font color=00008B>media</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Content"
          );
          break;
          aalkjkljlkjfsidfsldfj;
        case Types.Praxis:
          record.type = `<font color=FF8C00>praxis</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Content"
          );
          break;
        case Types.Provision:
          record.type = `<font color=DC143C>provision</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Content"
          );
          break;
        default:
          throw new Error(
            `Renderer.projectLogs: type "${parentTask.file.frontmatter.type}" not implemented`
          );
      }
      buff.push([
        record.type,
        record.taskId,
        record.logId,
        record.took,
        record.reviewed
      ]);
    }
    dv.table(cols, buff);
  },
  goal(dv, data) {
    const buff = [];
    for (const fm of data) {
      const created_at = fm.createdAt;
      const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
      const before = new Date(fm.fm.before);
      const timeframe = (before.getTime() - created_at.getTime()) / (1e3 * 3600 * 24);
      let timeframeText = "";
      if (timeframe > 0 && timeframe < 30) {
        timeframeText = "runaway";
      } else if (timeframe < 60) {
        timeframeText = "10,000 feet";
      } else if (timeframe < 360) {
        timeframeText = "20,000 feet";
      } else if (timeframe < 720) {
        timeframeText = "30,000 feet";
      } else if (timeframe < 1080) {
        timeframeText = "40,000 feet";
      } else {
        timeframeText = "50,000 feet";
      }
      buff.push([
        before.toISOString().slice(0, 10),
        dv.sectionLink(
          fm.uuid,
          "## Content",
          false,
          fm.uuid.slice(0, 8)
        ),
        fm.getDomain(),
        timeframeText
      ]);
    }
    dv.table(["deadline", "uuid", "domain", "timeframe"], buff);
  },
  inboxEntry(dv, data) {
    const cols = [
      "uuid",
      // "type",
      // "age",
      // "size",
      "name"
      // "project",
      // "domain",
      // "components",
    ];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      Assert.True(
        !Helper.nilCheck(fm.type),
        `"type" id not defined for: ${f.path}`
      );
      const now = new Date();
      const delta = now.getTime() - fm.createdAt.getTime();
      const since = Helper.msecToStringDuration(delta);
      let name = "";
      console.log("\n");
      console.log(fm.domain);
      console.log(fm.project);
      console.log("\n");
      if (fm.domain !== "domain/undefined") {
        name = fm.domain;
      } else if (fm.project !== void 0) {
        name = fm.project;
      } else {
        name = "\\-";
      }
      const record = {
        uuid: Helper.numberTypeToString(fm) === "fleeting" ? `&#128196 ${Renderer.makeLinkAlias(dv, f)}` : Renderer.makeLinkAlias(dv, f),
        // uuid: `&#9728 ${Renderer.makeLinkAlias(dv, f)}`,
        type: Helper.numberTypeToString(fm),
        since: `${since}`,
        size: f.size,
        project: fm.project === void 0 ? "\\-" : fm.project.slice(8),
        domain: fm.domain === void 0 ? "\\-" : fm.domain.slice(7),
        //Renderer.domainBase(dv, fm.domain),
        name
      };
      if (record.type === "log") {
        const pages = dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
        if (pages.length !== 1) {
          throw new Error(`${fm.parent_id} ${fm.id}`);
        }
        const parent = pages[0];
        switch (parent.type) {
          case Types.Task:
            record.uuid = `&#128211 ${record.uuid}`;
            record.type = `<font color=8B0000>task</font>`;
            break;
          case Types.Praxis:
            record.uuid = `&#128188 ${record.uuid}`;
            record.type = `<font color=FF8C00>praxis</font>`;
            break;
          case Types.Media:
            record.uuid = `&#128191 ${record.uuid}`;
            record.type = `<font color=00008B>media</font>`;
            break;
          case Types.Provision:
            record.type = `<font color=DC143C>provision</font>`;
            break;
          default:
            break;
        }
      }
      buff.push([
        record.uuid,
        // record.type,
        // record.since,
        // record.size,
        record.name
        // record.project,
        // record.domain,
      ]);
    }
    dv.table(cols, buff);
  },
  adhocTaskReady(dv, data) {
    const buff = [];
    const cols = ["uuid", "task", "estimate"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      switch (fm.type) {
        case Types.Task:
          buff.push([
            Renderer.makeLinkAlias(dv, f, "Task"),
            dv.markdownTaskList(f.tasks),
            fm.time_estimate,
            Helper.getField(Helper.getDomain(fm, true), "\\-")
          ]);
          break;
        case Types.Praxis:
          buff.push([
            Renderer.makeLinkAlias(dv, f, "Task"),
            dv.markdownTaskList(f.tasks),
            fm.time_estimate,
            Helper.getField(Helper.getDomain(fm, true), "\\-")
          ]);
          break;
        case Types.Media:
          const pages = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
          if (pages.length !== 1) {
            throw new Error(
              `adhocTaskReady: ref_id: "${fm.ref_id}" not found`
            );
          }
          buff.push([
            Renderer.makeLinkAlias(dv, f, "Content"),
            Renderer.makeLinkAlias(dv, pages[0].file, "Content"),
            fm.time_estimate,
            Helper.getField(Helper.getDomain(fm, true), "\\-")
          ]);
          break;
        default:
          throw new Error(
            `adhocTaskReady: Unhandled type: '${fm.type}'`
          );
      }
    }
    dv.table(cols, buff);
  },
  domainBase(dv, data) {
    if (data === Helper.getDomain({})) {
      return "\\-";
    } else {
      return `#${data}`;
    }
  },
  componentsBase(dv, data) {
    if (data.length === 0) {
      return "\\-";
    } else {
      const buff = [];
      for (const d of data) {
        buff.push(`#${d}`);
      }
      return buff.join("<br>");
    }
  },
  ontologyBase(dv, fm) {
    const buff = [`#${Helper.getDomain(fm)}`];
    const components = Helper.getComponents(fm);
    components.sort();
    for (const component of components) {
      buff.push(`#${component}`);
    }
    return buff.join("<br>");
  },
  knowledgeFull(dv, data) {
    const cols = ["uuid", "ontology"];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      buff.push([
        Renderer.makeLinkAlias(dv, f),
        Renderer.ontologyBase(dv, fm)
      ]);
    }
    dv.table(cols, buff);
  },
  knowledgeBase(dv, data) {
    for (const d of data) {
      dv.paragraph(Renderer.makeLinkAlias(dv, d.file));
    }
  },
  resourceBase(dv, data) {
    const cols = ["uuid"];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      buff.push([Renderer.makeLinkAlias(dv, f)]);
    }
    dv.table(cols, buff);
  },
  // ne pas réutiliser pour le moment
  basicDomain(dv, data) {
    const cols = ["uuid", "name", "parents"];
    const buff = [];
    for (const d of data) {
      const parents = d.getDomains();
      Assert.True(
        !Helper.nilCheck(d.uuid),
        `"uuid" id not defined for: ${d.f.path}`
      );
      const values = [];
      for (const parent of parents) {
        const page = dv.pages(`"${Paths.Domains}"`).where((page2) => page2.file.frontmatter.name === parent);
        if (page.length !== 1) {
          console.warn(
            `Unknown domain '${parent}' delcared by: ${d.file.frontmatter.uuid}`
          );
          continue;
        }
        values.push(
          dv.sectionLink(
            `${Paths.Domains}/${page[0].file.frontmatter.uuid}`,
            "Content",
            false,
            `${parent}`
          )
        );
      }
      const entry = [
        Renderer.makeLinkAlias(dv, d.f),
        d.getName(),
        values.length === 0 ? "" : values
      ];
      buff.push(entry);
    }
    dv.table(cols, buff);
  },
  basicRelation(dv, data) {
    const cols = ["uuid", "name"];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      buff.push([Renderer.makeLinkAlias(dv, f), fm.name]);
    }
    dv.table(cols, buff);
  },
  basicFleeting(dv, data) {
    const cols = ["content", "age", "size"];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      const dt = app.plugins.plugins.gonext.api.frontmatter.getCreatedAt(f);
      const now = new Date();
      const delta = now.getTime() - dt.getTime();
      const since = Helper.msecToStringDuration(delta);
      buff.push([Renderer.makeLinkAlias(dv, f), `${since}`, f.size]);
    }
    dv.table(cols, buff);
  },
  basicLog(dv, entry) {
    const cols = ["uuid", "created_at", "project", "area"];
    const logs = dv.pages(`"${Paths.Logs}"`).where(
      (p) => p.type === Types.Log && (p.reviewed === void 0 || p.reviewed < 1)
    ).sort((k) => k.created_at, "asc");
    const buff = [];
    for (const entry2 of logs) {
      const fm = entry2.file.frontmatter;
      const parentId = fm.parent_id;
      if (parentId === void 0) {
        throw new Error(`Invalid log entry: ${entry2.file.path}`);
      }
      const parent = dv.pages(`"${Paths.Tasks}/${parentId}"`);
      const parentFm = parent.file.frontmatter;
      const project = Helper.getField(
        Helper.getProject(parentFm, true),
        ""
      );
      const area = Helper.getField(Helper.getArea(parentFm, true), "");
      const createdAt = new Date(fm.created_at);
      buff.push([
        dv.sectionLink(
          entry2.file.path,
          "Content",
          false,
          `${fm.uuid.slice(0, 8)}`
        ),
        createdAt.toISOString().slice(0, 10),
        project,
        area
      ]);
    }
    dv.table(cols, buff);
  },
  mediaBase(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate", "area"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const area = Helper.getArea(fm);
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        dv.markdownTaskList(f.tasks),
        fm.time_estimate,
        area
      ]);
    }
    dv.table(cols, buff);
  },
  praxisBase(dv, data) {
    const buff = [];
    const cols = ["tasks", "uuid", "estimate"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        dv.markdownTaskList(f.tasks),
        dv.fileLink(f.path, false, f.name.slice(0, 8)),
        fm.time_estimate
      ]);
    }
    dv.table(cols, buff);
  },
  waitingTask(dv, data) {
    const buff = [];
    const cols = ["tasks", "uuid", "estimate", "cause"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        dv.markdownTaskList(f.tasks),
        dv.fileLink(f.path, false, f.name.slice(0, 8)),
        fm.time_estimate,
        fm.cause
      ]);
    }
    dv.table(cols, buff);
  },
  readyTask(dv, data) {
    const buff = [];
    const cols = ["uuid", "task", "estimate", "area"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        Renderer.makeLinkAlias(dv, f, "Task"),
        dv.markdownTaskList(f.tasks),
        fm.time_estimate,
        Helper.getField(Helper.getArea(fm, true), "\\-")
      ]);
    }
    dv.table(cols, buff);
  },
  provisionBase(dv, data) {
    const buff = [];
    const cols = ["uuid", "supplier", "content", "estimate"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        fm.supplier,
        dv.markdownTaskList(f.tasks),
        fm.time_estimate
      ]);
    }
    dv.table(cols, buff);
  },
  basicTaskJournal(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate"];
    for (const d of data) {
      console.log(d);
      const f = d.file;
      const fm = f.frontmatter;
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      if (fm.ref_id === void 0) {
        buff.push([
          // journal.contains(fm.uuid) ? "->" : "\\-",
          dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
          dv.markdownTaskList(f.tasks),
          fm.time_estimate
        ]);
      } else {
        const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
        if (ref.length === 0) {
          throw new Error(
            `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
          );
        } else {
          buff.push([
            dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
            Renderer.makeLinkAlias(dv, ref[0].file),
            fm.time_estimate,
            domain
          ]);
        }
      }
    }
    dv.table(cols, buff);
  },
  activeTask(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "session"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const logs = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
      const last = logs[0];
      const createdAt = new Date(last.created_at);
      const now = new Date();
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        dv.markdownTaskList(f.tasks),
        ((t) => {
          return Math.round(t / (3600 * 1e3) * 10) / 10;
        })(now.getTime() - createdAt.getTime())
      ]);
    }
    dv.table(cols, buff);
  },
  basicTask(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate", "domain"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      if (fm.ref_id === void 0) {
        buff.push([
          dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
          dv.markdownTaskList(f.tasks),
          fm.time_estimate,
          domain
        ]);
      } else {
        const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
        if (ref.length === 0) {
          throw new Error(
            `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
          );
        } else {
          buff.push([
            dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
            Renderer.makeLinkAlias(dv, ref[0].file),
            fm.time_estimate,
            domain
          ]);
        }
      }
    }
    dv.table(cols, buff);
  },
  logs(dv, entries) {
    const buff = [];
    let totalTime = 0;
    for (const entry of entries) {
      const fme = entry.file.frontmatter;
      const e = [];
      let start = 0;
      let stop = 0;
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      if (fme.done_at === void 0) {
        stop = Date.now();
      } else {
        stop = new Date(fme.done_at);
      }
      totalTime += stop - start;
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      e.push(Math.round((stop - start) / (1e3 * 60 * 60) * 10) / 10);
      if (fme.reviewed === void 0 || fme.reviewed === 0) {
        e.push(0);
      } else {
        e.push(fme.reviewed);
      }
      buff.push(e);
    }
    if (buff.length > 0) {
      dv.header(2, "Logs");
      dv.table(["created_at", "uuid", "session", "reviewed"], buff);
      if (totalTime > 0) {
        dv.paragraph(
          `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
        );
      }
    }
  },
  mediaWithLogs(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate", "current", "domain"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
      if (ref.length === 0) {
        throw new Error(
          `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
        );
      }
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === Types.Log).sort((k) => k.created_at, "desc");
      let totalTime = 0;
      for (const entry of logEntries) {
        const fme = entry.file.frontmatter;
        const e = [];
        let start = 0;
        let stop = 0;
        if (fme === void 0 || fme.created_at === void 0) {
          throw new Error(`Invalid frontmatter: ${fme.uuid}`);
        }
        start = new Date(fme.created_at);
        e.push(start.toISOString().slice(0, 10));
        if (fme.done_at === void 0) {
          stop = Date.now();
        } else {
          stop = new Date(fme.done_at);
        }
        totalTime += stop - start;
      }
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        Renderer.makeLinkAlias(dv, ref[0].file),
        fm.time_estimate,
        `${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}h`,
        domain
      ]);
    }
    dv.table(cols, buff);
  },
  taskDoneWithLogs(dv, data) {
    const buff = [];
    const cols = [
      "taskId",
      "logId",
      "createdAt",
      "doneAt",
      "timeEstimate",
      "took",
      "project"
    ];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      const createdAt = new Date(fm.created_at);
      const doneAt = new Date(fm.done_at);
      const timeEstimate = "";
      const took = (doneAt - createdAt) / (1e3 * 3600);
      const pages = dv.pages(`"${Paths.Tasks}"`).where((page) => page.file.frontmatter.uuid === fm.parent_id);
      if (pages.length !== 1) {
        throw new Error();
      }
      const parent = pages[0];
      const parentFm = parent.file.frontmatter;
      const parentF = parent.file;
      buff.push([
        Renderer.makeLinkShortUUID(dv, parent.file, "Task"),
        Renderer.makeLinkShortUUID(dv, f),
        createdAt.toISOString().slice(0, 10),
        doneAt.toISOString().slice(0, 10),
        timeEstimate,
        ((t) => {
          return Math.round(t * 10) / 10;
        })(took),
        Helper.getProject(parentFm)
      ]);
    }
    dv.table(cols, buff);
  },
  basicDoneTaskWithLogs(dv, data) {
    const cols = [
      "uuid",
      "createdAt",
      "doneAt",
      "timeEstimate",
      "took",
      "delta",
      "project",
      "area"
    ];
    dv.table(cols, data);
  },
  basicDoneTaskWithoutLogs(dv, data) {
    const cols = ["taskId", "createdAt", "project", "area"];
    dv.table(cols, data);
  },
  basicProgressedTaskWithLog(dv, data) {
    const cols = [
      "taskId",
      "logId",
      // "createdAt",
      // "doneAt",
      "took",
      // "tookAcc",
      "project"
      // "domain",
    ];
    dv.table(cols, data);
  },
  // dailyTask(dv, data) {
  // 	Renderer.makeLinkShortUUID(this.dv, page.file),
  // 	dv.
  // 				rs.push([
  // 					"paragraph",
  // 					Renderer.makeLinkShortUUID(this.dv, page.file),
  // 				]);
  // }
  do(dv, rs) {
    for (const row of rs) {
      switch (row[0]) {
        case "header":
          const [, level, heading] = row;
          dv.header(level, heading);
          break;
        case "paragraph":
          const [, text] = row;
          dv.paragraph(text);
          break;
        case "array":
          const [, renderer, data] = row;
          renderer(dv, data);
          break;
        case "stats":
          const [, name, unit, value] = row;
          dv.paragraph(`${name} (${unit}): ${value}`);
          break;
        default:
          throw new Error(`Unsuported opcode: "${opcode}"`);
      }
    }
  }
};
var Frontmatter = class {
  constructor(gonext) {
    this.gonext = gonext;
  }
  projectParseMeta(dv) {
    const current = dv.current();
    const projectName = current.file.folder.slice(
      Paths.Projects.length + 1
    );
    const projectDir = current.file.folder;
    if (projectName.contains("/")) {
      throw new Error(
        `projectDir: ${projectDir} folder: ${current.file.folder}`
      );
    }
    const pages = dv.pages(`"${projectDir}/meta"`).array();
    if (pages.length !== 1) {
      throw new Error(`len: ${pages.length}`);
    }
    const fm = pages[0].file.frontmatter;
    const uuid = fm.uuid;
    if (Helper.nilCheck(uuid)) {
      throw new Error(`project 'uuid' is not defined`);
    }
    const name = fm.name;
    if (Helper.nilCheck(name)) {
      throw new Error(`'name' is not defined`);
    }
    const domains = fm.domains;
    if (!Array.isArray(domains)) {
      throw new Error(`'domains' must be of array type`);
    }
    return {
      uuid,
      name,
      domains
    };
  }
  getCreatedAt(f) {
    return Helper.nilCheck(f.frontmatter.created_at) ? new Date(f.ctime.ts) : new Date(f.frontmatter.created_at);
  }
  getCurrentFrontmatter() {
    const file = this.gonext.workspace.getActiveFile();
    const fileContent = this.gonext.metadataCache.getFileCache(file);
    if (fileContent === void 0) {
      return void 0;
    }
    const fm = fileContent.frontmatter;
    if (fm === void 0) {
      return void 0;
    }
    return fm;
  }
  parseListByNamespace(fm) {
    const byAreas = fm.by_areas === void 0 ? [] : fm.by_areas;
    const byContexts = fm.by_contexts === void 0 ? [] : fm.by_contexts;
    const byLayers = fm.by_layers === void 0 ? [] : fm.by_layers;
    const byOrgs = fm.by_orgs === void 0 ? [] : fm.by_orgs;
    const byProjects = fm.by_projects === void 0 ? [] : fm.by_projects;
    return [byAreas, byContexts, byLayers, byOrgs, byProjects];
  }
  parseListBeforeAfter(fm) {
    const before = Helper.getDate(fm.before);
    const after = Helper.getDate(fm.after);
    return [before, after];
  }
  parseListFilterBy(fm) {
    if (fm === void 0) {
      return [];
    }
    const filterBy = fm.filter_by;
    if (!Array.isArray(filterBy)) {
      return [];
    }
    return filterBy;
  }
  parseListGroupBy(fm) {
    if (fm === void 0) {
      return "";
    }
    const groupBy = fm.group_by;
    if (!(typeof groupBy === "undefined") && !(typeof groupBy === "string")) {
      return "";
    }
    return groupBy;
  }
  parseAllProgressedTasks() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const groupBy = this.parseListGroupBy(fm);
    const filterBy = this.parseListFilterBy(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    return [groupBy, filterBy, before, after];
  }
  parseAllDoneTasks() {
    return this.parseAllProgressedTasks();
  }
  parseAllDoneTaskWithoutLog() {
    return this.parseAllProgressedTasks();
  }
  parseAllTodoAdHoc() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const groupBy = this.parseListGroupBy(fm);
    const filterBy = this.parseListFilterBy(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    const minPriority = Helper.getField(fm.min_priority, 0);
    return [groupBy, filterBy, before, after, minPriority];
  }
  parseInbox() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], 0, 4294967295];
    }
    const source = Helper.nilCheck(fm.source) ? ["logs", "fleeting"] : fm.source;
    const groupBy = Helper.nilCheck(fm.group_by) ? "none" : fm.group_by;
    const filterBy = this.parseListFilterBy(fm);
    const minSize = Helper.nilCheck(fm.min_size) ? 0 : fm.min_size;
    const maxSize = Helper.nilCheck(fm.max_size) ? 4294967295 : fm.max_size;
    return [source, groupBy, filterBy, minSize, maxSize];
  }
  parseJournal() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], [], [], []];
    }
    const [byAreas, byContexts, byLayers, byOrgs, byProjects] = this.parseListByNamespace(fm);
    const tasks = Helper.getField(fm.tasks, []);
    return [byAreas, byContexts, byLayers, byOrgs, byProjects, tasks];
  }
  parseTodoList() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], [], [], [], 0];
    }
    const [byAreas, byContexts, byLayers, byOrgs, byProjects] = this.parseListByNamespace(fm);
    const minPriority = Helper.getField(fm.min_priority, 0);
    return [byAreas, byContexts, byLayers, byOrgs, byProjects, minPriority];
  }
  parseDoneList() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], [], [], [], [], []];
    }
    const [byAreas, byContexts, byLayers, byOrgs, byProjects] = this.parseListByNamespace(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    const fields = Helper.getField(fm.fields, []);
    const stats = Helper.getField(fm.stats, []);
    return [
      byAreas,
      byContexts,
      byLayers,
      byOrgs,
      byProjects,
      fields,
      stats,
      before,
      after
    ];
  }
};
var NoteHelper = class {
  constructor(gonext, dv, frontmatter) {
    this.gonext = gonext;
    this.dv = dv;
    this.frontmatter = frontmatter;
  }
  isDoable(task) {
    const fm = task.file.frontmatter;
    if (fm.status !== Status.Todo) {
      return false;
    }
    if (fm.after !== void 0) {
      const after = new Date(fm.after);
      if (Date.now() <= after.getTime()) {
        return false;
      }
    }
    const deps = fm.needs;
    if (deps === void 0 || deps.length === 0) {
      return true;
    }
    if (this.hasPendingDependencies(deps)) {
      return false;
    }
    return true;
  }
  hasPendingDependencies(deps) {
    for (const dep of deps) {
      const task = this.dv.pages(`"${Paths.Tasks}/${dep}"`).array();
      if (task.length === 0) {
        console.warn(
          `hasPendingDependencies: "${Paths.Tasks}/${dep}" task does not exists`
        );
        continue;
      }
      const fm = task[0].file.frontmatter;
      if (fm.type !== Types.Task && fm.type !== Types.Provision && fm.type !== Types.Praxis) {
        continue;
      }
      if (fm.status === Status.Todo) {
        return true;
      }
    }
    return false;
  }
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  }
  getNamespaceContent(ns) {
    const children = [];
    const pages = this.dv.pages(`#${ns}`);
    for (const p of pages) {
      const tags = p.file.frontmatter.tags;
      if (tags === void 0 || tags.length === 0) {
        continue;
      }
      for (const tag of tags) {
        if (this.isChildTag(ns, tag)) {
          const t = tag.slice(ns.length + 1);
          if (!children.contains(t)) {
            children.push(t);
          }
        }
      }
    }
    return children;
  }
  isLastRevision(page) {
    const revisionList = (dv, root, current) => {
      let head = current;
      while (true) {
        const pages = dv.pages(`"${root}"`).where(
          (page2) => page2.file.frontmatter.next === head.file.frontmatter.uuid
        );
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 0) {
          break;
        }
        head = pages[0];
      }
      const buff = [];
      let cur = head;
      while (true) {
        buff.push(cur);
        const fm2 = cur.file.frontmatter;
        if (fm2.next === void 0) {
          break;
        }
        const pages = dv.pages(`"${root}/${fm2.next}"`);
        if (pages.length === 0) {
          break;
        }
        cur = pages[0];
      }
      return buff;
    };
    const note = page;
    const fm = note.file.frontmatter;
    let revisions = [];
    switch (fm.type) {
      case Types.Permanent:
        revisions = revisionList(this.dv, Paths.Slipbox, note);
        break;
      case Types.Resource:
        revisions = revisionList(this.dv, Paths.Resources, note);
        break;
      default:
        throw new Error();
    }
    if (revisions.length <= 1) {
      return true;
    }
    return revisions[0].file.frontmatter.uuid === fm.uuid;
  }
};
var ListMaker = class {
  constructor(gonext, dv, frontmatter) {
    this.gonext = gonext;
    this.dv = dv;
    this.frontmatter = frontmatter;
    this.noteHelper = new NoteHelper(gonext, dv, frontmatter);
  }
  nameInNamespace(fm, ns) {
    let found = false;
    if (ns.length === 0) {
      return true;
    }
    for (const a of ns) {
      const root = a.split("/");
      Assert.True(root.length === 2, `Invalid tag: '${a}'`);
      const parent = root[0].slice(0, 1) === "!" ? root[0].slice(1) : root[0];
      const name = Helper.getTag(fm, parent);
      if (a.slice(0, 1) === "!") {
        if (name === a.slice(1)) {
          return false;
        } else {
          found = true;
        }
      } else {
        if (name === a) {
          found = true;
        } else {
          found = false;
        }
      }
    }
    return found;
  }
  myNameInNamespace(name, ns) {
    let found = false;
    if (ns.length === 0) {
      return true;
    }
    for (const a of ns) {
      if (a.slice(0, 1) === "!") {
        if (name === a.slice(1)) {
          return false;
        } else {
          found = true;
        }
      } else {
        if (name === a) {
          found = true;
        } else {
          found = false;
        }
      }
    }
    return found;
  }
  filterByNamespace(fm, byAreas, byContexts, byLayers, byOrgs, byProjects) {
    if (!this.myNameInNamespace(Helper.getArea(fm), byAreas)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getContext(fm), byContexts)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getLayer(fm), byLayers)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getOrg(fm), byOrgs)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getProject(fm), byProjects)) {
      return false;
    }
    return true;
  }
  filterByDate(dt, before, after) {
    if (before !== void 0 && dt.getTime() > before.getTime()) {
      return false;
    }
    if (after !== void 0 && dt.getTime() < after.getTime()) {
      return false;
    }
    return true;
  }
  projectResourceSheet() {
    const curFm = this.frontmatter.getCurrentFrontmatter();
    if (curFm === void 0) {
      return;
    }
    const components = curFm.components;
    const domains = curFm.domains;
    let noteTypes = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    if (!Helper.nilCheck(curFm.types) && curFm.types !== "*") {
      noteTypes = curFm.types;
    }
    const dropTasks = curFm.drop_status;
    const minMatchingComponent = components.length;
    const rs = {
      fleeting: [],
      literature: [],
      permanent: [],
      task: [],
      praxis: [],
      supply: [],
      log: [],
      resource: [],
      media: []
    };
    const Types2 = {
      0: "fleeting",
      1: "literature",
      2: "permanent",
      3: "task",
      4: "praxis",
      5: "supply",
      6: "log",
      7: "resource",
      8: "media"
    };
    const pages = this.dv.pages();
    for (const page of pages) {
      const fm = page.file.frontmatter;
      const tags = fm.tags;
      if (tags === void 0 || tags.length === 0) {
        continue;
      }
      const comp = [];
      for (const t of tags) {
        if (t.length > 10 && t.slice(0, 10) === "component/") {
          comp.push(t);
        }
      }
      if (comp.length < components.length) {
        continue;
      }
      let missing = 0;
      for (const component of components) {
        if (!comp.contains(component)) {
          missing += 1;
        }
      }
      if (components.length - missing < minMatchingComponent) {
        continue;
      }
      if (domains.length > 0) {
        let domain = "";
        for (const t of tags) {
          if (t.length > 7 && t.slice(0, 7) === "domain/") {
            domain = t;
            break;
          }
        }
        if (domain === "") {
          console.warn(
            `Missing domain for note: '${page.file.path}'`
          );
        }
        let found2 = false;
        for (const d of domains) {
          if (d === domain) {
            found2 = true;
          }
        }
        if (!found2) {
          continue;
        }
      }
      if (Types2[fm.type] === void 0) {
        console.warn(`Invalid type for note: '${page.file.path}'`);
        continue;
      }
      if (fm.type === 3 || fm.type === 4 || fm.type === 5) {
        let found2 = false;
        for (const status of dropTasks) {
          if (fm.status === status) {
            found2 = true;
            break;
          }
        }
        if (found2) {
          continue;
        }
      }
      let found = false;
      for (const t of noteTypes) {
        if (fm.type === t) {
          found = true;
          break;
        }
      }
      if (!found) {
        continue;
      }
      rs[Types2[fm.type]].push(page);
    }
    const resources = [];
    const types = Object.keys(rs);
    types.sort();
    for (const t of types) {
      if (rs[t].length === 0) {
        continue;
      }
      resources.push(["header", 2, t]);
      for (const note of rs[t]) {
        resources.push(["paragraph", this.dv.fileLink(note.file.path)]);
      }
    }
    return resources;
  }
  resourceLocatorGlobal() {
    const curFm = this.frontmatter.getCurrentFrontmatter();
    if (curFm === void 0) {
      return;
    }
    const components = [];
    if (Array.isArray(curFm.components)) {
      for (const component of curFm.components) {
        if (component.length > 10 && component.slice(0, 10) === "component/") {
          components.push(component);
        } else {
          components.push(`component/${component}`);
        }
      }
    }
    const domains = [];
    if (Array.isArray(curFm.domains)) {
      for (const domain of curFm.domains) {
        if (domain.length > 7 && domain.slice(0, 7) === "domain/") {
          domains.push(domain);
        } else {
          domains.push(`domain/${domain}`);
        }
      }
    }
    let minMatchingComponent = 0;
    if (components.length > 0) {
      if (Helper.nilCheck(curFm.min_matching_components)) {
        minMatchingComponent = components.length;
      } else {
        minMatchingComponent = curFm.min_matching_components;
      }
    }
    let noteTypes = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13];
    if (!Helper.nilCheck(curFm.types) && curFm.types !== "*") {
      noteTypes = curFm.types;
    }
    const dropTasks = Helper.nilCheck(curFm.drop_status) ? [] : curFm.drop_status;
    const groupBy = "type";
    const rs = {
      fleeting: [],
      literature: [],
      permanent: [],
      task: [],
      praxis: [],
      supply: [],
      log: [],
      resource: [],
      media: [],
      org: [],
      domain: [],
      component: [],
      project: []
    };
    const Types2 = {
      1: "literature",
      2: "permanent",
      3: "task",
      4: "praxis",
      5: "supply",
      6: "log",
      7: "resource",
      8: "media",
      9: "org",
      10: "domain",
      11: "component",
      12: "project",
      13: "fleeting"
    };
    const pages = this.dv.pages().where((page) => {
      if (page.file.frontmatter.type !== void 0 && noteTypes.contains(page.file.frontmatter.type)) {
        return true;
      }
      return false;
    });
    for (const page of pages) {
      const fm = page.file.frontmatter;
      const tags = fm.tags;
      if (tags === void 0 || tags.length === 0) {
        continue;
      }
      const comp = [];
      for (const t of tags) {
        if (t.length > 10 && t.slice(0, 10) === "component/") {
          comp.push(t);
        }
      }
      let missing = 0;
      for (const component of components) {
        if (!comp.contains(component)) {
          missing += 1;
        }
      }
      if (components.length - missing < minMatchingComponent) {
        continue;
      }
      if (domains.length > 0) {
        let domain = "";
        for (const t of tags) {
          if (t.length > 7 && t.slice(0, 7) === "domain/") {
            domain = t;
            break;
          }
        }
        if (domain === "") {
          console.warn(
            `Missing domain for note: '${page.file.path}'`
          );
        }
        let found2 = false;
        for (const d of domains) {
          if (d === domain) {
            found2 = true;
          }
        }
        if (!found2) {
          continue;
        }
      }
      if (Types2[fm.type] === void 0) {
        console.warn(`Invalid type for note: '${page.file.path}'`);
        continue;
      }
      if (fm.type === 3 || fm.type === 4 || fm.type === 5 || fm.type === 8) {
        let found2 = false;
        for (const status of dropTasks) {
          if (fm.status === status) {
            found2 = true;
            break;
          }
        }
        if (found2) {
          continue;
        }
      }
      let found = false;
      for (const t of noteTypes) {
        if (fm.type === t) {
          found = true;
          break;
        }
      }
      if (!found) {
        continue;
      }
      if (fm.type === 7 || fm.type === 2) {
        if (!this.noteHelper.isLastRevision(page)) {
          continue;
        }
      }
      rs[Types2[fm.type]].push(page);
    }
    const buff = [];
    const types = Object.keys(rs);
    types.sort();
    for (const t of types) {
      if (rs[t].length === 0) {
        continue;
      }
      rs[t].sort((a, b) => {
        const createdAtA = this.frontmatter.getCreatedAt(a.file);
        const createdAtB = this.frontmatter.getCreatedAt(b.file);
        return createdAtA.getTime() - createdAtB.getTime();
      });
      buff.push(["header", 2, t]);
      buff.push(["array", Renderer.resourceBase, rs[t]]);
    }
    return buff;
  }
  indexAreaDomainMap() {
    const domainMap = {};
    const areaMap = {};
    for (const n of this.dv.pages(`"700 Link/Domains"`).array()) {
      const fm = n.file.frontmatter;
      if (fm.name === void 0 || fm.name === null || fm.name === "") {
        throw new Error(`Missing field 'name' for: ${n.file.path}`);
      }
      if (fm.areas === void 0 || fm.areas === void 0 || fm.areas.length === 0) {
        throw new Error(`Invalid area note: ${n.file.path}`);
      }
      const domain = `domain/${fm.name}`;
      if (domainMap[domain] === void 0) {
        domainMap[domain] = [];
      }
      for (const area of fm.areas) {
        if (!domainMap[domain].contains(area)) {
          domainMap[domain].push(area);
        }
        if (areaMap[area] === void 0) {
          areaMap[area] = [domain];
        } else {
          areaMap[area].push(domain);
        }
      }
    }
    return [domainMap, areaMap];
  }
  indexCommon(path) {
    const bins = {};
    const [domainMap, areaMap] = this.indexAreaDomainMap();
    const notes = this.dv.pages(`"${path}"`).array();
    const rs = [];
    for (const n of notes) {
      const fm = n.file.frontmatter;
      if (fm.tags === void 0 || fm.tags.length === 0) {
        continue;
      }
      const domain = Helper.getDomain(fm);
      if (domain === "domain/none") {
        throw new Error(`Invalid Node: ${n.file.path}`);
      }
      const components = [];
      for (const t of fm.tags) {
        if (t.length > 10 && t.slice(0, 10) === "component/") {
          components.push(t);
        }
      }
      if (components.length === 0) {
        components.push("component/unknown");
      }
      const areas2 = domainMap[domain];
      if (areas2 === void 0) {
        throw new Error(
          `Programming error 'areas' is undefined for domain: '${domain}' note: '${n.file.path}'`
        );
      }
      for (const a of areas2) {
        if (bins[a] === void 0) {
          bins[a] = {};
        }
        for (const d of areaMap[a]) {
          if (bins[a][d] === void 0) {
            bins[a][d] = {};
          }
          if (d !== domain) {
            continue;
          }
          for (const c of components) {
            if (bins[a][d][c] === void 0) {
              bins[a][d][c] = [n];
            } else {
              bins[a][d][c].push(n);
            }
          }
        }
      }
    }
    const areas = Object.keys(bins);
    areas.sort();
    rs.push(["header", 1, "Content"]);
    for (const a of areas) {
      rs.push(["header", 2, a.slice(5)]);
      rs.push(["paragraph", `#${a}`]);
      for (const d of areaMap[a]) {
        rs.push(["header", 3, d.slice(7)]);
        rs.push(["paragraph", `#${d}`]);
        const components = Object.keys(bins[a][d]);
        components.sort();
        for (const c of components) {
          rs.push(["header", 4, c.slice(10)]);
          rs.push(["paragraph", `#${c}`]);
          const tasks = bins[a][d][c];
          for (const t of tasks) {
            rs.push(["paragraph", this.dv.fileLink(t.file.path)]);
          }
        }
      }
    }
    return rs;
  }
  indexResources() {
    return this.indexCommon(Paths.Resources);
  }
  indexContent() {
    return this.indexCommon(Paths.Refs);
  }
  indexKnowledge() {
    const curFm = this.frontmatter.getCurrentFrontmatter();
    if (curFm === void 0) {
      return;
    }
    const allComponents = [];
    if (Array.isArray(curFm.components)) {
      for (const component of curFm.components) {
        if (component.length > 10 && component.slice(0, 10) === "component/") {
          allComponents.push(component);
        } else {
          allComponents.push(`component/${component}`);
        }
      }
    }
    const allDomains = [];
    if (Array.isArray(curFm.domains)) {
      for (const domain of curFm.domains) {
        if (domain.length > 7 && domain.slice(0, 7) === "domain/") {
          allDomains.push(domain);
        } else {
          allDomains.push(`domain/${domain}`);
        }
      }
    }
    const bins = {};
    let groupBy = "domain";
    if (!Helper.nilCheck(curFm.group_by)) {
      groupBy = curFm.group_by;
    }
    const [domainMap, areaMap] = this.indexAreaDomainMap();
    const notes = this.dv.pages(`"${Paths.Slipbox}"`).array();
    const rs = [];
    for (const n of notes) {
      const fm = n.file.frontmatter;
      if (fm.tags === void 0 || fm.tags.length === 0) {
        continue;
      }
      const domain = Helper.getDomain(fm);
      if (domain === "domain/none") {
        throw new Error(`Invalid Node: ${n.file.path}`);
      }
      if (!allDomains.contains(domain)) {
        continue;
      }
      const components = [];
      let isContent = false;
      for (const t of fm.tags) {
        if (t.length > 8 && t.slice(0, 8) === "content/") {
          isContent = true;
          break;
        }
        if (t.length > 10 && t.slice(0, 10) === "component/") {
          components.push(t);
        }
      }
      if (isContent) {
        continue;
      }
      if (components.length === 0) {
        components.push("component/unknown");
      }
      if (bins[domain] === void 0) {
        bins[domain] = {};
      }
      for (const c of components) {
        if (bins[domain][c] === void 0) {
          bins[domain][c] = [];
        }
        bins[domain][c].push(n);
      }
    }
    rs.push(["header", 1, "Index"]);
    if (groupBy === "domain") {
      const domains = Object.keys(bins);
      domains.sort();
      for (const domain of domains) {
        if (domainMap[domain] === void 0) {
          rs.push(["header", 2, "Error"]);
          rs.push(["paragraph", `domain: ${domain} is not in map`]);
          rs.push(["paragraph", `#${domain}`]);
          break;
        }
        if (allDomains.length > 0 && !allDomains.contains(domain)) {
          continue;
        }
        rs.push(["header", 2, domain.slice(7)]);
        rs.push(["paragraph", `#${domain}`]);
        const componentsNamespace = Object.keys(bins[domain]);
        componentsNamespace.sort();
        const components = {};
        for (const componentNamespace of componentsNamespace) {
          let fragment = "";
          const s = componentNamespace.split("/");
          const component = s[1];
          if (s.length === 3) {
            fragment = s[2];
          }
          if (components[component] === void 0) {
            components[component] = [fragment];
          } else {
            components[component].push(fragment);
          }
        }
        const cmp = Object.keys(components);
        cmp.sort();
        for (const component of cmp) {
          const fragments = components[component];
          fragments.sort();
          if (allComponents.length > 0 && !allComponents.contains(`component/${component}`)) {
            continue;
          }
          rs.push(["header", 3, component]);
          rs.push(["paragraph", `#component/${component}`]);
          if (fragments.length > 1) {
            for (const fragment of fragments) {
              const key = `component/${component}${fragment === "" ? "" : "/" + fragment}`;
              rs.push(["paragraph", `#${key}`]);
              const tasks = bins[domain][key];
              if (tasks !== void 0) {
                rs.push([
                  "array",
                  Renderer.knowledgeFull,
                  tasks
                ]);
              }
            }
          } else {
            const key = `component/${component}`;
            const tasks = bins[domain][key];
            if (tasks !== void 0) {
              rs.push(["array", Renderer.knowledgeFull, tasks]);
            }
          }
        }
      }
    } else if (groupBy === "component") {
      const buff = {};
      for (const domain of Object.keys(bins)) {
        for (const componentNamespace of Object.keys(bins[domain])) {
          let fragment = "";
          const s = componentNamespace.split("/");
          const component = s[1];
          if (s.length === 3) {
            fragment = s[2];
          }
          if (buff[component] === void 0) {
            buff[component] = {};
          }
          if (buff[component][fragment] === void 0) {
            buff[component][fragment] = {};
          }
          if (buff[component][fragment][domain] === void 0) {
            buff[component][fragment][domain] = [
              ...bins[domain][componentNamespace]
            ];
          } else {
            for (const task of bins[domain][componentNamespace]) {
              buff[component][fragment][domain].push(task);
            }
          }
        }
      }
      const components = Object.keys(buff);
      components.sort();
      for (const component of components) {
        rs.push(["header", 2, component]);
        rs.push(["paragraph", `#component/${component}`]);
        const fragments = Object.keys(buff[component]);
        fragments.sort();
        for (const fragment of fragments) {
          if (fragment !== "") {
            rs.push([
              "paragraph",
              `#component/${component}/${fragment}`
            ]);
          }
          const domains = Object.keys(buff[component][fragment]);
          domains.sort();
          for (const domain of domains) {
            rs.push(["header", 3, domain.slice(7)]);
            rs.push(["paragraph", `#${domain}`]);
            const tasks = buff[component][fragment][domain];
            for (const task of tasks) {
              rs.push([
                "paragraph",
                this.dv.fileLink(task.file.path)
              ]);
            }
          }
        }
      }
    } else {
      const ontologyMap = {};
      const pages = {};
      const keys = Object.keys(bins);
      keys.sort();
      for (const domain of keys) {
        const keys2 = Object.keys(bins[domain]);
        keys2.sort();
        for (const component of keys2) {
          for (const task of bins[domain][component]) {
            if (task.file.frontmatter.uuid === void 0) {
              continue;
            } else if (pages[task.file.frontmatter.uuid] !== void 0) {
              continue;
            }
            pages[task.file.frontmatter.uuid] = task;
          }
        }
      }
      const keys3 = Object.keys(pages);
      keys3.sort();
      for (const uuid of keys3) {
        const page = pages[uuid];
        const fm = page.file.frontmatter;
        const domain = Helper.getDomain(fm);
        const components = [];
        for (const tag of fm.tags) {
          if (tag.length > 10 && tag.slice(0, 10) === "component/") {
            components.push(tag);
          }
        }
        let s = "";
        s += `${domain}
`;
        components.sort();
        for (const component of components) {
          s += `${component}
`;
        }
        const key = s;
        if (ontologyMap[key] === void 0) {
          ontologyMap[key] = [page];
        } else {
          ontologyMap[key].push(page);
        }
      }
      const keys4 = Object.keys(ontologyMap);
      keys4.sort((a, b) => ontologyMap[a].length - ontologyMap[b].length);
      for (const key of keys4.reverse()) {
        rs.push(["header", 2, key]);
        for (const page of ontologyMap[key]) {
          rs.push([
            "paragraph",
            Renderer.makeLinkShortUUID(this.dv, page.file)
          ]);
        }
      }
    }
    return rs;
  }
  getProjectTasks(project) {
    return this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = page.file.frontmatter;
      if (page.type !== Types.Task && page.type !== Types.Media) {
        return false;
      }
      if (Helper.getProject(fm) !== `${Namespace.Project}/${project === "adhoc" ? "none" : project}`) {
        return false;
      }
      if (fm.status === Status.Done) {
        return false;
      }
      return true;
    });
  }
  projectTasksSheetRelationFrontmatter(dv) {
    const current = dv.current();
    const fm = new FrontmatterJS(current);
    return {
      name: fm.getName(),
      uuid: fm.uuid
    };
  }
  contextTasksSheet(dv) {
    const minPriority = 0;
    const rs = [];
    const bins = {
      doable: [],
      waiting: [],
      journal: []
    };
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = page.file.frontmatter;
      if (page.type !== Types.Task && page.type !== Types.Media) {
        return false;
      }
      if (fm.status === Status.Done) {
        return false;
      }
      const fmjs = new FrontmatterJS(page);
      if (fmjs.getContext() !== `outside`) {
        return false;
      }
      return true;
    });
    for (const task of pages) {
      const fm = task.file.frontmatter;
      if (fm.priority !== void 0 && fm.priority < minPriority) {
        continue;
      }
      if (this.noteHelper.isDoable(task)) {
        bins.doable.push(task);
      } else if (fm.status === Status.Todo) {
        bins.waiting.push(task);
      } else {
        continue;
      }
    }
    if (bins.doable.length > 0) {
      rs.push(["header", 2, `Next Actions (${bins.doable.length})`]);
      bins.doable.sort(
        (a, b) => (a.file.frontmatter.priority - b.file.frontmatter.priority) * -1
      );
      rs.push(["array", Renderer.basicTaskJournal, bins.doable]);
    }
    if (bins.waiting.length > 0) {
      rs.push(["header", 2, `Waiting (${bins.waiting.length})`]);
      const buff = [];
      for (const task of bins.waiting) {
        const fm = task.file.frontmatter;
        fm.cause = "unknown";
        buff.push(task);
      }
      rs.push(["array", Renderer.waitingTask, buff]);
    }
    return rs;
  }
  projectTasksSheetRelation(dv) {
    const project = this.projectTasksSheetRelationFrontmatter(dv);
    const minPriority = 0;
    const rs = [];
    const bins = {
      nextAction: [],
      doable: [],
      waiting: [],
      journal: [],
      maybe: []
    };
    const tasks = this.getProjectTasks(project.name);
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm.priority !== void 0 && fm.priority < minPriority) {
        continue;
      }
      if (this.noteHelper.isDoable(task)) {
        if (fm.priority == 9) {
          bins.nextAction.push(task);
        } else if (fm.priority > 0) {
          bins.doable.push(task);
        } else {
          bins.maybe.push(task);
        }
      } else if (fm.status === Status.Todo) {
        bins.waiting.push(task);
      } else if (fm.status === Status.Doing) {
      } else {
        throw new Error(`${fm.uuid}`);
      }
    }
    {
      let toReview = 0;
      const logs = this.getProjectLogs(dv, project);
      for (const log of logs) {
        if (log.file.frontmatter.reviewed < 1) {
          toReview += 1;
        }
      }
    }
    if (bins.nextAction.length > 0) {
      rs.push(["header", 2, `Next Actions (${bins.doable.length})`]);
      bins.nextAction.sort(
        (a, b) => (a.file.frontmatter.priority - b.file.frontmatter.priority) * -1
      );
      rs.push(["array", Renderer.basicTaskJournal, bins.nextAction]);
    }
    if (bins.doable.length > 0) {
      rs.push(["header", 2, `Doable (${bins.doable.length})`]);
      bins.doable.sort(
        (a, b) => (a.file.frontmatter.priority - b.file.frontmatter.priority) * -1
      );
      rs.push(["array", Renderer.basicTaskJournal, bins.doable]);
    }
    if (bins.waiting.length > 0) {
      rs.push(["header", 2, `Waiting (${bins.waiting.length})`]);
      const buff = [];
      for (const task of bins.waiting) {
        const fm = task.file.frontmatter;
        if (fm.needs !== void 0 && fm.needs.length > 0) {
          fm.cause = fm.needs;
        } else if (fm.after !== void 0) {
          fm.cause = `after: ${fm.after}`;
        } else {
          fm.cause = "unknown";
        }
        buff.push(task);
      }
      rs.push(["array", Renderer.waitingTask, buff]);
    }
    if (bins.maybe.length > 0) {
      rs.push(["header", 2, `Maybe`]);
      bins.maybe.sort(
        (a, b) => (a.file.frontmatter.priority - b.file.frontmatter.priority) * -1
      );
      rs.push(["array", Renderer.readyTask, bins.maybe]);
    }
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = page.file.frontmatter;
      if (page.type !== Types.Praxis) {
        return false;
      }
      if (Helper.getProject(fm) !== `${Namespace.Project}/${project.name === "adhoc" ? "none" : project.name}`) {
        return false;
      }
      if (fm.status === Status.Done) {
        return false;
      }
      return true;
    }).array();
    if (pages.length > 0) {
      rs.push(["header", 3, "Praxis"]);
      rs.push(["array", Renderer.praxisBase, pages]);
    }
    return rs;
  }
  projectLogsSheetRelation(dv) {
    const project = this.projectTasksSheetRelationFrontmatter(dv);
    const filterBy = [];
    const rs = [];
    rs.push(["header", 2, "Logs"]);
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((page) => {
      if (page.type !== Types.Log) {
        return false;
      }
      if (page.file.frontmatter.reviewed > 0) {
        return false;
      }
      return true;
    });
    const buff = {};
    for (const e of logs) {
      const fm = e.file.frontmatter;
      if (filterBy.length > 0 && !this.nameInNamespace(fm, filterBy)) {
        continue;
      }
      fm.createdAt = this.frontmatter.getCreatedAt(e.file);
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (parent.length !== 1) {
        continue;
      }
      Assert.True(
        parent.length === 1,
        `Parent: ${fm.parent_id} not found for log: "${fm.uuid}"`
      );
      fm.project = Helper.getProject(parent[0].file.frontmatter);
      fm.area = Helper.getArea(parent[0].file.frontmatter, true);
      if (fm.project !== `project/${project.name === "adhoc" ? "none" : project.name}`) {
        continue;
      }
      if (Helper.nilCheck(fm.done_at)) {
        continue;
      }
      const date = fm.done_at.slice(0, 10);
      if (buff[date] === void 0) {
        buff[date] = [e];
      } else {
        buff[date].push(e);
      }
    }
    const keys = Object.keys(buff);
    keys.sort();
    for (const date of keys) {
      buff[date].sort(
        (a, b) => b.file.frontmatter.createdAt.getTime() - a.file.frontmatter.createdAt.getTime()
      );
    }
    for (const date of keys.reverse()) {
      rs.push(["header", 3, date]);
      rs.push(["array", Renderer.projectLogs, buff[date]]);
    }
    return rs;
  }
  projectTasksSheet(dv) {
    const project = this.frontmatter.projectParseMeta(dv);
    const fml = this.frontmatter.getCurrentFrontmatter();
    if (fml === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const minPriority = fml.min_priority === void 0 ? 0 : fml.min_priority;
    const journal = this.dv.pages(`"${Paths.Journal}"`).array()[0].file.frontmatter.tasks;
    const rs = [];
    rs.push(["header", 1, project.name]);
    const bins = {
      doable: [],
      waiting: [],
      journal: [],
      maybe: [],
      praxis: []
    };
    const tasks = this.getProjectTasks(project.name);
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm.priority !== void 0 && fm.priority < minPriority) {
        continue;
      }
      if (this.noteHelper.isDoable(task)) {
        bins.doable.push(task);
      } else if (fm.status === Status.Todo) {
        bins.waiting.push(task);
      } else {
        bins.maybe.push(task);
      }
    }
    {
      let toReview = 0;
      const logs = this.getProjectLogs(dv, project);
      for (const log of logs) {
        if (log.file.frontmatter.reviewed < 1) {
          toReview += 1;
        }
      }
      rs.push(["header", 2, `Pending Logs (${toReview})`]);
      if (toReview > 0) {
        rs.push([
          "paragraph",
          `[[${Paths.Projects}/${project.name === "adhoc" ? "ad hoc" : project.name}/logs]]`
        ]);
      }
    }
    if (bins.doable.length > 0) {
      rs.push(["header", 2, `Next Actions (${bins.doable.length})`]);
      bins.doable.sort(
        (a, b) => (a.file.frontmatter.priority - b.file.frontmatter.priority) * -1
      );
      rs.push(["array", Renderer.basicTaskJournal, bins.doable]);
    }
    if (bins.waiting.length > 0) {
      rs.push(["header", 2, `Waiting (${bins.waiting.length})`]);
      const buff = [];
      for (const task of bins.waiting) {
        const fm = task.file.frontmatter;
        if (fm.needs !== void 0 && fm.needs.length > 0) {
          fm.cause = fm.needs;
        } else if (fm.after !== void 0) {
          fm.cause = `after: ${fm.after}`;
        } else {
          fm.cause = "unknown";
        }
        buff.push(task);
      }
      rs.push(["array", Renderer.waitingTask, buff]);
    }
    if (bins.maybe.length > 0) {
      rs.push(["header", 2, `Maybe`]);
      bins.maybe.sort(
        (a, b) => (a.file.frontmatter.priority - b.file.frontmatter.priority) * -1
      );
      rs.push(["array", Renderer.readyTask, bins.maybe]);
    }
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = page.file.frontmatter;
      if (page.type !== Types.Praxis) {
        return false;
      }
      if (Helper.getProject(fm) !== `${Namespace.Project}/${project.name === "adhoc" ? "none" : project.name}`) {
        return false;
      }
      if (fm.status === Status.Done) {
        return false;
      }
      return true;
    }).array();
    if (pages.length > 0) {
      rs.push(["header", 3, "Praxis"]);
      rs.push(["array", Renderer.praxisBase, pages]);
    }
    return rs;
  }
  getProjectLogs(dv, project) {
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((page) => {
      if (page.type !== Types.Log) {
        return false;
      }
      return true;
    });
    const buff = [];
    for (const e of logs) {
      const fm = e.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (parent.length !== 1) {
        continue;
      }
      fm.project = Helper.getProject(parent[0].file.frontmatter);
      fm.area = Helper.getArea(parent[0].file.frontmatter, true);
      if (fm.project !== `project/${project.name === "adhoc" ? "none" : project.name}`) {
        continue;
      }
      if (Helper.nilCheck(fm.done_at)) {
        continue;
      }
      buff.push(e);
    }
    return buff;
  }
  projectLogsSheet(dv) {
    const project = this.frontmatter.projectParseMeta(dv);
    const fml = this.frontmatter.getCurrentFrontmatter();
    if (fml === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const before = Helper.nilCheck(fml.before) ? new Date(0) : new Date(fml.before);
    const after = Helper.nilCheck(fml.after) ? new Date() : new Date(fml.after);
    const filterBy = this.frontmatter.parseListFilterBy(fml);
    const rs = [];
    let totalTime = 0;
    rs.push(["header", 1, project.name]);
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((page) => {
      if (page.type !== Types.Log) {
        return false;
      }
      return true;
    });
    const buff = {};
    for (const e of logs) {
      const fm = e.file.frontmatter;
      if (filterBy.length > 0 && !this.nameInNamespace(fm, filterBy)) {
        continue;
      }
      fm.createdAt = this.frontmatter.getCreatedAt(e.file);
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (parent.length !== 1) {
        continue;
      }
      fm.project = Helper.getProject(parent[0].file.frontmatter);
      fm.area = Helper.getArea(parent[0].file.frontmatter, true);
      if (fm.project !== `project/${project.name === "adhoc" ? "none" : project.name}`) {
        continue;
      }
      if (Helper.nilCheck(fm.done_at)) {
        continue;
      }
      const date = fm.done_at.slice(0, 10);
      const createdAt = new Date(fm.created_at);
      const doneAt = new Date(fm.done_at);
      if (createdAt > before) {
        continue;
      }
      if (createdAt < after) {
        continue;
      }
      if (buff[date] === void 0) {
        buff[date] = [e];
      } else {
        buff[date].push(e);
      }
      const delta = doneAt.getTime() - createdAt.getTime();
      totalTime += delta;
    }
    dv.paragraph(
      `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
    );
    const keys = Object.keys(buff);
    keys.sort();
    for (const date of keys) {
      buff[date].sort(
        (a, b) => b.file.frontmatter.createdAt.getTime() - a.file.frontmatter.createdAt.getTime()
      );
    }
    for (const date of keys.reverse()) {
      rs.push(["header", 3, date]);
      rs.push(["array", Renderer.projectLogs, buff[date]]);
    }
    return rs;
  }
  allTodoProjects() {
    const [byAreas, byContexts, byLayers, byOrgs, byProjects, minPriority] = this.frontmatter.parseTodoList();
    const fml = this.frontmatter.getCurrentFrontmatter();
    if (fml === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const filterBy = fml.filter_by;
    let groupBy = fml.group_by;
    if (typeof groupBy === "undefined" || groupBy === "") {
      groupBy = "";
    } else if (typeof groupBy === "string") {
    } else {
      throw new Error(`Unsuported implementation groupBy: '${groupBy}'`);
    }
    const today = this.dv.pages(`"${Paths.Journal}"`)[0].file.frontmatter.tasks;
    const projects = this.noteHelper.getNamespaceContent(Namespace.Project);
    projects.sort();
    const rs = [];
    rs.push(["header", 1, "Projects"]);
    for (const project of projects) {
      const bins = [];
      if (project === "none") {
        continue;
      }
      const tasks = this.dv.pages(`#${Namespace.Project}/${project}`).where(
        (page) => page.type === Types.Task && page.status === Status.Todo
      );
      let elCount = 0;
      for (const task of tasks) {
        const fm = task.file.frontmatter;
        if (filterBy !== void 0 && filterBy !== null && filterBy.length > 0) {
          if (!this.nameInNamespace(fm, filterBy)) {
            continue;
          }
        }
        if (today.contains(fm.uuid)) {
          continue;
        }
        if (fm.priority !== void 0 && fm.priority < minPriority) {
          continue;
        }
        if (this.noteHelper.isDoable(task)) {
          let by = groupBy;
          if (groupBy !== "") {
            by = Helper.getTag(
              task.file.frontmatter,
              groupBy,
              true
            );
            if (by === void 0) {
              by = "";
            }
          }
          if (bins[by] === void 0) {
            bins[by] = [task];
          } else {
            bins[by].push(task);
          }
          elCount++;
        }
      }
      if (elCount === 0) {
        continue;
      }
      rs.push(["header", 2, project]);
      if (groupBy === "") {
        bins[""].sort(
          (a, b) => a.file.frontmatter.priority - b.file.frontmatter.priority
        );
        rs.push(["array", Renderer.readyTask, bins[""]]);
      } else {
        const keys = Object.keys(bins);
        keys.sort();
        for (const key of keys) {
          if (key !== Helper.getTag({ tags: [] }, groupBy)) {
            rs.push(["header", 3, key]);
          }
          bins[key].sort(
            (a, b) => a.file.frontmatter.priority - b.file.frontmatter.priority
          );
          rs.push(["array", Renderer.readyTask, bins[key]]);
        }
      }
    }
    return rs;
  }
  logs() {
    const [groupBy, filterBy, before, after] = this.frontmatter.parseAllProgressedTasks();
    const tasks = this.dv.pages(`"${Paths.Tasks}"`).where((page) => page.file.frontmatter.status !== "doing");
    const buff = [];
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (filterBy.length > 0 && !this.nameInNamespace(fm, filterBy)) {
        continue;
      }
      const timeEstimate = Helper.durationStringToSec(fm.time_estimate);
      if (timeEstimate === void 0 && fm.time_estimate !== void 0) {
        throw new Error(
          `Invalid value: "${fm.time_estimate}" for entry: "${fm.uuid}"`
        );
      } else {
        fm.timeEstimate = timeEstimate;
      }
      const logs = this.dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((page) => page.type === Types.Log).sort((k) => k.created_at, "asc");
      if (logs.length < 1) {
        continue;
      }
      fm.took = 0;
      const project = Helper.getField(Helper.getProject(fm, true), "");
      const area = Helper.getField(Helper.getArea(fm, true), "");
      for (const log of logs) {
        const fml = log.file.frontmatter;
        const entry = {
          alias: fm.alias,
          uuid: fm.uuid,
          logId: fml.uuid,
          estimate: fm.timeEstimate,
          project,
          area,
          domain: Helper.getField(Helper.getDomain(fm, true), ""),
          path: task.file.path,
          logPath: log.file.path
        };
        if (fml.created_at === void 0) {
          console.log(log);
          throw new Error(
            `task: ${fm.uuid} last entry is missing 'created_at' field`
          );
        }
        if (fml.done_at === void 0) {
          console.log(log);
          throw new Error(
            `task: ${fm.uuid} last entry is missing 'done_at' field`
          );
        }
        entry.createdAt = new Date(fml.created_at);
        entry.doneAt = new Date(fml.done_at);
        if (!this.filterByDate(entry.doneAt, before, after)) {
          continue;
        }
        const took = (entry.doneAt.getTime() - entry.createdAt.getTime()) / 1e3;
        fm.took += took;
        entry.took = took;
        entry.tookAcc = fm.took;
        entry.deltaAcc = timeEstimate - fm.took;
        buff.push(entry);
      }
    }
    const keyGetter = Helper.getKey(groupBy);
    const bins = {};
    for (const entry of buff) {
      let d = void 0;
      try {
        d = keyGetter(entry);
      } catch (e) {
        throw new Error(entry);
      }
      if (bins[d] === void 0) {
        bins[d] = [entry];
      } else {
        bins[d].push(entry);
      }
    }
    const keys = Object.keys(bins);
    keys.sort();
    const rs = [];
    for (const key of keys.reverse()) {
      rs.push(["header", 2, key]);
      const arr = [];
      let totalTime = 0;
      for (const e of bins[key]) {
        const buff2 = [];
        buff2.push(
          Renderer.makeLinkShortUUID(
            this.dv,
            { path: e.path, frontmatter: { uuid: e.uuid } },
            "Task"
          )
        );
        buff2.push(
          Renderer.makeLinkShortUUID(
            this.dv,
            { path: e.logPath, frontmatter: { uuid: e.logId } },
            "Content"
          )
        );
        const convertSecondsToHours = (t) => {
          return Math.round(t / 3600 * 10) / 10;
        };
        buff2.push(`${convertSecondsToHours(e.took)}`);
        buff2.push(`${e.project}`);
        arr.push(buff2);
        totalTime += e.took;
      }
      totalTime = Math.round(totalTime / 3600 * 10) / 10;
      rs.push(["stats", "totalTime", "h", totalTime]);
      rs.push(["array", Renderer.basicProgressedTaskWithLog, arr]);
    }
    return rs;
  }
  inbox() {
    const rs = [];
    const buff = [];
    const filterBy = [];
    const minSize = 0;
    const maxSize = 4294967295;
    const fleetings = this.dv.pages(`"${Paths.Inbox}"`).array();
    for (const e of fleetings) {
      const fm = e.file.frontmatter;
      e.file.frontmatter.createdAt = this.frontmatter.getCreatedAt(
        e.file
      );
      const fmjs = new FrontmatterJS(e);
      fm.project = Helper.getProject(fm, true);
      fm.domain = `domain/${fmjs.getDomain()}`;
      fm.components = Helper.getComponents(fm);
      if (e.file.size < minSize) {
        continue;
      }
      if (e.file.size > maxSize) {
        continue;
      }
      buff.push(e);
    }
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((p) => {
      if (p.type !== Types.Log) {
        return false;
      }
      const f = p.file;
      const createdAt = this.frontmatter.getCreatedAt(f);
      const now = new Date();
      if (createdAt.getTime() + 864e5 - now.getTime() > 0) {
        return false;
      }
      if (p.reviewed !== void 0 && p.reviewed >= 1) {
        return false;
      }
      const pages = this.dv.pages(`"${Paths.Tasks}/${f.frontmatter.parent_id}"`).array();
      if (pages.length !== 1) {
        return false;
      }
      return true;
    });
    for (const e of logs) {
      const fm = e.file.frontmatter;
      fm.createdAt = this.frontmatter.getCreatedAt(e.file);
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      Assert.True(
        parent.length === 1,
        `Parent: ${fm.parent_id} not found for log: "${fm.uuid}"`
      );
      fm.project = Helper.getProject(parent[0].file.frontmatter, true);
      fm.domain = void 0;
      fm.components = [];
      if (e.file.size < minSize) {
        continue;
      }
      if (e.file.size > maxSize) {
        continue;
      }
      buff.push(e);
    }
    const sortBySizeThenDate = function(a, b) {
      const fA = a.file;
      const fB = b.file;
      if (fA.size !== fB.size) {
        return fB.size - fA.size;
      } else {
        return fA.frontmatter.createdAt.getTime() - fB.frontmatter.createdAt.getTime();
      }
    };
    const sortByAge = (a, b) => a.file.frontmatter.createdAt.getTime() - b.file.frontmatter.createdAt.getTime();
    buff.sort(sortByAge);
    const filterFunc = (page) => {
      const fm = page.file.frontmatter;
      return true;
      if (Helper.getProject(fm, true) !== void 0) {
        return false;
      }
      if (Helper.getDomain(fm, true) !== void 0) {
        return false;
      }
      return true;
    };
    rs.push(["array", Renderer.inboxEntry, buff.filter(filterFunc)]);
    return rs;
  }
  domains() {
    const pages = this.dv.pages(`"${Paths.Domains}"`).where((page) => {
      const fm = page.file.frontmatter;
      if (fm.name === void 0) {
        return false;
      }
      if (this.dv.pages(`#domain/${fm.name}`).array().length <= 0) {
        return false;
      }
      return true;
    }).sort((k) => k.name, "asc").array();
    const rs = [];
    const buff = [];
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      fm.resolve(this.dv);
      buff.push(fm);
    }
    rs.push(["array", Renderer.basicDomain, buff]);
    return rs;
  }
  components() {
    const pages = this.dv.pages(`"${Paths.Components}"`).sort((k) => k.name, "asc").array();
    const rs = [];
    const buff = [];
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      fm.resolve(this.dv);
      buff.push(fm);
    }
    rs.push(["array", Renderer.basicDomain, buff]);
    return rs;
  }
  names() {
    const pages = this.dv.pages(`"${Paths.Names}"`).sort((k) => k.name, "asc").array();
    const rs = [];
    const buff = [];
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      fm.resolve(this.dv);
      buff.push(fm);
    }
    rs.push(["array", Renderer.basicDomain, buff]);
    return rs;
  }
  projects() {
    let fml = this.frontmatter.getCurrentFrontmatter();
    if (fml === void 0) {
      fml = { inactive: [] };
    }
    const rs = [];
    const bins = {
      active: [],
      inactive: []
    };
    const pages = this.dv.pages(`"Projects"`).sort((k) => k.name, "asc");
    for (const project of pages) {
      const fmProject = new FrontmatterJS(project);
      if (fmProject.getName() === "adhoc") {
        bins.active.push(project);
        continue;
      }
      const tasks = this.dv.pages(`#project/${fmProject.getName()}`).where((page) => {
        if (page.file.folder !== `${Paths.Tasks}`) {
          return false;
        }
        const fmTask = new FrontmatterJS(page);
        if (fmTask.getProject() !== fmProject.getName()) {
          return false;
        }
        if (fmTask.fm.status === "todo" || fmTask.fm.status === "doing") {
          return true;
        }
        return false;
      });
      let nextActionCount = 0;
      for (const task of tasks) {
        if (task.file.frontmatter.priority === 9) {
          nextActionCount++;
        }
      }
      if (tasks.length === 0 || nextActionCount === 0 || fml.inactive.contains(fmProject.getName())) {
        bins.inactive.push(project);
      } else {
        bins.active.push(project);
      }
    }
    rs.push(["array", Renderer.basicRelation, bins.active]);
    rs.push(["header", 2, "Inactive"]);
    rs.push(["array", Renderer.basicRelation, bins.inactive]);
    return rs;
  }
  praxis() {
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      if (page.file.frontmatter.type !== Types.Praxis) {
        return false;
      }
      if (page.file.frontmatter.status !== Status.Todo) {
        return false;
      }
      return true;
    }).array();
    const rs = [];
    rs.push(["header", 1, "Praxis"]);
    rs.push(["array", Renderer.basicTask, pages]);
    return rs;
  }
  goals() {
    const fm = this.frontmatter.getCurrentFrontmatter();
    const filterBy = new FilterBy(fm);
    const rs = [];
    const pages = this.dv.pages(`"${Paths.Goals}"`).where((page) => {
      const fmp = page.file.frontmatter;
      if (fmp.status !== "todo") {
        return false;
      }
      return true;
    });
    const buff = [];
    for (const page of pages) {
      const p = new FrontmatterJS(page);
      if (filterBy.filter(page.file.frontmatter)) {
        continue;
      }
      buff.push(p);
    }
    buff.sort((a, b) => {
      const dta = new Date(a.fm.before);
      const dtb = new Date(b.fm.before);
      return dta.getTime() - dtb.getTime();
    });
    rs.push(["header", 1, "Goals"]);
    rs.push(["array", Renderer.goal, buff]);
    return rs;
  }
  operations() {
    const fm = this.frontmatter.getCurrentFrontmatter();
    const filterBy = new FilterBy(fm);
    const rs = [];
    const pages = this.dv.pages(`"Operations"`).where((page) => {
      const fmp = page.file.frontmatter;
      return true;
    });
    const buff = [];
    for (const page of pages) {
      const p = new FrontmatterJS(page);
      if (filterBy.filter(page.file.frontmatter)) {
        continue;
      }
      buff.push(p);
    }
    buff.sort((a, b) => {
      const dta = new Date(a.fm.before);
      const dtb = new Date(b.fm.before);
      return dta.getTime() - dtb.getTime();
    });
    rs.push(["header", 1, "Operations"]);
    rs.push(["array", Renderer.readyTask, buff]);
    return rs;
  }
  journal() {
    const [byAreas, byContexts, byLayers, byOrgs, byProjects, fmTasks] = this.frontmatter.parseJournal();
    const fm = this.frontmatter.getCurrentFrontmatter();
    if (fmTasks < 1) {
      throw new Error("No tasks !");
    }
    const groupBy = void 0;
    const bins = {
      doable: [],
      waiting: [],
      done: [],
      active: [],
      leisure: [],
      media: []
    };
    const tasks = this.dv.pages(`"${Paths.Tasks}"`).where((k) => fmTasks.contains(k.uuid)).sort((k) => k.priority, "desc");
    if (tasks.length !== fmTasks.length) {
      {
        const taskss = [];
        for (const task of tasks) {
          taskss.push(task.file.frontmatter.uuid);
        }
        for (const task of fmTasks) {
          if (!taskss.contains(task)) {
            console.warn(task);
          }
        }
      }
      throw new Error("Refer to logs");
    }
    let totalEstimate = 0;
    for (const task of tasks) {
      const fmt = task.file.frontmatter;
      if (fmt.type === Types.Praxis) {
        const logs = this.dv.pages(`"${Paths.Logs}/${fmt.uuid}"`).sort((page) => page.file.frontmatter.created_at, "desc").array();
        if (logs.length > 0) {
          const lastEntry = logs[0];
          const createdAt = this.frontmatter.getCreatedAt(
            lastEntry.file
          );
          const now = new Date();
          if (now.toISOString().slice(0, 10) === createdAt.toISOString().slice(0, 10)) {
            bins.done.push(task);
            continue;
          }
        }
      }
      if (Helper.getDomain(fmt) === "domain/leisure") {
        bins.leisure.push(task);
        continue;
      }
      if (fmt.type === Types.Media) {
        bins.media.push(task);
        continue;
      }
      if (this.noteHelper.isDoable(task)) {
        const timeEstimate = fmt.time_estimate;
        if (timeEstimate !== void 0) {
          totalEstimate += Helper.durationStringToSec(timeEstimate);
        }
        bins.doable.push(task);
        continue;
      }
      if (fmt.status === Status.Done) {
        bins.done.push(task);
      } else if (fmt.status !== Status.Doing) {
        bins.waiting.push(task);
      }
    }
    const arr = [];
    arr.push(["header", 1, "Journal"]);
    arr.push(["header", 2, `${fm.tasks.length}/25 tasks`]);
    arr.push([
      "stats",
      "totalEstimate",
      "h",
      `${String(Math.round(totalEstimate / 3600 * 10) / 10).padStart(
        2,
        "0"
      )}`
    ]);
    const doing = this.dv.pages(`"${Paths.Tasks}"`).where((page) => page.file.frontmatter.status === Status.Doing).array();
    if (doing.length > 0) {
      arr.push(["header", 2, `Active (${doing.length})`]);
      arr.push(["array", Renderer.activeTask, doing]);
    }
    if (bins.doable.length > 0) {
      arr.push(["header", 2, `Doable (${bins.doable.length})`]);
      if (groupBy !== "" && groupBy !== void 0) {
        const res = {};
        for (const e of bins.doable) {
          const fm2 = e.file.frontmatter;
          let t = Helper.getTag(fm2, groupBy);
          if (groupBy === "context" && t === "context/any" && Helper.getOrg(fm2) !== "org/none") {
            t = "context/work";
          }
          if (res[t] === void 0) {
            res[t] = [e];
          } else {
            res[t].push(e);
          }
        }
        for (const k of Object.keys(res).sort()) {
          res[k].sort(
            (a, b) => Helper.getField(b.file.frontmatter.priority, 0) - Helper.getField(a.file.frontmatter.priority, 0)
          );
          arr.push(["header", 3, k]);
          arr.push(["array", Renderer.basicTask, res[k]]);
        }
      } else {
        bins.doable.sort(
          (a, b) => Helper.getField(b.file.frontmatter.priority, 0) - Helper.getField(a.file.frontmatter.priority, 0)
        );
        arr.push(["array", Renderer.basicTask, bins.doable]);
      }
    }
    if (bins.waiting.length > 0) {
      arr.push(["header", 2, `Waiting (${bins.waiting.length})`]);
      const buff = [];
      for (const task of bins.waiting) {
        const fm2 = task.file.frontmatter;
        if (fm2.needs !== void 0 && fm2.needs.length > 0) {
          fm2.cause = fm2.needs;
        } else if (fm2.after !== void 0) {
          fm2.cause = `after: ${fm2.after}`;
        } else {
          fm2.cause = "unknown";
        }
        buff.push(task);
      }
      arr.push(["array", Renderer.waitingTask, buff]);
    }
    if (bins.media.length > 0) {
      arr.push(["header", 2, `Media (${bins.media.length})`]);
      arr.push(["array", Renderer.mediaWithLogs, bins.media]);
    }
    if (bins.done.length > 0) {
      arr.push(["header", 2, `Done (${bins.done.length})`]);
      arr.push(["array", Renderer.basicTask, bins.done]);
    }
    if (bins.leisure.length > 0) {
      arr.push(["header", 2, `Leisure (${bins.leisure.length})`]);
      arr.push(["array", Renderer.mediaWithLogs, bins.leisure]);
    }
    const provisions = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      if (page.file.frontmatter.type === void 0) {
        return false;
      }
      if (page.file.frontmatter.type !== Types.Provision) {
        return false;
      }
      if (page.file.frontmatter.status === void 0) {
        return false;
      }
      if (page.file.frontmatter.status !== Status.Todo) {
        return false;
      }
      return true;
    }).array();
    if (provisions.length > 0) {
      arr.push(["header", 2, `Provision (${provisions.length})`]);
      arr.push(["array", Renderer.provisionBase, provisions]);
    }
    return arr;
  }
  library() {
    const rs = [];
    const domains = [];
    const refDomains = [];
    {
      const pages = this.dv.pages(`"${Paths.Domains}"`).sort((k) => k.name, "asc").array();
      for (const page of pages) {
        const fm = new FrontmatterJS(page);
        fm.resolve(this.dv);
        domains.push(fm.getName());
      }
    }
    {
      for (const domain of domains) {
        rs.push(["header", 2, `${domain}`]);
        const pages = this.dv.pages(`"802 Refs"`).where((page) => {
          const fm = new FrontmatterJS(page);
          const content = fm.getContent();
          if (content === "person" || content === "place") {
            return false;
          }
          if (!domains.contains(fm.getDomain(false))) {
            if (!refDomains.contains(fm.getDomain(false))) {
              refDomains.push(fm.getDomain(false));
            }
          }
          return fm.getDomain(false) === domain;
        });
        rs.push(["array", Renderer.knowledgeBase, pages]);
      }
      {
        if (refDomains.length === 0) {
          return rs;
        }
        rs.push(["header", 2, "undeclared domains"]);
        for (const domain of refDomains) {
          rs.push(["header", 3, domain]);
          const pages = this.dv.pages(`"802 Refs"`).where((page) => {
            const fm = new FrontmatterJS(page);
            const content = fm.getContent();
            if (content === "person" || content === "place") {
              return false;
            }
            return fm.getDomain(false) === domain;
          });
          rs.push(["array", Renderer.knowledgeBase, pages]);
        }
      }
    }
    return rs;
  }
  planning() {
    const rs = [];
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.at === void 0) {
        return false;
      }
      if (fm.getProject() !== "daily") {
        return false;
      }
      return true;
    }).sort((page) => page.file.frontmatter.at, "desc");
    const bins = {};
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      let at = void 0;
      try {
        at = fm.at.toISOString().slice(0, 10);
      } catch (e) {
        throw new Error(`Invalid date: '${fm.fm.uuid}'`);
      }
      const weekNumber = this.getWeekNumber(fm.at);
      if (bins[weekNumber] === void 0) {
        bins[weekNumber] = [fm];
      } else {
        bins[weekNumber].push(fm);
      }
    }
    const now = new Date();
    const currentWeekNumber = this.getWeekNumber(now);
    for (const key of Object.keys(bins)) {
      const weekNumber = Number(key);
      if (weekNumber < currentWeekNumber) {
        rs.push(["header", 2, `~~week ${key}~~`]);
      } else if (weekNumber === currentWeekNumber) {
        rs.push(["header", 2, `*week ${key}*`]);
      } else {
        rs.push(["header", 2, `week ${key}`]);
      }
      bins[key].sort((a, b) => {
        return a.at.getTime() - b.at.getTime();
      });
      for (const task of bins[key]) {
        const day = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"][task.at.getDay()];
        const text = Renderer.makeLink(
          this.dv,
          task.f,
          `${task.at.toISOString().slice(0, 10)}, ${day}`,
          "daily"
        );
        if (weekNumber < currentWeekNumber) {
          rs.push(["paragraph", `~~${text}~~`]);
        } else if (weekNumber === currentWeekNumber) {
          if (this.dayOfYear(task.at) < this.dayOfYear(now)) {
            rs.push(["paragraph", `~~${text}~~`]);
          } else {
            rs.push(["paragraph", `${text}`]);
          }
        } else {
          rs.push(["paragraph", `${text}`]);
        }
      }
    }
    return rs;
  }
  dayOfYear(dt) {
    const year = dt.getFullYear();
    const month = dt.getMonth() + 1;
    const day = dt.getDate();
    const N1 = Math.floor(275 * month / 9);
    const N2 = Math.floor((month + 9) / 12);
    const N3 = 1 + Math.floor((year - 4 * Math.floor(year / 4) + 2) / 3);
    return N1 - N2 * N3 + day - 30;
  }
  getWeekNumber(d) {
    d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
    d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));
    const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
    return Math.ceil(((d - yearStart) / 864e5 + 1) / 7);
  }
};

// main.ts
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
var MyPlugin = class extends import_obsidian.Plugin {
  printCoucou() {
    console.log("Couou, tu veux voir ma bite?");
  }
  // reviewLog() {
  // 	const fm = this.getCurrentFrontmatter();
  // 	if (fm === undefined) {
  // 		return;
  // 	}
  //
  // 	if (fm.type === undefined) {
  // 		// console.warn(`file: ${fm} does not have a valid schema`);
  // 		return;
  // 	}
  //
  // 	if (fm.type !== 6) {
  // 		// console.warn(`file: ${fm} is not of "log" type`);
  // 		return;
  // 	}
  //
  // 	const currentReviewed = fm.reviewed;
  // 	// obsidian plugin API, write file on disk, frontmatter changed
  // }
  async onload() {
    var _a, _b;
    console.log("gonext - onload()");
    await this.loadSettings();
    this.metadataCache = app.metadataCache;
    this.workspace = app.workspace;
    this.dv = app.plugins.plugins.dataview.api;
    this.frontmatter = new Frontmatter(this);
    this.listMaker = new ListMaker(this, this.dv, this.frontmatter);
    this.api = {
      getArea: Helper.getArea,
      getContext: Helper.getContext,
      getDomain: Helper.getDomain,
      getLayer: Helper.getLayer,
      getOrg: Helper.getOrg,
      getProject: Helper.getProject,
      durationStringToSec: Helper.durationStringToSec,
      paths: Paths,
      types: Types,
      status: Status,
      namespace: Namespace,
      default: Default,
      frontmatter: this.frontmatter,
      listMaker: this.listMaker,
      renderer: Renderer,
      autoField: AutoField
    };
    window.gonext = {
      state: (_b = (_a = window.gonext) == null ? void 0 : _a.state) != null ? _b : {},
      app: this.app
    };
    this.taskInStatusBar = this.addStatusBarItem();
    this.taskInStatusBar.setText("");
    this.app.workspace.on("active-leaf-change", () => {
      const leaf = app.workspace.activeLeaf;
      const tabTitleOrig = leaf.tabHeaderInnerTitleEl.innerText;
      if (tabTitleOrig.length !== 36) {
        return;
      }
      const fm = this.frontmatter.getCurrentFrontmatter();
      if (fm === void 0) {
        return void 0;
      }
      const alias = fm.alias;
      if (Helper.nilCheck(alias) || alias === "") {
        return;
      }
      leaf.tabHeaderInnerTitleEl.innerText = alias;
      leaf.tabHeaderInnerTitleEl.innerHTML = alias;
    });
    this.addCommand({
      id: "gonext-utils-copy-current-file-uuid",
      name: "Copy current file UUID",
      editorCallback: (editor, view) => {
        const fm = this.gonext.getCurrentFrontmatter();
        if (fm === void 0) {
          return;
        }
        if (fm.uuid == void 0) {
          return;
        }
      }
    });
    this.addCommand({
      id: "safe-delete",
      name: "Safe Delete",
      editorCallback: (editor, view) => {
        const file = app.workspace.getActiveFile();
        const fm = app.metadataCache.getFileCache(file).frontmatter;
        if (fm === void 0) {
          return;
        }
        const rootPath = [
          `${Paths.Journal}.md`,
          `${Paths.Inbox}.md`,
          "Ad Hoc.md",
          "allDoneTasks.md",
          "allDoneTasksWithoutLog.md",
          "allMedia.md",
          "allProgressedTasks.md",
          "noteLocator.md",
          "Praxis.md"
        ];
        for (const p of rootPath) {
          if (file.path === p) {
            return;
          }
        }
        if (file.path.split(0, Paths.Resources.length) === Paths.Resources) {
          return;
        }
        console.log(`deleted file: ${file.path}`);
        app.vault.delete(file);
      }
    });
    this.addCommand({
      id: "display-modal",
      name: "Display modal",
      callback: () => {
        new ExampleModal(this.app).open();
      }
    });
    this.addCommand({
      id: "go-parent",
      name: "Go Parent",
      editorCallback: (editor, view) => {
        const file = app.workspace.getActiveFile();
        const fm = app.metadataCache.getFileCache(file).frontmatter;
        if (fm === void 0) {
          return;
        }
        if (fm.parent_id === void 0 && fm.ref_id === void 0) {
          console.warn(
            `parent_id: '${fm.parent_id}' ref_id: '${fm.ref_id}'`
          );
          return;
        }
        if (fm.type === void 0 || fm.type !== Types.Log && fm.type !== Types.Media && fm.type !== Types.Fleeting) {
          console.warn(
            `invalid type: '${fm.type}' for note: '${fm.uuid}'`
          );
          return;
        }
        const parent = fm.type === Types.Log ? `${Paths.Tasks}/${fm.parent_id}.md` : `${Paths.Refs}/${fm.ref_id}.md`;
        const page = app.vault.getAbstractFileByPath(parent);
        app.workspace.openLinkText(parent, "/", false);
      }
    });
  }
  onunload() {
    console.log("gonext - onunload()");
    delete window.gonext;
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var ExampleModal = class extends import_obsidian.Modal {
  constructor(app2) {
    super(app2);
  }
  onOpen() {
    const { contentEl } = this;
    const dv = this.app.plugins.plugins.dataview.api;
    const tasks = dv.pages().array().slice(0, 10);
    let s = "";
    for (const task of tasks) {
      s += `${task.file.path}

`;
    }
    contentEl.setText(s);
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjb25zdGFudHMudHMiLCAiYXBpLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQge1xuXHRBcHAsXG5cdE1vZGFsLFxuXHRQbHVnaW4sXG5cdFdvcmtzcGFjZSxcblx0SFRNTEVsZW1lbnQsXG5cdE1hcmtkb3duVmlldyxcbn0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQge1xuXHRIZWxwZXIsXG5cdEZyb250bWF0dGVyLFxuXHRMaXN0TWFrZXIsXG5cdE5hbWVzcGFjZSxcblx0UmVuZGVyZXIsXG5cdEF1dG9GaWVsZCxcbn0gZnJvbSBcIi4vYXBpXCI7XG5pbXBvcnQgeyBQYXRocywgU3RhdHVzLCBUeXBlcywgTmFtZXNwYWNlLCBEZWZhdWx0IH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8vIFJlbWVtYmVyIHRvIHJlbmFtZSB0aGVzZSBjbGFzc2VzIGFuZCBpbnRlcmZhY2VzIVxuaW50ZXJmYWNlIE15UGx1Z2luU2V0dGluZ3Mge1xuXHRteVNldHRpbmc6IHN0cmluZztcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTXlQbHVnaW5TZXR0aW5ncyA9IHtcblx0bXlTZXR0aW5nOiBcImRlZmF1bHRcIixcbn07XG5cbi8vIHJlcHJcdTAwRTlzZW50ZSBsYSB2dWUgYWN0dWVsbGUsIGwnb25nbGV0IGFjdGlmLCBsZSBmb2N1c1xuLy8gY29udGllbnQgdW5lIHJlZiBhdSBmcm9udG1hdHRlciBxdWkgZXN0IHByZXByb2Nlc3MsXG4vLyBpZSBjaGFtcHMgZm0ucHJvamVjdCwgZm0uYXJlYSwgLi4uIHNvbnQgcG9wdWxcdTAwRTlzXG5jbGFzcyBDdXJyZW50IHtcblx0Y29uc3RydWN0b3IoKSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNeVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBNeVBsdWdpblNldHRpbmdzO1xuXHR3b3Jrc3BhY2U6IFdvcmtzcGFjZTtcblx0bWV0YWRhdGFDYWNoZTogQW55O1xuXHRkdjogQW55O1xuXHRyZW5kZXI6IFJlbmRlcjtcblx0ZGVidWc6IGJvb2w7XG5cdHRhc2tJblN0YXR1c0JhcjogSFRNTEVsZW1lbnQ7XG5cdGFwaTogQW55O1xuXHRsaXN0TWFrZTogTGlzdE1ha2VyO1xuXHRmcm9udG1hdHRlcjogRnJvbnRtYXR0ZXI7XG5cblx0cHJpbnRDb3Vjb3UoKSB7XG5cdFx0Y29uc29sZS5sb2coXCJDb3VvdSwgdHUgdmV1eCB2b2lyIG1hIGJpdGU/XCIpO1xuXHR9XG5cblx0Ly8gcmV2aWV3TG9nKCkge1xuXHQvLyBcdGNvbnN0IGZtID0gdGhpcy5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0Ly8gXHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHQvLyBcdFx0cmV0dXJuO1xuXHQvLyBcdH1cblx0Ly9cblx0Ly8gXHRpZiAoZm0udHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdC8vIFx0XHQvLyBjb25zb2xlLndhcm4oYGZpbGU6ICR7Zm19IGRvZXMgbm90IGhhdmUgYSB2YWxpZCBzY2hlbWFgKTtcblx0Ly8gXHRcdHJldHVybjtcblx0Ly8gXHR9XG5cdC8vXG5cdC8vIFx0aWYgKGZtLnR5cGUgIT09IDYpIHtcblx0Ly8gXHRcdC8vIGNvbnNvbGUud2FybihgZmlsZTogJHtmbX0gaXMgbm90IG9mIFwibG9nXCIgdHlwZWApO1xuXHQvLyBcdFx0cmV0dXJuO1xuXHQvLyBcdH1cblx0Ly9cblx0Ly8gXHRjb25zdCBjdXJyZW50UmV2aWV3ZWQgPSBmbS5yZXZpZXdlZDtcblx0Ly8gXHQvLyBvYnNpZGlhbiBwbHVnaW4gQVBJLCB3cml0ZSBmaWxlIG9uIGRpc2ssIGZyb250bWF0dGVyIGNoYW5nZWRcblx0Ly8gfVxuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRjb25zb2xlLmxvZyhcImdvbmV4dCAtIG9ubG9hZCgpXCIpO1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cdFx0dGhpcy5tZXRhZGF0YUNhY2hlID0gYXBwLm1ldGFkYXRhQ2FjaGU7XG5cdFx0dGhpcy53b3Jrc3BhY2UgPSBhcHAud29ya3NwYWNlO1xuXHRcdHRoaXMuZHYgPSBhcHAucGx1Z2lucy5wbHVnaW5zLmRhdGF2aWV3LmFwaTtcblx0XHR0aGlzLmZyb250bWF0dGVyID0gbmV3IEZyb250bWF0dGVyKHRoaXMpO1xuXHRcdHRoaXMubGlzdE1ha2VyID0gbmV3IExpc3RNYWtlcih0aGlzLCB0aGlzLmR2LCB0aGlzLmZyb250bWF0dGVyKTtcblxuXHRcdHRoaXMuYXBpID0ge1xuXHRcdFx0Z2V0QXJlYTogSGVscGVyLmdldEFyZWEsXG5cdFx0XHRnZXRDb250ZXh0OiBIZWxwZXIuZ2V0Q29udGV4dCxcblx0XHRcdGdldERvbWFpbjogSGVscGVyLmdldERvbWFpbixcblx0XHRcdGdldExheWVyOiBIZWxwZXIuZ2V0TGF5ZXIsXG5cdFx0XHRnZXRPcmc6IEhlbHBlci5nZXRPcmcsXG5cdFx0XHRnZXRQcm9qZWN0OiBIZWxwZXIuZ2V0UHJvamVjdCxcblx0XHRcdGR1cmF0aW9uU3RyaW5nVG9TZWM6IEhlbHBlci5kdXJhdGlvblN0cmluZ1RvU2VjLFxuXHRcdFx0cGF0aHM6IFBhdGhzLFxuXHRcdFx0dHlwZXM6IFR5cGVzLFxuXHRcdFx0c3RhdHVzOiBTdGF0dXMsXG5cdFx0XHRuYW1lc3BhY2U6IE5hbWVzcGFjZSxcblx0XHRcdGRlZmF1bHQ6IERlZmF1bHQsXG5cdFx0XHRmcm9udG1hdHRlcjogdGhpcy5mcm9udG1hdHRlcixcblx0XHRcdGxpc3RNYWtlcjogdGhpcy5saXN0TWFrZXIsXG5cdFx0XHRyZW5kZXJlcjogUmVuZGVyZXIsXG5cdFx0XHRhdXRvRmllbGQ6IEF1dG9GaWVsZCxcblx0XHR9O1xuXG5cdFx0d2luZG93LmdvbmV4dCA9IHtcblx0XHRcdHN0YXRlOiB3aW5kb3cuZ29uZXh0Py5zdGF0ZSA/PyB7fSxcblx0XHRcdGFwcDogdGhpcy5hcHAsXG5cdFx0fTtcblxuXHRcdHRoaXMudGFza0luU3RhdHVzQmFyID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKCk7XG5cdFx0dGhpcy50YXNrSW5TdGF0dXNCYXIuc2V0VGV4dChcIlwiKTtcblxuXHRcdC8vIGNvbnNvbGUubG9nKHdpbmRvdy5hcHApO1xuXHRcdC8vIHRoaXMuc3RhdHVzQmFyID0gdGhpcy5hcHAuY3JlYXRlRGl2KCk7XG5cdFx0Ly8gdGhpcy5zdGF0dXNCYXIuaW5uZXJIVE1MID0gXCJcIjtcblx0XHQvLyB0aGlzLmFwcC5kb20uc3RhdHVzQmFyRWwuYXBwZW5kQ2hpbGQoZWwpO1xuXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwiYWN0aXZlLWxlYWYtY2hhbmdlXCIsICgpID0+IHtcblx0XHRcdC8vIGNvbnN0IGFjdGl2ZVRhc2tzID0gdGhpcy5kdlxuXHRcdFx0Ly8gXHQucGFnZXMoYFwiODEzIFRhc2tzXCJgKVxuXHRcdFx0Ly8gXHQud2hlcmUoKGZtKSA9PiBmbS5zdGF0dXMgPT09IFwiZG9pbmdcIik7XG5cdFx0XHQvLyB0aGlzLnRhc2tJblN0YXR1c0Jhci5zZXRUZXh0KGAke2FjdGl2ZVRhc2tzLmxlbmd0aH0gYWN0aXZlYCk7XG5cblx0XHRcdGNvbnN0IGxlYWYgPSBhcHAud29ya3NwYWNlLmFjdGl2ZUxlYWY7XG5cdFx0XHRjb25zdCB0YWJUaXRsZU9yaWcgPSBsZWFmLnRhYkhlYWRlcklubmVyVGl0bGVFbC5pbm5lclRleHQ7XG5cdFx0XHRpZiAodGFiVGl0bGVPcmlnLmxlbmd0aCAhPT0gMzYpIHtcblx0XHRcdFx0Ly8gY29uc29sZS53YXJuKFwiJ3RhYlRpdGxlT3JpZy5sZW5ndGgnICE9PSAzNlwiKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBmbSA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBhbGlhcyA9IGZtLmFsaWFzO1xuXHRcdFx0aWYgKEhlbHBlci5uaWxDaGVjayhhbGlhcykgfHwgYWxpYXMgPT09IFwiXCIpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRsZWFmLnRhYkhlYWRlcklubmVyVGl0bGVFbC5pbm5lclRleHQgPSBhbGlhcztcblx0XHRcdGxlYWYudGFiSGVhZGVySW5uZXJUaXRsZUVsLmlubmVySFRNTCA9IGFsaWFzO1xuXG5cdFx0XHQvLyBhcHAud29ya3NwYWNlLmFjdGl2ZUxlYWYuY29udGFpbmVyRWwuY2hpbGRyZW4gLT4gaHRtbCwgZ29vZCBsdWNrIHBvdXIgcmV0cm91dmVyIGxhIGJvbm5lIGRpdlxuXHRcdFx0Ly8gdGhpcy5zdGF0dXNCYXJFbC5zZXRUZXh0KFwiY291Y291XCIpO1xuXHRcdFx0Ly8gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKCkuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogXCJIZWxsbyBmcm9tIHRoZSBzdGF0dXMgYmFyIFx1RDgzRFx1REM0QlwiIH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gVGhpcyBhZGRzIGFuIGVkaXRvciBjb21tYW5kIHRoYXQgY2FuIHBlcmZvcm0gc29tZSBvcGVyYXRpb24gb24gdGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcImdvbmV4dC11dGlscy1jb3B5LWN1cnJlbnQtZmlsZS11dWlkXCIsXG5cdFx0XHRuYW1lOiBcIkNvcHkgY3VycmVudCBmaWxlIFVVSURcIixcblx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykgPT4ge1xuXHRcdFx0XHRjb25zdCBmbSA9IHRoaXMuZ29uZXh0LmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdFx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdC8vIGNvbnNvbGUud2Fybihcblx0XHRcdFx0XHQvLyBcdFwiQ3VycmVudCBmaWxlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCBgZnJvbnRtYXR0ZXJgXCIsXG5cdFx0XHRcdFx0Ly8gKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZm0udXVpZCA9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHQvLyBjb25zb2xlLndhcm4oXCJDdXJyZW50IGZpbGUgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIGBVVUlEYFwiKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhcImVkaXRvciBjYWxsYmFjayBmdW5jdGlvblwiKTtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coZWRpdG9yLmdldFNlbGVjdGlvbigpKTtcblx0XHRcdFx0Ly8gZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oJ1NhbXBsZSBFZGl0b3IgQ29tbWFuZCcpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwic2FmZS1kZWxldGVcIixcblx0XHRcdG5hbWU6IFwiU2FmZSBEZWxldGVcIixcblx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykgPT4ge1xuXHRcdFx0XHRjb25zdCBmaWxlID0gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG5cdFx0XHRcdGNvbnN0IGZtID0gYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IHJvb3RQYXRoID0gW1xuXHRcdFx0XHRcdGAke1BhdGhzLkpvdXJuYWx9Lm1kYCxcblx0XHRcdFx0XHRgJHtQYXRocy5JbmJveH0ubWRgLFxuXHRcdFx0XHRcdFwiQWQgSG9jLm1kXCIsXG5cdFx0XHRcdFx0XCJhbGxEb25lVGFza3MubWRcIixcblx0XHRcdFx0XHRcImFsbERvbmVUYXNrc1dpdGhvdXRMb2cubWRcIixcblx0XHRcdFx0XHRcImFsbE1lZGlhLm1kXCIsXG5cdFx0XHRcdFx0XCJhbGxQcm9ncmVzc2VkVGFza3MubWRcIixcblx0XHRcdFx0XHRcIm5vdGVMb2NhdG9yLm1kXCIsXG5cdFx0XHRcdFx0XCJQcmF4aXMubWRcIixcblx0XHRcdFx0XTtcblx0XHRcdFx0Zm9yIChjb25zdCBwIG9mIHJvb3RQYXRoKSB7XG5cdFx0XHRcdFx0aWYgKGZpbGUucGF0aCA9PT0gcCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRmaWxlLnBhdGguc3BsaXQoMCwgUGF0aHMuUmVzb3VyY2VzLmxlbmd0aCkgPT09XG5cdFx0XHRcdFx0UGF0aHMuUmVzb3VyY2VzXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnNvbGUubG9nKGBkZWxldGVkIGZpbGU6ICR7ZmlsZS5wYXRofWApO1xuXHRcdFx0XHRhcHAudmF1bHQuZGVsZXRlKGZpbGUpO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJkaXNwbGF5LW1vZGFsXCIsXG5cdFx0XHRuYW1lOiBcIkRpc3BsYXkgbW9kYWxcIixcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdG5ldyBFeGFtcGxlTW9kYWwodGhpcy5hcHApLm9wZW4oKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwiZ28tcGFyZW50XCIsXG5cdFx0XHRuYW1lOiBcIkdvIFBhcmVudFwiLFxuXHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZpbGUgPSBhcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRcdFx0Y29uc3QgZm0gPSBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSkuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZtLnBhcmVudF9pZCA9PT0gdW5kZWZpbmVkICYmIGZtLnJlZl9pZCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRcdFx0YHBhcmVudF9pZDogJyR7Zm0ucGFyZW50X2lkfScgcmVmX2lkOiAnJHtmbS5yZWZfaWR9J2AsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0Zm0udHlwZSA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdFx0KGZtLnR5cGUgIT09IFR5cGVzLkxvZyAmJlxuXHRcdFx0XHRcdFx0Zm0udHlwZSAhPT0gVHlwZXMuTWVkaWEgJiZcblx0XHRcdFx0XHRcdGZtLnR5cGUgIT09IFR5cGVzLkZsZWV0aW5nKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0XHRgaW52YWxpZCB0eXBlOiAnJHtmbS50eXBlfScgZm9yIG5vdGU6ICcke2ZtLnV1aWR9J2AsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBodHRwczovL2RvY3Mub2JzaWRpYW4ubWQvUmVmZXJlbmNlL1R5cGVTY3JpcHQrQVBJL1dvcmtzcGFjZS9jcmVhdGVMZWFmSW5QYXJlbnRcblx0XHRcdFx0Ly8gYXBwLndvcmtzcGFjZS5jcmVhdGVMZWFmSW5QYXJlbnQoKTtcblx0XHRcdFx0Ly8gY29uc3QgbGVhZiA9IGFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKTtcblx0XHRcdFx0Ly8gcGFyZW50IGlkXG5cdFx0XHRcdGNvbnN0IHBhcmVudCA9XG5cdFx0XHRcdFx0Zm0udHlwZSA9PT0gVHlwZXMuTG9nXG5cdFx0XHRcdFx0XHQ/IGAke1BhdGhzLlRhc2tzfS8ke2ZtLnBhcmVudF9pZH0ubWRgXG5cdFx0XHRcdFx0XHQ6IGAke1BhdGhzLlJlZnN9LyR7Zm0ucmVmX2lkfS5tZGA7XG5cdFx0XHRcdGNvbnN0IHBhZ2UgPSBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBhcmVudCk7XG5cdFx0XHRcdGFwcC53b3Jrc3BhY2Uub3BlbkxpbmtUZXh0KHBhcmVudCwgXCIvXCIsIGZhbHNlKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHRjb25zb2xlLmxvZyhcImdvbmV4dCAtIG9udW5sb2FkKClcIik7XG5cdFx0ZGVsZXRlIHdpbmRvdy5nb25leHQ7XG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oXG5cdFx0XHR7fSxcblx0XHRcdERFRkFVTFRfU0VUVElOR1MsXG5cdFx0XHRhd2FpdCB0aGlzLmxvYWREYXRhKCksXG5cdFx0KTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBFeGFtcGxlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHRjb25zdCBkdiA9IHRoaXMuYXBwLnBsdWdpbnMucGx1Z2lucy5kYXRhdmlldy5hcGk7XG5cdFx0Y29uc3QgdGFza3MgPSBkdi5wYWdlcygpLmFycmF5KCkuc2xpY2UoMCwgMTApO1xuXHRcdGxldCBzID0gXCJcIjtcblx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdHMgKz0gYCR7dGFzay5maWxlLnBhdGh9XFxuXFxuYFxuXG5cdFx0fVxuXHRcdGNvbnRlbnRFbC5zZXRUZXh0KHMpO1xuXHR9XG5cblx0b25DbG9zZSgpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0fVxufVxuIiwgImV4cG9ydCBjb25zdCBQYXRocyA9IHtcblx0VGFza3M6IFwiODEzIFRhc2tzXCIsXG5cdENvbXBvbmVudHM6IFwiQ29tcG9uZW50c1wiLFxuXHRHb2FsczogXCJHb2Fsc1wiLFxuXHRTbGlwYm94OiBcIjgwMyBTbGlwYm94XCIsXG5cdEluYm94OiBcIjgwMCBJbmJveFwiLFxuXHRSZWZzOiBcIjgwMiBSZWZzXCIsXG5cdEFyY2hpdmVzOiBcIjQwMCBBcmNoaXZlc1wiLFxuXHRMb2dzOiBcIjYwMCBMb2dcIixcblx0QXR0YWNobWVudHM6IFwiMDAwIEF0dGFjaG1lbnRzXCIsXG5cdEpvdXJuYWw6IFwiSm91cm5hbFwiLFxuXHRSZXNvdXJjZXM6IFwiUmVzb3VyY2VzXCIsXG5cdFByb2plY3RzOiBcIjEwMCBQcm9qZWN0c1wiLFxuXHREb21haW5zOiBcIkRvbWFpbnNcIixcblx0TmFtZXM6IFwiTmFtZXNcIixcbn07XG5cbmV4cG9ydCBjb25zdCBTdGF0dXMgPSB7XG5cdFRvZG86IFwidG9kb1wiLCBcblx0RG9pbmc6IFwiZG9pbmdcIixcblx0RG9uZTogXCJkb25lXCIsXG5cdE1heWJlOiBcIm1heWJlXCIsXG5cdFN0YW5kYnk6IFwic3RhbmRieVwiLFxuXHRUcmFzaDogXCJ0cmFzaFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IFR5cGVzID0ge1xuXHRGbGVldGluZzogMTMsXG5cdExpdGVyYXR1cmU6IDEsXG5cdFBlcm1hbmVudDogMixcblx0VGFzazogMyxcblx0UHJheGlzOiA0LFxuXHRQcm92aXNpb246IDUsXG5cdExvZzogNixcblx0UmVzb3VyY2U6IDcsXG5cdE1lZGlhOiA4LFxuXHRQcm9qZWN0OiAxMixcblx0T3JnOiA5LFxuXHREb21haW46IDEwLFxuXHRDb21wb25lbnQ6IDExLFxufTtcblxuZXhwb3J0IGNvbnN0IE5hbWVzcGFjZSA9IHtcblx0QXJlYTogXCJhcmVhXCIsXG5cdENvbnRleHQ6IFwiY29udGV4dFwiLFxuXHRMYXllcjogXCJsYXllclwiLFxuXHRPcmc6IFwib3JnXCIsXG5cdFByb2plY3Q6IFwicHJvamVjdFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHQgPSB7XG5cdEFyZWE6IFwibm9uZVwiLFxuXHRDb250ZXh0OiBcImFueVwiLFxuXHRMYXllcjogXCJub25lXCIsXG5cdE9yZzogXCJub25lXCIsXG5cdFByb2plY3Q6IFwibm9uZVwiLFxufTtcbiIsICJpbXBvcnQgeyBhc3NlcnQsIGdyb3VwLCB0aW1lIH0gZnJvbSBcImNvbnNvbGVcIjtcbmltcG9ydCB7IHVuemlwIH0gZnJvbSBcInpsaWJcIjtcbmltcG9ydCB7IFBhdGhzLCBTdGF0dXMsIFR5cGVzLCBOYW1lc3BhY2UsIERlZmF1bHQgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuY2xhc3MgRmlsdGVyQnkge1xuXHRwdWJsaWMgZm06IGFueTtcblx0cHVibGljIHByZWRpY2F0ZXM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgY29udGV4dHM6IHN0cmluZ1tdO1xuXG5cdGNvbnN0cnVjdG9yKGZtOiBhbnkpIHtcblx0XHR0aGlzLmZtID0gZm07XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRoaXMucHJlZGljYXRlcyA9IFtdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnByZWRpY2F0ZXMgPSBBcnJheS5pc0FycmF5KGZtLmZpbHRlcl9ieSkgPyBmbS5maWx0ZXJfYnkgOiBbXTtcblx0XHR9XG5cdH1cblxuXHRuYW1lSW5OYW1lc3BhY2UoZm06IGFueSwgbnM6IHN0cmluZ1tdKSB7XG5cdFx0bGV0IGZvdW5kID0gZmFsc2U7XG5cdFx0aWYgKG5zLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBhIG9mIG5zKSB7XG5cdFx0XHRjb25zdCByb290ID0gYS5zcGxpdChcIi9cIik7XG5cdFx0XHRBc3NlcnQuVHJ1ZShyb290Lmxlbmd0aCA9PT0gMiwgYEludmFsaWQgdGFnOiAnJHthfSdgKTtcblx0XHRcdGNvbnN0IHBhcmVudCA9XG5cdFx0XHRcdHJvb3RbMF0uc2xpY2UoMCwgMSkgPT09IFwiIVwiID8gcm9vdFswXS5zbGljZSgxKSA6IHJvb3RbMF07XG5cdFx0XHQvLyBjb25zb2xlLmxvZyhwYXJlbnQpXG5cdFx0XHRjb25zdCBuYW1lID0gSGVscGVyLmdldFRhZyhmbSwgcGFyZW50KTtcblxuXHRcdFx0aWYgKGEuc2xpY2UoMCwgMSkgPT09IFwiIVwiKSB7XG5cdFx0XHRcdC8vIG5lZ2F0aXZlIG1hdGNoLCBkaXNjYXJkIGVudHJ5XG5cdFx0XHRcdGlmIChuYW1lID09PSBhLnNsaWNlKDEpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdC8vIG5vIG1hdGNoLCByZWluaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHBvc2l0aXZlIG1hdGNoLCBrZWVwIGVudHJ5XG5cdFx0XHRcdGlmIChuYW1lID09PSBhKSB7XG5cdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdC8vIG5vIG1hdGNoLCByZWluaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3VuZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZvdW5kO1xuXHR9XG5cblx0ZmlsdGVyKGZtOiBhbnkpIHtcblx0XHRpZiAodGhpcy5wcmVkaWNhdGVzLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiAhdGhpcy5uYW1lSW5OYW1lc3BhY2UoZm0sIHRoaXMucHJlZGljYXRlcyk7XG5cdH1cbn1cblxuY2xhc3MgRnJvbnRtYXR0ZXJKUyB7XG5cdHB1YmxpYyB1dWlkOiBzdHJpbmc7XG5cdHB1YmxpYyB2ZXJzaW9uOiBzdHJpbmc7XG5cdHB1YmxpYyBjcmVhdGVkQXQ6IERhdGU7XG5cdHB1YmxpYyBhdDogRGF0ZTtcblx0cHVibGljIGJlZm9yZTogRGF0ZTtcblx0cHVibGljIGFmdGVyOiBEYXRlO1xuXHRwdWJsaWMgY29tcG9uZW50czogc3RyaW5nW107XG5cdHB1YmxpYyBkb21haW5zOiBzdHJpbmdbXTtcblx0cHVibGljIG5hbWVzOiBzdHJpbmdbXTtcblx0cHVibGljIHByb2plY3RzOiBzdHJpbmdbXTtcblx0cHVibGljIGZtOiBhbnk7XG5cdHB1YmxpYyBjb250ZW50czogc3RyaW5nW107XG5cdHB1YmxpYyB0cmFpdHM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgY29udGV4dHM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgc3RhdHVzOiBzdHJpbmc7XG5cblx0c2luZ3VsYXIodmFsdWVzOiBzdHJpbmdbXSwgZmllbGQ6IHN0cmluZykge1xuXHRcdGlmICghSGVscGVyLm5pbENoZWNrKHRoaXMuZm1bZmllbGRdKSkge1xuXHRcdFx0Y29uc3QgdmFsdWUgPSB0aGlzLmZtW2ZpZWxkXTtcblx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0aWYgKCF2YWx1ZXMuY29udGFpbnModmFsdWUpKSB7XG5cdFx0XHRcdFx0dmFsdWVzLnB1c2godmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0YCcke2ZpZWxkfScgaXMgaWdub3JlZCwgaW52YWxpZCBkYXRhLXR5cGU6ICcke3R5cGVvZiB0aGlzLmZtW2ZpZWxkXX0nYCxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwbHVyYWwodmFsdWVzOiBzdHJpbmdbXSwgZmllbGQ6IHN0cmluZykge1xuXHRcdGlmICghSGVscGVyLm5pbENoZWNrKHRoaXMuZm1bZmllbGRdKSkge1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm1bZmllbGRdKSkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0YCcke2ZpZWxkfScgaXMgaWdub3JlZCwgaW52YWxpZCBkYXRhLXR5cGU6ICcke2ZpZWxkfSdgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLmZtW2ZpZWxkXSkge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHRcdGlmICghdmFsdWVzLmNvbnRhaW5zKHZhbHVlKSkge1xuXHRcdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0XHRcdFx0YCcke3ZhbHVlfXMuJHt2YWx1ZX0nIGlzIGlnbm9yZWQsIGludmFsaWQgZGF0YS10eXBlOiAnJHt0eXBlb2YgdmFsdWV9J2AsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGNvbnN0cnVjdG9yKHBhZ2UpIHtcblx0XHRBc3NlcnQuVHJ1ZShwYWdlICE9PSB1bmRlZmluZWQsIFwiJ3BhZ2UnIGlzIHVuZGVmaW5lZFwiKTtcblx0XHR0aGlzLmYgPSBwYWdlLmZpbGU7XG5cdFx0Y29uc3QgZiA9IHRoaXMuZjtcblx0XHRBc3NlcnQuVHJ1ZShmICE9PSB1bmRlZmluZWQsIFwiJ2YnIGlzIHVuZGVmaW5lZFwiKTtcblx0XHR0aGlzLmZtID0gZi5mcm9udG1hdHRlcjtcblx0XHRBc3NlcnQuVHJ1ZSh0aGlzLmZtICE9PSB1bmRlZmluZWQsIFwiJ2ZtJyBpcyB1bmRlZmluZWRcIik7XG5cdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHR0aGlzLmZtLnV1aWQgIT09IHVuZGVmaW5lZCxcblx0XHRcdGAndXVpZCcgaXMgdW5kZWZpbmVkIGZvciAnJHt0aGlzLmYucGF0aH0nYCxcblx0XHQpO1xuXHRcdC8vIEFzc2VydC5UcnVlKHRoaXMuZm0udmVyc2lvbiAhPT0gdW5kZWZpbmVkLCBcIid2ZXJzaW9uJyBpcyB1bmRlZmluZWRcIik7XG5cdFx0Ly8gQXNzZXJ0LlRydWUoZm0uY3JlYXRlZF9hdCAhPT0gdW5kZWZpbmVkLCBcIidjcmVhdGVkX2F0JyBpcyB1bmRlZmluZWRcIik7XG5cblx0XHR0aGlzLnV1aWQgPSB0aGlzLmZtLnV1aWQ7XG5cdFx0dGhpcy52ZXJzaW9uID0gdGhpcy5mbS52ZXJzaW9uO1xuXHRcdHRoaXMuY3JlYXRlZEF0ID0gbmV3IERhdGUodGhpcy5mbS5jcmVhdGVkX2F0KTtcblx0XHR0aGlzLmF0ID0gdGhpcy5mbS5hdCAhPT0gdW5kZWZpbmVkID8gbmV3IERhdGUodGhpcy5mbS5hdCkgOiBuZXcgRGF0ZSgpO1xuXHRcdHRoaXMuYmVmb3JlID1cblx0XHRcdHRoaXMuZm0uYmVmb3JlICE9PSB1bmRlZmluZWRcblx0XHRcdFx0PyBuZXcgRGF0ZSh0aGlzLmZtLmJlZm9yZSlcblx0XHRcdFx0OiBuZXcgRGF0ZSgpO1xuXHRcdHRoaXMuYWZ0ZXIgPVxuXHRcdFx0dGhpcy5mbS5hZnRlciAhPT0gdW5kZWZpbmVkID8gbmV3IERhdGUodGhpcy5mbS5hZnRlcikgOiBuZXcgRGF0ZSgpO1xuXHRcdHRoaXMuY29tcG9uZW50cyA9IFtdO1xuXHRcdHRoaXMuZG9tYWlucyA9IFtdO1xuXHRcdHRoaXMucHJvamVjdHMgPSBbXTtcblx0XHR0aGlzLmNvbnRleHRzID0gW107XG5cdFx0dGhpcy50cmFpdHMgPSBbXTtcblxuXHRcdGNvbnN0IGRvbWFpbnMgPSBbXTtcblx0XHRjb25zdCBjb21wb25lbnRzID0gW107XG5cdFx0Y29uc3QgcHJvamVjdHMgPSBbXTtcblx0XHRjb25zdCBuYW1lcyA9IFtdO1xuXHRcdGNvbnN0IGNvbnRleHRzID0gW107XG5cdFx0Y29uc3QgY29udGVudHMgPSBbXTtcblx0XHRjb25zdCB0cmFpdHMgPSBbXTtcblxuXHRcdGlmICghSGVscGVyLm5pbENoZWNrKHRoaXMuZm0udGFncykpIHtcblx0XHRcdGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmZtLnRhZ3MpKSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihcIid0YWdzJyBpcyBpZ25vcmVkLCBpbnZhbGlkIGRhdGEtdHlwZVwiKTtcblx0XHRcdFx0dGhpcy5mbS50YWdzID0gW107XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoY29uc3QgdGFnIG9mIHRoaXMuZm0udGFncykge1xuXHRcdFx0XHRpZiAodGFnLnNsaWNlKDAsIDcpID09PSBcImRvbWFpbi9cIikge1xuXHRcdFx0XHRcdGRvbWFpbnMucHVzaCh0YWcuc2xpY2UoNykpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZy5zbGljZSgwLCAxMCkgPT09IFwiY29tcG9uZW50L1wiKSB7XG5cdFx0XHRcdFx0Y29tcG9uZW50cy5wdXNoKHRhZy5zbGljZSgxMCkpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZy5zbGljZSgwLCA4KSA9PT0gXCJwcm9qZWN0L1wiKSB7XG5cdFx0XHRcdFx0cHJvamVjdHMucHVzaCh0YWcuc2xpY2UoOCkpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZy5zbGljZSgwLCA1KSA9PT0gXCJuYW1lL1wiKSB7XG5cdFx0XHRcdFx0bmFtZXMucHVzaCh0YWcuc2xpY2UoNSkpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZy5zbGljZSgwLCA4KSA9PSBcImNvbnRleHQvXCIpIHtcblx0XHRcdFx0XHRjb250ZXh0cy5wdXNoKHRhZy5zbGljZSg4KSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnLnNsaWNlKDAsIDgpID09IFwiY29udGVudC9cIikge1xuXHRcdFx0XHRcdGNvbnRlbnRzLnB1c2godGFnLnNsaWNlKDgpKTtcblx0XHRcdFx0fSBlbHNlIGlmICh0YWcuc2xpY2UoMCwgNikgPT0gXCJ0cmFpdC9cIikge1xuXHRcdFx0XHRcdHRyYWl0cy5wdXNoKHRhZy5zbGljZSg2KSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLnNpbmd1bGFyKGRvbWFpbnMsIFwiZG9tYWluXCIpO1xuXHRcdHRoaXMucGx1cmFsKGRvbWFpbnMsIFwiZG9tYWluc1wiKTtcblx0XHR0aGlzLnNpbmd1bGFyKGNvbXBvbmVudHMsIFwiY29tcG9uZW50c1wiKTtcblx0XHR0aGlzLnBsdXJhbChjb21wb25lbnRzLCBcImNvbXBvbmVudHNcIik7XG5cdFx0dGhpcy5zaW5ndWxhcihwcm9qZWN0cywgXCJwcm9qZWN0XCIpO1xuXHRcdHRoaXMucGx1cmFsKHByb2plY3RzLCBcInByb2plY3RzXCIpO1xuXHRcdHRoaXMuc2luZ3VsYXIoY29udGVudHMsIFwiY29udGVudHNcIik7XG5cdFx0dGhpcy5wbHVyYWwoY29udGVudHMsIFwiY29udGVudHNcIik7XG5cdFx0dGhpcy5zaW5ndWxhcihuYW1lcywgXCJuYW1lXCIpO1xuXHRcdHRoaXMucGx1cmFsKG5hbWVzLCBcIm5hbWVzXCIpO1xuXHRcdHRoaXMucGx1cmFsKG5hbWVzLCBcImFsaWFzXCIpO1xuXHRcdHRoaXMuc2luZ3VsYXIodHJhaXRzLCBcInRyYWl0XCIpO1xuXHRcdHRoaXMucGx1cmFsKHRyYWl0cywgXCJ0cmFpdHNcIik7XG5cblx0XHR0aGlzLmRvbWFpbnMgPSBkb21haW5zO1xuXHRcdHRoaXMuY29tcG9uZW50cyA9IGNvbXBvbmVudHM7XG5cdFx0dGhpcy5wcm9qZWN0cyA9IHByb2plY3RzO1xuXHRcdHRoaXMubmFtZXMgPSBuYW1lcztcblx0XHR0aGlzLmNvbnRleHRzID0gY29udGV4dHM7XG5cdFx0dGhpcy5jb250ZW50cyA9IGNvbnRlbnRzO1xuXHRcdHRoaXMudHJhaXRzID0gdHJhaXRzO1xuXHR9XG5cblx0Z2V0RG9tYWluKGVtcHR5RGVmYXVsdCA9IHRydWUpOiBzdHJpbmcge1xuXHRcdGlmIChlbXB0eURlZmF1bHQpIHtcblx0XHRcdHJldHVybiB0aGlzLmRvbWFpbnNbMF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLmRvbWFpbnNbMF0gPT09IHVuZGVmaW5lZCA/IFwidW5rbm93blwiIDogdGhpcy5kb21haW5zWzBdO1xuXHRcdH1cblx0fVxuXG5cdGdldERvbWFpbnMoKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiB0aGlzLmRvbWFpbnM7XG5cdH1cblxuXHRnZXRUcmFpdHMoKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiB0aGlzLnRyYWl0cztcblx0fVxuXG5cdGdldENvbXBvbmVudHMoKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiB0aGlzLmNvbXBvbmVudHM7XG5cdH1cblxuXHRnZXRQcm9qZWN0KGVtcHR5RGVmYXVsdCA9IHRydWUpOiBzdHJpbmcge1xuXHRcdGlmIChlbXB0eURlZmF1bHQpIHtcblx0XHRcdHJldHVybiB0aGlzLnByb2plY3RzWzBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9qZWN0c1swXSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IHRoaXMucHJvamVjdHNbMF07XG5cdFx0fVxuXHR9XG5cblx0Z2V0UHJvamVjdHMoKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiB0aGlzLnByb2plY3RzO1xuXHR9XG5cblx0Z2V0TmFtZShlbXB0eURlZmF1bHQgPSB0cnVlKTogc3RyaW5nIHtcblx0XHRpZiAoZW1wdHlEZWZhdWx0KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5uYW1lc1swXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMubmFtZXNbMF0gPT09IHVuZGVmaW5lZCA/IFwiXCIgOiB0aGlzLm5hbWVzWzBdO1xuXHRcdH1cblx0fVxuXG5cdGdldENvbnRlbnQoZW1wdHlEZWZhdWx0ID0gdHJ1ZSk6IHN0cmluZyB7XG5cdFx0aWYgKGVtcHR5RGVmYXVsdCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY29udGVudHNbMF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLmNvbnRlbnRzWzBdID09PSB1bmRlZmluZWQgPyBcIlwiIDogdGhpcy5jb250ZW50c1swXTtcblx0XHR9XG5cdH1cblxuXHRnZXROYW1lcygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMubmFtZXM7XG5cdH1cblxuXHRnZXRDb250ZXh0KGVtcHR5RGVmYXVsdCA9IHRydWUpOiBzdHJpbmcge1xuXHRcdGlmIChlbXB0eURlZmF1bHQpIHtcblx0XHRcdHJldHVybiB0aGlzLmNvbnRleHRzWzBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jb250ZXh0c1swXSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IHRoaXMuY29udGV4dHNbMF07XG5cdFx0fVxuXHR9XG5cblx0cmVzb2x2ZShkdikge1xuXHRcdGNvbnN0IGRvbWFpbnMgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGRvbWFpbiBvZiB0aGlzLmRvbWFpbnMpIHtcblx0XHRcdGlmIChIZWxwZXIuaXNVVUlEKGRvbWFpbikpIHtcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkRvbWFpbnN9XCJgKVxuXHRcdFx0XHRcdC53aGVyZSgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLnV1aWQgPT09IGRvbWFpbik7XG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAocGFnZXMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRcdFx0Y29uc3QgcGFnZSA9IHBhZ2VzWzBdO1xuXHRcdFx0XHRcdGRvbWFpbnMucHVzaChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Eb21haW5zfVwiYClcblx0XHRcdFx0XHQud2hlcmUoKHBhZ2UpID0+IHBhZ2UuZmlsZS5mcm9udG1hdHRlci5uYW1lID09PSBkb21haW4pO1xuXHRcdFx0XHRpZiAocGFnZXMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcigpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IHBhZ2UgPSBwYWdlc1swXTtcblx0XHRcdFx0XHRkb21haW5zLnB1c2gocGFnZS5maWxlLmZyb250bWF0dGVyLm5hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChkb21haW5zLmxlbmd0aCAhPT0gdGhpcy5kb21haW5zLmxlbmd0aCkge1xuXHRcdFx0Y29uc29sZS53YXJuKGBEb21haW4gcmVzb2x1dGlvbiBmYWlsZWQgZm9yOiAke3RoaXMuZG9tYWluc31gKTtcblx0XHR9XG5cblx0XHR0aGlzLmRvbWFpbnMgPSBkb21haW5zO1xuXHR9XG59XG5cbmNsYXNzIFZhbGlkYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcblx0Y29uc3RydWN0b3IobWVzc2FnZSkge1xuXHRcdHN1cGVyKG1lc3NhZ2UpOyAvLyAoMSlcblx0XHR0aGlzLm5hbWUgPSBcIlZhbGlkYXRpb25FcnJvclwiOyAvLyAoMilcblx0fVxufVxuXG5leHBvcnQgY29uc3QgQXNzZXJ0ID0ge1xuXHRUcnVlKHByZWRpY2F0ZTogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nKSB7XG5cdFx0aWYgKCFwcmVkaWNhdGUpIHtcblx0XHRcdHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IobWVzc2FnZSk7XG5cdFx0fVxuXHR9LFxufTtcblxuZXhwb3J0IGNvbnN0IEhlbHBlciA9IHtcblx0bmlsQ2hlY2sodmFsOiBhbnkpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdmFsID09PSB1bmRlZmluZWQgfHwgdmFsID09PSBudWxsO1xuXHR9LFxuXG5cdGdldEtleUZ1Y2soZ3JvdXBCeSkge1xuXHRcdHN3aXRjaCAoZ3JvdXBCeSkge1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdGNhc2UgXCJkb25lQXRcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT5cblx0XHRcdFx0XHRlbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiY3JlYXRlZEF0XCI6XG5cdFx0XHRcdHJldHVybiAoZW50cnkpID0+XG5cdFx0XHRcdFx0ZW50cnkuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInByb2plY3RcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT4gZW50cnkuZmlsZS5mcm9udG1hdHRlci5wcm9qZWN0O1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJhcmVhXCI6XG5cdFx0XHRcdHJldHVybiAoZW50cnkpID0+IGVudHJ5LmZpbGUuZnJvbnRtYXR0ZXIuYXJlYTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9LFxuXG5cdGdldEtleShncm91cEJ5KSB7XG5cdFx0c3dpdGNoIChncm91cEJ5KSB7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0Y2FzZSBcImRvbmVBdFwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5kb25lQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImNyZWF0ZWRBdFwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInByb2plY3RcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT4gZW50cnkucHJvamVjdDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiYXJlYVwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5hcmVhO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH0sXG5cblx0bnVtYmVyVHlwZVRvU3RyaW5nKHZhbCk6IHN0cmluZyB7XG5cdFx0c3dpdGNoICh2YWwudHlwZSkge1xuXHRcdFx0Y2FzZSBUeXBlcy5GbGVldGluZzpcblx0XHRcdFx0cmV0dXJuIFwiZmxlZXRpbmdcIjtcblx0XHRcdGNhc2UgVHlwZXMuTG9nOlxuXHRcdFx0XHRyZXR1cm4gXCJsb2dcIjtcblx0XHRcdGNhc2UgVHlwZXMuUHJvamVjdDpcblx0XHRcdFx0cmV0dXJuIFwicHJvamVjdFwiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Pcmc6XG5cdFx0XHRcdHJldHVybiBcIm9yZ1wiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Eb21haW46XG5cdFx0XHRcdHJldHVybiBcImRvbWFpblwiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Db21wb25lbnQ6XG5cdFx0XHRcdHJldHVybiBcImNvbXBvbmVudFwiO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGBudW1iZXJUeXBlVG9TdHJpbmc6IHR5cGU6IFwiJHt2YWwudHlwZX1cIiBub3QgaW1wbGVtZW50ZWQgXCIke3ZhbC51dWlkfVwiYCxcblx0XHRcdFx0KTtcblx0XHR9XG5cdH0sXG5cblx0cm91bmRUb09uZURlY2ltYWwodmFsOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdHJldHVybiBNYXRoLnJvdW5kKHZhbCAqIDEwKSAvIDEwO1xuXHR9LFxuXG5cdGlzQ2hpbGRUYWcocGFyZW50LCBjaGlsZCkge1xuXHRcdGlmIChjaGlsZC5sZW5ndGggPD0gcGFyZW50Lmxlbmd0aCArIDEpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IGVsc2UgaWYgKGNoaWxkLnNsaWNlKDAsIHBhcmVudC5sZW5ndGggKyAxKSAhPSBgJHtwYXJlbnR9L2ApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Z2V0RmllbGQoZmllbGQsIGRlZmF1bHRWYWx1ZSkge1xuXHRcdGlmIChmaWVsZCA9PT0gdW5kZWZpbmVkIHx8IGZpZWxkID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gZmllbGQ7XG5cdFx0fVxuXHR9LFxuXG5cdGdldERhdGUoZHQpIHtcblx0XHRpZiAoZHQgPT09IFwiXCIgfHwgZHQgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSBlbHNlIGlmIChkdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRkdCA9IG5ldyBEYXRlKGR0KTtcblx0XHRcdGlmIChpc05hTihkdCkpIHtcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBkdDtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH0sXG5cblx0Z2V0VGFnKGZtLCB0eXBlLCBlbXB0eURlZmF1bHQpIHtcblx0XHRsZXQgbmFtZSA9IFwiXCI7XG5cdFx0bGV0IGRlZmF1bHRWYWx1ZSA9IFwiXCI7XG5cblx0XHRpZiAodHlwZSA9PT0gXCJhcmVhXCIpIHtcblx0XHRcdG5hbWUgPSBOYW1lc3BhY2UuQXJlYTtcblx0XHRcdGRlZmF1bHRWYWx1ZSA9IERlZmF1bHQuQXJlYTtcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwiY29udGV4dFwiKSB7XG5cdFx0XHRuYW1lID0gTmFtZXNwYWNlLkNvbnRleHQ7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LkNvbnRleHQ7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSBcImxheWVyXCIpIHtcblx0XHRcdG5hbWUgPSBOYW1lc3BhY2UuTGF5ZXI7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LkxheWVyO1xuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gXCJvcmdcIikge1xuXHRcdFx0bmFtZSA9IE5hbWVzcGFjZS5Pcmc7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0Lk9yZztcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwicHJvamVjdFwiKSB7XG5cdFx0XHRuYW1lID0gTmFtZXNwYWNlLlByb2plY3Q7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LlByb2plY3Q7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09IFwiZG9tYWluXCIpIHtcblx0XHRcdG5hbWUgPSBcImRvbWFpblwiO1xuXHRcdFx0ZGVmYXVsdFZhbHVlID0gXCJub25lXCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgZ2V0VGFnIGdvdCB1bnN1cG9ydGVkIHR5cGU6ICcke3R5cGV9J2ApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxlbiA9IG5hbWUubGVuZ3RoICsgMTtcblx0XHRjb25zdCBkZWZhdWx0VGFnID0gYCR7bmFtZX0vJHtkZWZhdWx0VmFsdWV9YDtcblxuXHRcdGxldCBkZWZhdWx0UmV0VmFsID0gZGVmYXVsdFRhZztcblx0XHRpZiAoZW1wdHlEZWZhdWx0KSB7XG5cdFx0XHRkZWZhdWx0UmV0VmFsID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHR9XG5cblx0XHRjb25zdCB0YWdzID0gZm0udGFncztcblx0XHRpZiAodGFncyA9PT0gdW5kZWZpbmVkIHx8IHRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHR9XG5cdFx0Ly8gLT4gdGFnIG4nZXhpc3RlIHBhcyAtPiB2YWxldXIgcGFyIGRlZmF1dFxuXHRcdC8vIC0+IHRhZyBleGlzdGUgbWFpcyBpbCBhIHVuZSB2YWxldXIgcGFyIGRlZmF1dCAtPiB2YWxldXIgcGFyIGRlZmF1dFxuXHRcdGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdGlmICh0YWcgPT0gZGVmYXVsdFRhZykge1xuXHRcdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRhZy5sZW5ndGggPiBsZW4gJiYgdGFnLnNsaWNlKDAsIGxlbikgPT0gYCR7bmFtZX0vYCkge1xuXHRcdFx0XHRyZXR1cm4gdGFnO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBkZWZhdWx0UmV0VmFsO1xuXHR9LFxuXG5cdGdldE5hbWUoZm0pOiBzdHJpbmcge1xuXHRcdGNvbnN0IGNvbXBvbmVudHMgPSBIZWxwZXIuZ2V0Q29tcG9uZW50cyhmbSk7XG5cdFx0aWYgKGNvbXBvbmVudHMubGVuZ3RoIDwgMSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBIZWxwZXIuZ2V0TmFtZSgpICR7Zm19YCk7XG5cdFx0fVxuXG5cdFx0bGV0IG5hbWUgPSB1bmRlZmluZWQ7XG5cdFx0bGV0IG9jY3VyZW5jZXMgPSAwO1xuXHRcdGZvciAoY29uc3QgY29tcG9uZW50IG9mIGNvbXBvbmVudHMpIHtcblx0XHRcdGlmIChjb21wb25lbnQuc2xpY2UoMCwgMTUpID09PSBcImNvbXBvbmVudC9uYW1lL1wiKSB7XG5cdFx0XHRcdG5hbWUgPSBjb21wb25lbnQuc2xpY2UoMTUpO1xuXHRcdFx0XHRvY2N1cmVuY2VzICs9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKG9jY3VyZW5jZXMgPiAxKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGBIZWxwZXIuZ2V0TmFtZSgpICR7Zm19IG11bHRpcGxlIG9jY3VyZW5jZXMgb2YgJ2NvbXBvbmVudC9uYW1lJ2AsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YEhlbHBlci5nZXROYW1lKCkgJHtmbX0gJ2NvbXBvbmVudC9uYW1lJyB1bmRlZmluZWRgLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbmFtZTtcblx0fSxcblxuXHRnZXRDb21wb25lbnRzKGZtKSB7XG5cdFx0Y29uc3QgY29tcG9uZW50cyA9IFtdO1xuXHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZm0udGFncykpIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgZm0udGFncykge1xuXHRcdFx0aWYgKHRhZy5sZW5ndGggPiAxMCAmJiB0YWcuc2xpY2UoMCwgMTApID09PSBcImNvbXBvbmVudC9cIikge1xuXHRcdFx0XHRjb21wb25lbnRzLnB1c2godGFnKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNvbXBvbmVudHM7XG5cdH0sXG5cblx0Z2V0QXJlYShmbSwgZW1wdHlEZWZhdWx0ID0gZmFsc2UpIHtcblx0XHRyZXR1cm4gSGVscGVyLmdldFRhZyhmbSwgXCJhcmVhXCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0Q29udGV4dChmbSwgZW1wdHlEZWZhdWx0ID0gZmFsc2UpIHtcblx0XHRyZXR1cm4gSGVscGVyLmdldFRhZyhmbSwgXCJjb250ZXh0XCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0RG9tYWluKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcImRvbWFpblwiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGdldExheWVyKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcImxheWVyXCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0T3JnKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcIm9yZ1wiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGdldFByb2plY3QoZm0sIGVtcHR5RGVmYXVsdCA9IGZhbHNlKSB7XG5cdFx0cmV0dXJuIEhlbHBlci5nZXRUYWcoZm0sIFwicHJvamVjdFwiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGR1cmF0aW9uU3RyaW5nVG9TZWModmFsKSB7XG5cdFx0aWYgKHZhbCA9PT0gdW5kZWZpbmVkIHx8IHZhbC5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblx0XHRjb25zdCBtdWx0ID0gdmFsLnNsaWNlKC0xKTtcblx0XHRsZXQgbSA9IDA7XG5cdFx0aWYgKG11bHQgPT09IFwiaFwiKSB7XG5cdFx0XHRtID0gNjAgKiA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT09IFwibVwiKSB7XG5cdFx0XHRtID0gNjA7XG5cdFx0fSBlbHNlIGlmIChtdWx0ID09PSBcImRcIikge1xuXHRcdFx0bSA9IDI0ICogNjAgKiA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT0gXCJ3XCIpIHtcblx0XHRcdG0gPSAyNCAqIDYwICogNjAgKiA3O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYFVuaGFuZGxlZCBjYXNlIHZhbDogJHt2YWx9YCk7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBtICogcGFyc2VJbnQodmFsLnNsaWNlKDAsIC0xKSk7XG5cdH0sXG5cblx0bXNlY1RvU3RyaW5nRHVyYXRpb24odmFsOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdGNvbnN0IG9uZUhvdXJJbk1zZWMgPSAzNjAwMDAwOyAvLyAxIGhvdXIgaW4gbXNlY1xuXHRcdGNvbnN0IG9uZURheUluTXNlYyA9IDg2NDAwMDAwOyAvLyAxIGRheSBpbiBtc2VjXG5cdFx0aWYgKHZhbCA+PSAyNCAqIG9uZUhvdXJJbk1zZWMpIHtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFN0cmluZyhIZWxwZXIucm91bmRUb09uZURlY2ltYWwodmFsIC8gb25lRGF5SW5Nc2VjKSkucGFkU3RhcnQoXG5cdFx0XHRcdFx0Mixcblx0XHRcdFx0XHRcIjBcIixcblx0XHRcdFx0KSArIFwiIGRcIlxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0U3RyaW5nKEhlbHBlci5yb3VuZFRvT25lRGVjaW1hbCh2YWwgLyBvbmVIb3VySW5Nc2VjKSkucGFkU3RhcnQoXG5cdFx0XHRcdFx0Mixcblx0XHRcdFx0XHRcIjBcIixcblx0XHRcdFx0KSArIFwiIGhcIlxuXHRcdFx0KTtcblx0XHR9XG5cdH0sXG5cblx0aXNVVUlEKHZhbDogc3RyaW5nKTogYm9vbGVhbiB7XG5cdFx0aWYgKHR5cGVvZiB2YWwgIT09IFwic3RyaW5nXCIpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbC5sZW5ndGggPT09IDM2O1xuXHR9LFxufTtcblxuZXhwb3J0IGNvbnN0IEF1dG9GaWVsZCA9IHtcblx0dGFncyhkdiwgZm0sIGxldmVsID0gMikge1xuXHRcdGNvbnN0IHRhZ3MgPSBmbS50YWdzO1xuXHRcdGlmICh0YWdzID09IHVuZGVmaW5lZCB8fCB0YWdzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRhZ3Muc29ydCgpO1xuXHRcdGR2LmhlYWRlcihsZXZlbCwgXCJUYWdzXCIpO1xuXHRcdGxldCBzID0gXCJcIjtcblx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0XHRzICs9IGAgIyR7dGFnfWA7XG5cdFx0fVxuXHRcdGR2LnBhcmFncmFwaChzKTtcblx0fSxcblxuXHRhdXRob3JzKGR2LCBmbSkge1xuXHRcdGNvbnN0IGF1dGhvcnMgPSBmbS5hdXRob3JzO1xuXHRcdGlmIChhdXRob3JzID09PSB1bmRlZmluZWQgfHwgYXV0aG9ycy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkdi5oZWFkZXIoMywgXCJBdXRob3JzXCIpO1xuXHRcdGR2Lmxpc3QoYXV0aG9ycyk7XG5cdH0sXG5cblx0dGl0bGUoZHYsIGZtKSB7XG5cdFx0Y29uc3QgdGl0bGUgPSBmbS5hbGlhcztcblx0XHRpZiAodGl0bGUgPT09IHVuZGVmaW5lZCB8fCB0aXRsZS5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkdi5oZWFkZXIoMywgdGl0bGUpO1xuXHR9LFxuXG5cdGxvZ3MoZHYsIGVudHJpZXMpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0bGV0IHRvdGFsVGltZSA9IDA7XG5cblx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcblx0XHRcdGNvbnN0IGZtZSA9IGVudHJ5LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBlID0gW107XG5cdFx0XHRsZXQgc3RhcnQgPSAwO1xuXHRcdFx0bGV0IHN0b3AgPSAwO1xuXHRcdFx0aWYgKGZtZSA9PT0gdW5kZWZpbmVkIHx8IGZtZS5jcmVhdGVkX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZyb250bWF0dGVyOiAke2ZtZS51dWlkfWApO1xuXHRcdFx0fVxuXG5cdFx0XHRzdGFydCA9IG5ldyBEYXRlKGZtZS5jcmVhdGVkX2F0KTtcblx0XHRcdGUucHVzaChzdGFydC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSk7XG5cdFx0XHRpZiAoZm1lLmRvbmVfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRzdG9wID0gRGF0ZS5ub3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN0b3AgPSBuZXcgRGF0ZShmbWUuZG9uZV9hdCk7XG5cdFx0XHR9XG5cdFx0XHR0b3RhbFRpbWUgKz0gc3RvcCAtIHN0YXJ0O1xuXHRcdFx0ZS5wdXNoKFxuXHRcdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0XHRmbWUudXVpZCxcblx0XHRcdFx0XHRcIiMjIENvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRmbWUudXVpZC5zbGljZSgwLCA4KSxcblx0XHRcdFx0KSxcblx0XHRcdCk7XG5cdFx0XHRlLnB1c2goTWF0aC5yb3VuZCgoKHN0b3AgLSBzdGFydCkgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwKTtcblx0XHRcdGlmIChmbWUucmV2aWV3ZWQgPT09IHVuZGVmaW5lZCB8fCBmbWUucmV2aWV3ZWQgPT09IDApIHtcblx0XHRcdFx0ZS5wdXNoKDApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZS5wdXNoKGZtZS5yZXZpZXdlZCk7XG5cdFx0XHR9XG5cdFx0XHRidWZmLnB1c2goZSk7XG5cdFx0fVxuXG5cdFx0aWYgKGJ1ZmYubGVuZ3RoID4gMCkge1xuXHRcdFx0ZHYuaGVhZGVyKDIsIFwiTG9nc1wiKTtcblx0XHRcdGR2LnRhYmxlKFtcImNyZWF0ZWRfYXRcIiwgXCJ1dWlkXCIsIFwic2Vzc2lvblwiLCBcInJldmlld2VkXCJdLCBidWZmKTtcblx0XHRcdGlmICh0b3RhbFRpbWUgPiAwKSB7XG5cdFx0XHRcdGR2LnBhcmFncmFwaChcblx0XHRcdFx0XHRgX3RvdGFsVGltZSAoaCk6XyAke01hdGgucm91bmQoKHRvdGFsVGltZSAvICgxMDAwICogNjAgKiA2MCkpICogMTApIC8gMTBcblx0XHRcdFx0XHR9YCxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cmV2aXNpb25zKGR2LCBlbnRyaWVzKSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBjb2xzID0gW1wiXCIsIFwiY3JlYXRlZF9hdFwiLCBcInV1aWRcIl07XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuXHRcdFx0Y29uc3QgZSA9IFtdO1xuXHRcdFx0Y29uc3QgZm0gPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGN1cnJlbnQuZmlsZS5mcm9udG1hdHRlci51dWlkID09PSBmbS51dWlkKSB7XG5cdFx0XHRcdGUucHVzaChcIi0+XCIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZS5wdXNoKFwiXCIpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShmbS5jcmVhdGVkX2F0KTtcblx0XHRcdGUucHVzaChzdGFydC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSk7XG5cdFx0XHRlLnB1c2goXG5cdFx0XHRcdGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHRcdGZtLnV1aWQsXG5cdFx0XHRcdFx0XCIjIyBDb250ZW50XCIsXG5cdFx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdFx0Zm0udXVpZC5zbGljZSgwLCA4KSxcblx0XHRcdFx0KSxcblx0XHRcdCk7XG5cdFx0XHRidWZmLnB1c2goZSk7XG5cdFx0fVxuXG5cdFx0aWYgKGJ1ZmYubGVuZ3RoID4gMSkge1xuXHRcdFx0ZHYuaGVhZGVyKDIsIFwiUmV2aXNpb25zXCIpO1xuXHRcdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdFx0fVxuXHR9LFxuXG5cdG1lZGlhKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBmbSA9IGN1cnJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCBwYWdlcyA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuUmVmc30vJHtmbS5yZWZfaWR9XCJgKS5hcnJheSgpO1xuXHRcdGlmIChwYWdlcy5sZW5ndGggIT09IDEpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgbWVkaWEgPSBwYWdlc1swXTtcblx0XHRjb25zdCBtZWRpYUZtID0gbWVkaWEuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRBdXRvRmllbGQudGl0bGUoZHYsIG1lZGlhRm0pO1xuXHRcdGR2LnBhcmFncmFwaChSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBtZWRpYS5maWxlKSk7XG5cdFx0QXV0b0ZpZWxkLmF1dGhvcnMoZHYsIG1lZGlhRm0pO1xuXHRcdEF1dG9GaWVsZC50YWdzKGR2LCBtZWRpYUZtLCAzKTtcblxuXHRcdGNvbnN0IGxvZ0VudHJpZXMgPSBkdlxuXHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc30vJHtmbS51dWlkfVwiYClcblx0XHRcdC53aGVyZSgocCkgPT4gcC50eXBlID09PSA2KVxuXHRcdFx0LnNvcnQoKGspID0+IGsuY3JlYXRlZF9hdCwgXCJkZXNjXCIpO1xuXHRcdEF1dG9GaWVsZC5sb2dzKGR2LCBsb2dFbnRyaWVzKTtcblx0fSxcblxuXHRyZXZpc2lvbnNMaXN0KGR2LCByb290OiBzdHJpbmcpIHtcblx0XHRsZXQgaGVhZCA9IGR2LmN1cnJlbnQoKTtcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtyb290fVwiYClcblx0XHRcdFx0LndoZXJlKFxuXHRcdFx0XHRcdChwYWdlKSA9PlxuXHRcdFx0XHRcdFx0cGFnZS5maWxlLmZyb250bWF0dGVyLm5leHQgPT09XG5cdFx0XHRcdFx0XHRoZWFkLmZpbGUuZnJvbnRtYXR0ZXIudXVpZCxcblx0XHRcdFx0KTtcblx0XHRcdGlmIChwYWdlcy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcigpO1xuXHRcdFx0fSBlbHNlIGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRoZWFkID0gcGFnZXNbMF07XG5cdFx0fVxuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGxldCBjdXIgPSBoZWFkO1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRidWZmLnB1c2goY3VyKTtcblx0XHRcdGNvbnN0IGZtID0gY3VyLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZm0ubmV4dCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgcGFnZXMgPSBkdi5wYWdlcyhgXCIke3Jvb3R9LyR7Zm0ubmV4dH1cImApO1xuXHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGN1ciA9IHBhZ2VzWzBdO1xuXHRcdH1cblxuXHRcdHJldHVybiBidWZmO1xuXHR9LFxuXG5cdHBlcm1hbmVudChkdikge1xuXHRcdGNvbnN0IGZtID0gZHYuY3VycmVudCgpLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgY29tcG9uZW50cyA9IEhlbHBlci5nZXRDb21wb25lbnRzKGZtKTtcblx0XHRjb25zdCB0cmFpdHMgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBjb21wb25lbnRzKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGNvbXBvbmVudC5sZW5ndGggPiAxNiAmJlxuXHRcdFx0XHRjb21wb25lbnQuc2xpY2UoMCwgMTYpID09PSBcImNvbXBvbmVudC90cmFpdC9cIlxuXHRcdFx0KSB7XG5cdFx0XHRcdHRyYWl0cy5wdXNoKGNvbXBvbmVudC5zbGljZSgxNikpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh0cmFpdHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRBdXRvRmllbGQudGFncyhkdiwgZm0sIDIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodHJhaXRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiU3VwcG9ydCBmb3IgMSB0cmFpdCBvbmx5XCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0cmFpdCA9IHRyYWl0c1swXTtcblx0XHRcdGlmICh0cmFpdCAhPT0gXCJyZXZpc2lvblwiKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgVHJhaXQgJyR7dHJhaXR9JyBub3QgaW1wbGVtZW50ZWRgKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qgb250b2xvZ3kgPSBbXTtcblx0XHRcdGZvciAoY29uc3QgY29tcG9uZW50IG9mIGNvbXBvbmVudHMpIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGNvbXBvbmVudC5sZW5ndGggPiAxNiAmJlxuXHRcdFx0XHRcdGNvbXBvbmVudC5zbGljZSgwLCAxNikgPT09IFwiY29tcG9uZW50L3RyYWl0L1wiXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG9udG9sb2d5LnB1c2goYCMke2NvbXBvbmVudH1gKTtcblx0XHRcdH1cblx0XHRcdG9udG9sb2d5LnB1c2goYCMke0hlbHBlci5nZXREb21haW4oZm0pfWApO1xuXHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHQucGFnZXMob250b2xvZ3kuam9pbihcIiBhbmQgXCIpKVxuXHRcdFx0XHQud2hlcmUoKHBhZ2UpID0+IHBhZ2UuZmlsZS5mcm9udG1hdHRlci50eXBlID09PSBmbS50eXBlKVxuXHRcdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImRlc2NcIilcblx0XHRcdFx0LmFycmF5KCk7XG5cdFx0XHRBdXRvRmllbGQucmV2aXNpb25zKGR2LCBwYWdlcyk7XG5cdFx0fVxuXHR9LFxuXHRhdXRvRmllbGRUaXRsZShkdiwgZm0pIHtcblx0XHRjb25zdCB0aXRsZSA9IGZtLmFsaWFzO1xuXHRcdGlmICh0aXRsZSA9PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkdi5oZWFkZXIoMSwgdGl0bGUpO1xuXHR9LFxuXHRhdXRvRmllbGRBdXRob3JzKGR2LCBmbSkge1xuXHRcdGNvbnN0IGF1dGhvcnMgPSBmbS5hdXRob3JzO1xuXHRcdGlmIChhdXRob3JzID09PSB1bmRlZmluZWQgfHwgYXV0aG9ycy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZHYuaGVhZGVyKDIsIFwiQXV0aG9yc1wiKTtcblx0XHRkdi5saXN0KGF1dGhvcnMpO1xuXHR9LFxuXG5cdGF1dG9GaWVsZFRhZ3MoZHYsIGZtKSB7XG5cdFx0Y29uc3QgdGFncyA9IGZtLnRhZ3M7XG5cdFx0aWYgKHRhZ3MgPT0gdW5kZWZpbmVkIHx8IHRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGFncy5zb3J0KCk7XG5cdFx0ZHYuaGVhZGVyKDIsIFwiVGFnc1wiKTtcblx0XHRsZXQgcyA9IFwiXCI7XG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0cyArPSBgICMke3RhZ31gO1xuXHRcdH1cblx0XHRkdi5wYXJhZ3JhcGgocyk7XG5cdH0sXG5cblx0bGl0ZXJhdHVyZShkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgZm0gPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKEhlbHBlci5uaWxDaGVjayhmbS5hdXRob3JzKSkge1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmF1dG9GaWVsZFRpdGxlKGR2LCBmbSk7XG5cdFx0XHR0aGlzLmF1dG9GaWVsZEF1dGhvcnMoZHYsIGZtKTtcblx0XHRcdHRoaXMuYXV0b0ZpZWxkVGFncyhkdiwgZm0pO1xuXHRcdH1cblx0fSxcblxuXHRnb2FsKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBmbSA9IGN1cnJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiZm0gaXMgcmVxdWlyZWRcIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gdGhpcy5hdXRvRmllbGROZWVkKGR2LCBmbSk7XG5cdFx0Ly8gdGhpcy5hdXRvRmllbGROZWVkZWRCeShkdiwgY3VycmVudCk7XG5cdFx0Ly8gdGhpcy5hdXRvRmllbGRUYWdzKGR2LCBmbSk7XG5cdFx0Ly9cblx0XHRjb25zdCBjcmVhdGVkX2F0ID0gbmV3IERhdGUoZm0uY3JlYXRlZF9hdCk7XG5cdFx0Y29uc3QgbG9nRW50cmllcyA9IGR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Mb2dzfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0LndoZXJlKChwKSA9PiBwLnR5cGUgPT09IDYpXG5cdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImRlc2NcIik7XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBsb2dFbnRyaWVzKSB7XG5cdFx0XHRjb25zdCBmbWUgPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgZSA9IFtdO1xuXG5cdFx0XHRpZiAoZm1lID09PSB1bmRlZmluZWQgfHwgZm1lLmNyZWF0ZWRfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXI6ICR7Zm1lLnV1aWR9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoZm1lLmNyZWF0ZWRfYXQpO1xuXHRcdFx0ZS5wdXNoKHN0YXJ0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApKTtcblxuXHRcdFx0ZS5wdXNoKFxuXHRcdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0XHRmbWUudXVpZCxcblx0XHRcdFx0XHRcIiMjIENvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRmbWUudXVpZC5zbGljZSgwLCA4KSxcblx0XHRcdFx0KSxcblx0XHRcdCk7XG5cblx0XHRcdGJ1ZmYucHVzaChlKTtcblx0XHR9XG5cblx0XHRjb25zdCBiZWZvcmUgPSBuZXcgRGF0ZShmbS5iZWZvcmUpO1xuXHRcdC8vIGRheXNcblx0XHRjb25zdCB0aW1lZnJhbWUgPVxuXHRcdFx0KGJlZm9yZS5nZXRUaW1lKCkgLSBjcmVhdGVkX2F0LmdldFRpbWUoKSkgLyAoMTAwMCAqIDM2MDAgKiAyNCk7XG5cdFx0bGV0IHRpbWVmcmFtZVRleHQgPSBcIlwiO1xuXHRcdC8vIDEgam91clxuXHRcdC8vIDEgc2VtYWluZVxuXHRcdC8vIDIgc2VtYWluZVxuXHRcdC8vIDEgbW9pc1xuXHRcdC8vIDIgbW9pc1xuXHRcdC8vIDYgbW9pc1xuXHRcdC8vIDEgYW5cblx0XHQvLyAyIGFuc1xuXHRcdC8vIDUgYW5zXG5cdFx0ZHYuaGVhZGVyKDMsIFwiVGltZWZyYW1lXCIpO1xuXHRcdGlmICh0aW1lZnJhbWUgPiAwICYmIHRpbWVmcmFtZSA8IDMwKSB7XG5cdFx0XHR0aW1lZnJhbWVUZXh0ID0gXCJydW5hd2F5XCI7XG5cdFx0fSBlbHNlIGlmICh0aW1lZnJhbWUgPCA2MCkge1xuXHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiMTAsMDAwIGZlZXRcIjtcblx0XHR9IGVsc2UgaWYgKHRpbWVmcmFtZSA8IDM2MCkge1xuXHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiMjAsMDAwIGZlZXRcIjtcblx0XHR9IGVsc2UgaWYgKHRpbWVmcmFtZSA8IDcyMCkge1xuXHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiMzAsMDAwIGZlZXRcIjtcblx0XHR9IGVsc2UgaWYgKHRpbWVmcmFtZSA8IDEwODApIHtcblx0XHRcdHRpbWVmcmFtZVRleHQgPSBcIjQwLDAwMCBmZWV0XCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRpbWVmcmFtZVRleHQgPSBcIjUwLDAwMCBmZWV0XCI7XG5cdFx0fVxuXG5cdFx0ZHYucGFyYWdyYXBoKHRpbWVmcmFtZVRleHQpO1xuXG5cdFx0aWYgKGJ1ZmYubGVuZ3RoID4gMCkge1xuXHRcdFx0ZHYuaGVhZGVyKDIsIFwiUmV2aWV3c1wiKTtcblx0XHRcdGR2LnRhYmxlKFtcInJldmlld2VkX2F0XCIsIFwidXVpZFwiXSwgYnVmZik7XG5cdFx0fVxuXHR9LFxuXG5cdGRvbWFpbihkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgZm0gPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnNvbGUud2FybihcImZtIGlzIHJlcXVpcmVkXCIpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdEFzc2VydC5UcnVlKGZtLm5hbWUgIT09IHVuZGVmaW5lZCwgXCInbmFtZScgaXMgdW5kZWZpbmVkXCIpO1xuXHRcdHtcblx0XHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuR29hbHN9XCJgKVxuXHRcdFx0XHQud2hlcmUoKHApID0+IHtcblx0XHRcdFx0XHRjb25zdCBmbWwgPSBuZXcgRnJvbnRtYXR0ZXJKUyhwKTtcblx0XHRcdFx0XHRpZiAoZm1sLmZtLnN0YXR1cyAhPT0gXCJ0b2RvXCIpIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoZm1sLmdldERvbWFpbigpICE9PSBmbS5uYW1lKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5hcnJheSgpO1xuXG5cdFx0XHQvLyByZW5kdSBMaXN0W2dvYWxdXG5cdFx0XHQvLyB0cmlcdTAwRTkgcGFyIGRhdGUgZCdcdTAwRTljaGVhbmNlP1xuXHRcdFx0Ly8gdXVpZCNDb250ZW50IHwgZHVlIGRhdGVcblx0XHRcdGNvbnN0IHJzID0gW107XG5cdFx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdFx0Y29uc3QgZm1lID0gcGFnZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0Zm1lID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0XHRmbWUuY3JlYXRlZF9hdCA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdFx0Zm1lLmJlZm9yZSA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmcm9udG1hdHRlcjogJHtmbWUudXVpZH1gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IGVudHJ5ID0ge1xuXHRcdFx0XHRcdHV1aWQ6IGZtZS51dWlkLFxuXHRcdFx0XHRcdGNyZWF0ZWRBdDogbmV3IERhdGUoZm1lLmNyZWF0ZWRfYXQpLFxuXHRcdFx0XHRcdGJlZm9yZTogbmV3IERhdGUoZm1lLmJlZm9yZSksXG5cdFx0XHRcdH07XG5cdFx0XHRcdGVudHJ5LmRlbHRhID1cblx0XHRcdFx0XHRlbnRyeS5iZWZvcmUuZ2V0VGltZSgpIC0gZW50cnkuY3JlYXRlZEF0LmdldFRpbWUoKTtcblx0XHRcdFx0cnMucHVzaChlbnRyeSk7XG5cdFx0XHR9XG5cblx0XHRcdHJzLnNvcnQoKGEsIGIpID0+IGEuZGVsdGEgLSBiLmRlbHRhKTtcblxuXHRcdFx0ZHYuaGVhZGVyKDIsIFwiR29hbHNcIik7XG5cblx0XHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgcnMpIHtcblx0XHRcdFx0Y29uc3QgZSA9IFtdO1xuXHRcdFx0XHQvLyBlLnB1c2goZW50cnkuY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApKTtcblx0XHRcdFx0ZS5wdXNoKFxuXHRcdFx0XHRcdGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHRcdFx0ZW50cnkudXVpZCxcblx0XHRcdFx0XHRcdFwiIyMgQ29udGVudFwiLFxuXHRcdFx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdFx0XHRlbnRyeS51dWlkLnNsaWNlKDAsIDgpLFxuXHRcdFx0XHRcdCksXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGUucHVzaChlbnRyeS5iZWZvcmUudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkpO1xuXHRcdFx0XHRidWZmLnB1c2goZSk7XG5cdFx0XHR9XG5cdFx0XHRkdi50YWJsZShbXCJ1dWlkXCIsIFwiYmVmb3JlXCJdLCBidWZmKTtcblx0XHR9XG5cblx0XHR7XG5cdFx0XHRjb25zdCBmbWQgPSBuZXcgRnJvbnRtYXR0ZXJKUyh7IGZpbGU6IHsgZnJvbnRtYXR0ZXI6IGZtIH0gfSk7XG5cdFx0XHRmbWQucmVzb2x2ZShkdik7XG5cdFx0XHRjb25zdCBidWZmID0gW107XG5cdFx0XHRmb3IgKGNvbnN0IGRvbWFpbiBvZiBmbWQuZ2V0RG9tYWlucygpKSB7XG5cdFx0XHRcdGJ1ZmYucHVzaChbYCNkb21haW4vJHtkb21haW59YF0pO1xuXHRcdFx0fVxuXHRcdFx0ZHYuaGVhZGVyKDIsIFwiRG9tYWluc1wiKTtcblx0XHRcdGR2LnRhYmxlKFtcIm5hbWVcIl0sIGJ1ZmYpO1xuXHRcdH1cblx0fSxcblxuXHRyZXNvdXJjZShkdikge1xuXHRcdHJldHVybiBBdXRvRmllbGQucGVybWFuZW50KGR2KTtcblx0fSxcblxuXHRnZW5lcmljKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKGN1cnJlbnQpO1xuXG5cdFx0Ly8gY29udGV4dCBhbmFseXNpc1xuXHRcdGNvbnN0IHBhdGggPSBmbS5mLnBhdGg7XG5cdFx0Y29uc3QgZGlybmFtZSA9IHBhdGguc3BsaXQoXCIvXCIpWzBdO1xuXHRcdGlmIChkaXJuYW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcInVuZXhwZWN0ZWQgZXJyb3JcIik7XG5cdFx0fVxuXG5cdFx0aWYgKGRpcm5hbWUgPT09IFBhdGhzLlRhc2tzKSB7XG5cdFx0XHQvLyBBY3Rpb25hYmxlXG5cdFx0fSBlbHNlIGlmIChkaXJuYW1lID09IFBhdGhzLkluYm94KSB7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEtub3dsZWRnZWFibGVcblx0XHRcdHJldHVybjtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKTtcblx0XHR9XG5cdFx0Ly9cblxuXHRcdGNvbnN0IGxpbmtzID0gW107XG5cdFx0Zm9yIChjb25zdCB0cmFpdCBvZiBmbS5nZXRUcmFpdHMoKSkge1xuXHRcdFx0aWYgKHRyYWl0LnNsaWNlKDAsIDQpID09PSBcImxpbmtcIikge1xuXHRcdFx0XHRsaW5rcy5wdXNoKHRyYWl0LnNsaWNlKDUpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCByZWZzID0gW107XG5cdFx0Zm9yIChjb25zdCBsaW5rIG9mIGxpbmtzKSB7XG5cdFx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHRcdC5wYWdlcygpXG5cdFx0XHRcdC53aGVyZSgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLnV1aWQgPT09IGxpbmspO1xuXG5cdFx0XHRpZiAocGFnZXMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRcdHJlZnMucHVzaChwYWdlc1swXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oYHJlZmVyZW5jaW5nIHVua293biByZXNvdXJjZTogJyR7bGlua30nYCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHJlZnMubGVuZ3RoID4gMCkge1xuXHRcdFx0ZHYuaGVhZGVyKDIsIFwicmVmc1wiKTtcblx0XHRcdGZvciAoY29uc3QgcmVmIG9mIHJlZnMpIHtcblx0XHRcdFx0ZHYucGFyYWdyYXBoKFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIHJlZi5maWxlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdGNhbGVuZGFyKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKS5maWxlLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IGN1cnJlbnRBdCA9IG5ldyBEYXRlKGN1cnJlbnQuYXQpO1xuXHRcdGNvbnN0IGN1cnJlbnRBdFNob3J0ID0gY3VycmVudEF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXG5cdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0LnBhZ2VzKGBcIkNhbGVuZGFyXCJgKVxuXHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZtID0gcGFnZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAoZm0uY29tcGxldGVkID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRcdFx0aWYgKGZtLmRhdGUgIT09IGN1cnJlbnRBdFNob3J0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZtLmNvbXBsZXRlZCA9PT0gZmFsc2UpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC5zb3J0KChrKSA9PiBrLmF0LCBcImFzY1wiKTtcblxuXHRcdGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG5cdFx0XHRjb25zdCBmbSA9IHBhZ2UuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGJ1ZmYucHVzaChbYCR7Zm0uc3RhcnRUaW1lfSAtICR7Zm0uZW5kVGltZX1gLCBgJHtmbS50aXRsZX1gXSk7XG5cdFx0fVxuXG5cdFx0Y29uc29sZS5sb2cocGFnZXMubGVuZ3RoKTtcblx0XHRkdi50YWJsZShbXCJhdFwiLCBcInRpdGxlXCJdLCBidWZmKTtcblx0fSxcblxuXHRkYWlseShkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCkuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCBjdXJyZW50QXQgPSBuZXcgRGF0ZShjdXJyZW50LmF0KTtcblx0XHRjb25zdCBjdXJyZW50QXRTaG9ydCA9IGN1cnJlbnRBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblxuXHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHQvLyBpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLmF0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdC8vIH1cblxuXHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRpZiAoY3VycmVudC51dWlkID09PSBmbS51dWlkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZtLmZtLnN0YXR1cyAhPT0gXCJ0b2RvXCIgfHwgZm0uZ2V0UHJvamVjdCgpID09PSBcImRhaWx5XCIpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0cGFnZS5maWxlLmZyb250bWF0dGVyLmF0ICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0XHRmbS5hdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSA9PT0gY3VycmVudEF0U2hvcnRcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0cGFnZS5maWxlLmZyb250bWF0dGVyLmF0ICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0XHRmbS5hdC5nZXRUaW1lKCkgPCBub3cuZ2V0VGltZSgpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHBhZ2UuZmlsZS5mcm9udG1hdHRlci5iZWZvcmUgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdGZtLmJlZm9yZS5nZXRUaW1lKCkgPiBub3cuZ2V0VGltZSgpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hZnRlciAhPT0gdW5kZWZpbmVkICYmXG5cdFx0XHRcdFx0Zm0uYWZ0ZXIuZ2V0VGltZSgpIDwgbm93LmdldFRpbWUoKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0pXG5cdFx0XHQuc29ydCgoaykgPT4gay5hdCwgXCJhc2NcIik7XG5cblx0XHRpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGNvbnN0IGggPSBTdHJpbmcoZm0uYXQuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbSA9IFN0cmluZyhmbS5hdC5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGlmIChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuc3RhdHVzID09PSBcImRvbmVcIikge1xuXHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdGB+fiR7UmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoZHYsIHBhZ2UuZmlsZSwgXCJUYXNrXCIpfX5+YCxcblx0XHRcdFx0XHRgfn4ke2h9OiR7bX1+fmAsXG5cdFx0XHRcdF0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0XHRgJHtSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgcGFnZS5maWxlLCBcIlRhc2tcIil9YCxcblx0XHRcdFx0XHRgJHtofToke219YCxcblx0XHRcdFx0XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGR2LnRhYmxlKFtcInV1aWRcIiwgXCJhdFwiXSwgYnVmZik7XG5cdH0sXG59O1xuXG4vLyB0aGlzIG11c3QgYmUgY2FsbGVkIGZyb20gYGRhdGF2aWV3anNgIGNvZGVibG9ja3NcbmV4cG9ydCBjb25zdCBSZW5kZXJlciA9IHtcblx0bWFrZUxpbmtOYW1lKGR2LCBmLCBhbmNob3IgPSBcIkNvbnRlbnRcIikge1xuXHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZi5mcm9udG1hdHRlci5uYW1lKSkge1xuXHRcdFx0cmV0dXJuIFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKGR2LCBmLCBhbmNob3IpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkdi5zZWN0aW9uTGluayhmLnBhdGgsIGFuY2hvciwgZmFsc2UsIGAke2YuZnJvbnRtYXR0ZXIubmFtZX1gKTtcblx0fSxcblxuXHRtYWtlTGlua0FsaWFzKGR2LCBmLCBhbmNob3IgPSBcIkNvbnRlbnRcIikge1xuXHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZi5mcm9udG1hdHRlci5hbGlhcykpIHtcblx0XHRcdHJldHVybiBSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgZiwgYW5jaG9yKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZHYuc2VjdGlvbkxpbmsoZi5wYXRoLCBhbmNob3IsIGZhbHNlLCBgJHtmLmZyb250bWF0dGVyLmFsaWFzfWApO1xuXHR9LFxuXG5cdG1ha2VMaW5rU2hvcnRVVUlEKGR2LCBmLCBhbmNob3IgPSBcIkNvbnRlbnRcIikge1xuXHRcdHJldHVybiBkdi5zZWN0aW9uTGluayhcblx0XHRcdGYucGF0aCxcblx0XHRcdGFuY2hvcixcblx0XHRcdGZhbHNlLFxuXHRcdFx0YCR7Zi5mcm9udG1hdHRlci51dWlkLnNsaWNlKDAsIDgpfWAsXG5cdFx0KTtcblx0fSxcblxuXHRtYWtlTGluayhkdiwgZiwgbmFtZSA9IHVuZGVmaW5lZCwgYW5jaG9yID0gXCJDb250ZW50XCIpIHtcblx0XHRyZXR1cm4gZHYuc2VjdGlvbkxpbmsoZi5wYXRoLCBhbmNob3IsIGZhbHNlLCBuYW1lKTtcblx0fSxcblxuXHRwcm9qZWN0TG9ncyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ0eXBlXCIsIFwidGFza19pZFwiLCBcImxvZ19pZFwiLCBcInRvb2tcIiwgXCJyZXZpZXdlZFwiXTtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0bGV0IHRvdGFsVGltZSA9IDA7XG5cblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udXVpZCksXG5cdFx0XHRcdGBcInV1aWRcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udHlwZSksXG5cdFx0XHRcdGBcInR5cGVcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXG5cdFx0XHRjb25zdCBjcmVhdGVkQXQgPSBuZXcgRGF0ZShmbS5jcmVhdGVkX2F0KTtcblx0XHRcdGNvbnN0IGRvbmVBdCA9IG5ldyBEYXRlKGZtLmRvbmVfYXQpO1xuXHRcdFx0Y29uc3QgZGVsdGEgPSBkb25lQXQuZ2V0VGltZSgpIC0gY3JlYXRlZEF0LmdldFRpbWUoKTtcblxuXHRcdFx0dG90YWxUaW1lICs9IGRlbHRhO1xuXHRcdFx0Y29uc3QgcmVjb3JkID0ge1xuXHRcdFx0XHR0YXNrSWQ6IFwiXCIsXG5cdFx0XHRcdGxvZ0lkOiBSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmKSxcblx0XHRcdFx0dG9vazogTWF0aC5yb3VuZCgoZGVsdGEgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwLFxuXHRcdFx0XHRyZXZpZXdlZDogSGVscGVyLm5pbENoZWNrKGZtLnJldmlld2VkKSA/IDAgOiBmbS5yZXZpZXdlZCxcblx0XHRcdH07XG5cdFx0XHRjb25zdCBwYWdlcyA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9LyR7Zm0ucGFyZW50X2lkfVwiYCkuYXJyYXkoKTtcblx0XHRcdGlmIChwYWdlcy5sZW5ndGggIT09IDEpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGBwYXJlbnQgdGFzayB3aXRoIGlkOiBcIiR7Zm0ucGFyZW50X2lkfVwiIGRvZXMgbm90IGV4aXN0c2AsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBwYXJlbnQgPSBwYWdlc1swXTtcblx0XHRcdHN3aXRjaCAocGFyZW50LmZpbGUuZnJvbnRtYXR0ZXIudHlwZSkge1xuXHRcdFx0XHRjYXNlIFR5cGVzLlRhc2s6XG5cdFx0XHRcdFx0cmVjb3JkLnR5cGUgPSBgPGZvbnQgY29sb3I9OEIwMDAwPnRhc2s8L2ZvbnQ+YDtcblx0XHRcdFx0XHRyZWNvcmQudGFza0lkID0gUmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoXG5cdFx0XHRcdFx0XHRkdixcblx0XHRcdFx0XHRcdHBhcmVudC5maWxlLFxuXHRcdFx0XHRcdFx0XCJUYXNrXCIsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBUeXBlcy5NZWRpYTpcblx0XHRcdFx0XHRyZWNvcmQudHlwZSA9IGA8Zm9udCBjb2xvcj0wMDAwOEI+bWVkaWE8L2ZvbnQ+YDtcblx0XHRcdFx0XHRyZWNvcmQudGFza0lkID0gUmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoXG5cdFx0XHRcdFx0XHRkdixcblx0XHRcdFx0XHRcdHBhcmVudC5maWxlLFxuXHRcdFx0XHRcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRhYWxramtsamxramZzaWRmc2xkZmo7XG5cdFx0XHRcdGNhc2UgVHlwZXMuUHJheGlzOlxuXHRcdFx0XHRcdHJlY29yZC50eXBlID0gYDxmb250IGNvbG9yPUZGOEMwMD5wcmF4aXM8L2ZvbnQ+YDtcblx0XHRcdFx0XHRyZWNvcmQudGFza0lkID0gUmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoXG5cdFx0XHRcdFx0XHRkdixcblx0XHRcdFx0XHRcdHBhcmVudC5maWxlLFxuXHRcdFx0XHRcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBUeXBlcy5Qcm92aXNpb246XG5cdFx0XHRcdFx0cmVjb3JkLnR5cGUgPSBgPGZvbnQgY29sb3I9REMxNDNDPnByb3Zpc2lvbjwvZm9udD5gO1xuXHRcdFx0XHRcdHJlY29yZC50YXNrSWQgPSBSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChcblx0XHRcdFx0XHRcdGR2LFxuXHRcdFx0XHRcdFx0cGFyZW50LmZpbGUsXG5cdFx0XHRcdFx0XHRcIkNvbnRlbnRcIixcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGBSZW5kZXJlci5wcm9qZWN0TG9nczogdHlwZSBcIiR7cGFyZW50VGFzay5maWxlLmZyb250bWF0dGVyLnR5cGV9XCIgbm90IGltcGxlbWVudGVkYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0cmVjb3JkLnR5cGUsXG5cdFx0XHRcdHJlY29yZC50YXNrSWQsXG5cdFx0XHRcdHJlY29yZC5sb2dJZCxcblx0XHRcdFx0cmVjb3JkLnRvb2ssXG5cdFx0XHRcdHJlY29yZC5yZXZpZXdlZCxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHRcdC8vIE1hdGgucm91bmQoKHRvdGFsVGltZSAvICgxMDAwICogNjAgKiA2MCkpICogMTApIC8gMTAsXG5cdH0sXG5cblx0Z29hbChkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGZtIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGNyZWF0ZWRfYXQgPSBmbS5jcmVhdGVkQXQ7XG5cdFx0XHRjb25zdCBsb2dFbnRyaWVzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc30vJHtmbS51dWlkfVwiYClcblx0XHRcdFx0LndoZXJlKChwKSA9PiBwLnR5cGUgPT09IDYpXG5cdFx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiZGVzY1wiKTtcblx0XHRcdGNvbnN0IGJlZm9yZSA9IG5ldyBEYXRlKGZtLmZtLmJlZm9yZSk7XG5cblx0XHRcdGNvbnN0IHRpbWVmcmFtZSA9XG5cdFx0XHRcdChiZWZvcmUuZ2V0VGltZSgpIC0gY3JlYXRlZF9hdC5nZXRUaW1lKCkpIC8gKDEwMDAgKiAzNjAwICogMjQpO1xuXHRcdFx0bGV0IHRpbWVmcmFtZVRleHQgPSBcIlwiO1xuXHRcdFx0aWYgKHRpbWVmcmFtZSA+IDAgJiYgdGltZWZyYW1lIDwgMzApIHtcblx0XHRcdFx0dGltZWZyYW1lVGV4dCA9IFwicnVuYXdheVwiO1xuXHRcdFx0fSBlbHNlIGlmICh0aW1lZnJhbWUgPCA2MCkge1xuXHRcdFx0XHR0aW1lZnJhbWVUZXh0ID0gXCIxMCwwMDAgZmVldFwiO1xuXHRcdFx0fSBlbHNlIGlmICh0aW1lZnJhbWUgPCAzNjApIHtcblx0XHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiMjAsMDAwIGZlZXRcIjtcblx0XHRcdH0gZWxzZSBpZiAodGltZWZyYW1lIDwgNzIwKSB7XG5cdFx0XHRcdHRpbWVmcmFtZVRleHQgPSBcIjMwLDAwMCBmZWV0XCI7XG5cdFx0XHR9IGVsc2UgaWYgKHRpbWVmcmFtZSA8IDEwODApIHtcblx0XHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiNDAsMDAwIGZlZXRcIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRpbWVmcmFtZVRleHQgPSBcIjUwLDAwMCBmZWV0XCI7XG5cdFx0XHR9XG5cblx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdGJlZm9yZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSxcblx0XHRcdFx0ZHYuc2VjdGlvbkxpbmsoXG5cdFx0XHRcdFx0Zm0udXVpZCxcblx0XHRcdFx0XHRcIiMjIENvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRmbS51dWlkLnNsaWNlKDAsIDgpLFxuXHRcdFx0XHQpLFxuXHRcdFx0XHRmbS5nZXREb21haW4oKSxcblx0XHRcdFx0dGltZWZyYW1lVGV4dCxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKFtcImRlYWRsaW5lXCIsIFwidXVpZFwiLCBcImRvbWFpblwiLCBcInRpbWVmcmFtZVwiXSwgYnVmZik7XG5cdH0sXG5cblx0aW5ib3hFbnRyeShkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXG5cdFx0XHRcInV1aWRcIixcblx0XHRcdC8vIFwidHlwZVwiLFxuXHRcdFx0Ly8gXCJhZ2VcIixcblx0XHRcdC8vIFwic2l6ZVwiLFxuXHRcdFx0XCJuYW1lXCIsXG5cdFx0XHQvLyBcInByb2plY3RcIixcblx0XHRcdC8vIFwiZG9tYWluXCIsXG5cdFx0XHQvLyBcImNvbXBvbmVudHNcIixcblx0XHRdO1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udXVpZCksXG5cdFx0XHRcdGBcInV1aWRcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udHlwZSksXG5cdFx0XHRcdGBcInR5cGVcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXG5cdFx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0Y29uc3QgZGVsdGEgPSBub3cuZ2V0VGltZSgpIC0gZm0uY3JlYXRlZEF0LmdldFRpbWUoKTtcblx0XHRcdGNvbnN0IHNpbmNlID0gSGVscGVyLm1zZWNUb1N0cmluZ0R1cmF0aW9uKGRlbHRhKTtcblx0XHRcdGxldCBuYW1lID0gXCJcIjtcblxuXHRcdFx0Y29uc29sZS5sb2coXCJcXG5cIilcblx0XHRcdGNvbnNvbGUubG9nKGZtLmRvbWFpbilcblx0XHRcdGNvbnNvbGUubG9nKGZtLnByb2plY3QpXG5cdFx0XHRjb25zb2xlLmxvZyhcIlxcblwiKVxuXG5cdFx0XHRpZiAoZm0uZG9tYWluICE9PSBcImRvbWFpbi91bmRlZmluZWRcIikge1xuXHRcdFx0XHRuYW1lID0gZm0uZG9tYWluO1xuXHRcdFx0fSBlbHNlIGlmIChmbS5wcm9qZWN0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bmFtZSA9IGZtLnByb2plY3Q7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRuYW1lID0gXCJcXFxcLVwiO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCByZWNvcmQgPSB7XG5cdFx0XHRcdHV1aWQ6XG5cdFx0XHRcdFx0SGVscGVyLm51bWJlclR5cGVUb1N0cmluZyhmbSkgPT09IFwiZmxlZXRpbmdcIlxuXHRcdFx0XHRcdFx0PyBgJiMxMjgxOTYgJHtSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmKX1gXG5cdFx0XHRcdFx0XHQ6IFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIGYpLFxuXHRcdFx0XHQvLyB1dWlkOiBgJiM5NzI4ICR7UmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgZil9YCxcblx0XHRcdFx0dHlwZTogSGVscGVyLm51bWJlclR5cGVUb1N0cmluZyhmbSksXG5cdFx0XHRcdHNpbmNlOiBgJHtzaW5jZX1gLFxuXHRcdFx0XHRzaXplOiBmLnNpemUsXG5cdFx0XHRcdHByb2plY3Q6IGZtLnByb2plY3QgPT09IHVuZGVmaW5lZCA/IFwiXFxcXC1cIiA6IGZtLnByb2plY3Quc2xpY2UoOCksXG5cdFx0XHRcdGRvbWFpbjogZm0uZG9tYWluID09PSB1bmRlZmluZWQgPyBcIlxcXFwtXCIgOiBmbS5kb21haW4uc2xpY2UoNyksIC8vUmVuZGVyZXIuZG9tYWluQmFzZShkdiwgZm0uZG9tYWluKSxcblx0XHRcdFx0bmFtZTogbmFtZSxcblx0XHRcdH07XG5cblx0XHRcdGlmIChyZWNvcmQudHlwZSA9PT0gXCJsb2dcIikge1xuXHRcdFx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9LyR7Zm0ucGFyZW50X2lkfVwiYClcblx0XHRcdFx0XHQuYXJyYXkoKTtcblx0XHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgJHtmbS5wYXJlbnRfaWR9ICR7Zm0uaWR9YCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgcGFyZW50ID0gcGFnZXNbMF07XG5cdFx0XHRcdHN3aXRjaCAocGFyZW50LnR5cGUpIHtcblx0XHRcdFx0XHRjYXNlIFR5cGVzLlRhc2s6XG5cdFx0XHRcdFx0XHRyZWNvcmQudXVpZCA9IGAmIzEyODIxMSAke3JlY29yZC51dWlkfWA7XG5cdFx0XHRcdFx0XHRyZWNvcmQudHlwZSA9IGA8Zm9udCBjb2xvcj04QjAwMDA+dGFzazwvZm9udD5gO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBUeXBlcy5QcmF4aXM6XG5cdFx0XHRcdFx0XHRyZWNvcmQudXVpZCA9IGAmIzEyODE4OCAke3JlY29yZC51dWlkfWA7XG5cdFx0XHRcdFx0XHRyZWNvcmQudHlwZSA9IGA8Zm9udCBjb2xvcj1GRjhDMDA+cHJheGlzPC9mb250PmA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFR5cGVzLk1lZGlhOlxuXHRcdFx0XHRcdFx0cmVjb3JkLnV1aWQgPSBgJiMxMjgxOTEgJHtyZWNvcmQudXVpZH1gO1xuXHRcdFx0XHRcdFx0cmVjb3JkLnR5cGUgPSBgPGZvbnQgY29sb3I9MDAwMDhCPm1lZGlhPC9mb250PmA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFR5cGVzLlByb3Zpc2lvbjpcblx0XHRcdFx0XHRcdHJlY29yZC50eXBlID0gYDxmb250IGNvbG9yPURDMTQzQz5wcm92aXNpb248L2ZvbnQ+YDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRyZWNvcmQudXVpZCxcblx0XHRcdFx0Ly8gcmVjb3JkLnR5cGUsXG5cdFx0XHRcdC8vIHJlY29yZC5zaW5jZSxcblx0XHRcdFx0Ly8gcmVjb3JkLnNpemUsXG5cdFx0XHRcdHJlY29yZC5uYW1lLFxuXHRcdFx0XHQvLyByZWNvcmQucHJvamVjdCxcblx0XHRcdFx0Ly8gcmVjb3JkLmRvbWFpbixcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdGFkaG9jVGFza1JlYWR5KGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwidGFza1wiLCBcImVzdGltYXRlXCJdO1xuXG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdC8vIGF0IHRoaXMgcG9pbnQgYWxsIGRhdGEgdmFsaWRhdGlvbiBoYXMgYmVlbiBkb25lXG5cdFx0XHQvLyB0eXBlcyBhcmUgYXNzdW1lZCBjb25zaXN0ZW50XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXG5cdFx0XHRzd2l0Y2ggKGZtLnR5cGUpIHtcblx0XHRcdFx0Y2FzZSBUeXBlcy5UYXNrOlxuXHRcdFx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmLCBcIlRhc2tcIiksXG5cdFx0XHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0XHRcdEhlbHBlci5nZXRGaWVsZChIZWxwZXIuZ2V0RG9tYWluKGZtLCB0cnVlKSwgXCJcXFxcLVwiKSxcblx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFR5cGVzLlByYXhpczpcblx0XHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgZiwgXCJUYXNrXCIpLFxuXHRcdFx0XHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRcdFx0XHRIZWxwZXIuZ2V0RmllbGQoSGVscGVyLmdldERvbWFpbihmbSwgdHJ1ZSksIFwiXFxcXC1cIiksXG5cdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBUeXBlcy5NZWRpYTpcblx0XHRcdFx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5SZWZzfS8ke2ZtLnJlZl9pZH1cImApXG5cdFx0XHRcdFx0XHQuYXJyYXkoKTtcblx0XHRcdFx0XHRpZiAocGFnZXMubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRcdGBhZGhvY1Rhc2tSZWFkeTogcmVmX2lkOiBcIiR7Zm0ucmVmX2lkfVwiIG5vdCBmb3VuZGAsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmLCBcIkNvbnRlbnRcIiksXG5cdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBwYWdlc1swXS5maWxlLCBcIkNvbnRlbnRcIiksXG5cdFx0XHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XHRcdFx0SGVscGVyLmdldEZpZWxkKEhlbHBlci5nZXREb21haW4oZm0sIHRydWUpLCBcIlxcXFwtXCIpLFxuXHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0YGFkaG9jVGFza1JlYWR5OiBVbmhhbmRsZWQgdHlwZTogJyR7Zm0udHlwZX0nYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdGRvbWFpbkJhc2UoZHYsIGRhdGEpIHtcblx0XHRpZiAoZGF0YSA9PT0gSGVscGVyLmdldERvbWFpbih7fSkpIHtcblx0XHRcdHJldHVybiBcIlxcXFwtXCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBgIyR7ZGF0YX1gO1xuXHRcdH1cblx0fSxcblx0Y29tcG9uZW50c0Jhc2UoZHYsIGRhdGEpIHtcblx0XHRpZiAoZGF0YS5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiBcIlxcXFwtXCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRcdGJ1ZmYucHVzaChgIyR7ZH1gKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBidWZmLmpvaW4oXCI8YnI+XCIpO1xuXHRcdH1cblx0fSxcblxuXHRvbnRvbG9neUJhc2UoZHYsIGZtKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtgIyR7SGVscGVyLmdldERvbWFpbihmbSl9YF07XG5cdFx0Y29uc3QgY29tcG9uZW50cyA9IEhlbHBlci5nZXRDb21wb25lbnRzKGZtKTtcblx0XHRjb21wb25lbnRzLnNvcnQoKTtcblx0XHRmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBjb21wb25lbnRzKSB7XG5cdFx0XHRidWZmLnB1c2goYCMke2NvbXBvbmVudH1gKTtcblx0XHR9XG5cdFx0cmV0dXJuIGJ1ZmYuam9pbihcIjxicj5cIik7XG5cdH0sXG5cblx0a25vd2xlZGdlRnVsbChkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwib250b2xvZ3lcIl07XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBkLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmKSxcblx0XHRcdFx0UmVuZGVyZXIub250b2xvZ3lCYXNlKGR2LCBmbSksXG5cdFx0XHRdKTtcblx0XHR9XG5cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblxuXHRrbm93bGVkZ2VCYXNlKGR2LCBkYXRhKSB7XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGR2LnBhcmFncmFwaChSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBkLmZpbGUpKTtcblx0XHR9XG5cdH0sXG5cblx0cmVzb3VyY2VCYXNlKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgY29scyA9IFtcInV1aWRcIl07XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBkLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS51dWlkKSxcblx0XHRcdFx0YFwidXVpZFwiIGlkIG5vdCBkZWZpbmVkIGZvcjogJHtmLnBhdGh9YCxcblx0XHRcdCk7XG5cdFx0XHRidWZmLnB1c2goW1JlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIGYpXSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0Ly8gbmUgcGFzIHJcdTAwRTl1dGlsaXNlciBwb3VyIGxlIG1vbWVudFxuXHRiYXNpY0RvbWFpbihkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwibmFtZVwiLCBcInBhcmVudHNcIl07XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBwYXJlbnRzID0gZC5nZXREb21haW5zKCk7XG5cblx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHQhSGVscGVyLm5pbENoZWNrKGQudXVpZCksXG5cdFx0XHRcdGBcInV1aWRcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7ZC5mLnBhdGh9YCxcblx0XHRcdCk7XG5cdFx0XHRjb25zdCB2YWx1ZXMgPSBbXTtcblx0XHRcdGZvciAoY29uc3QgcGFyZW50IG9mIHBhcmVudHMpIHtcblx0XHRcdFx0Y29uc3QgcGFnZSA9IGR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuRG9tYWluc31cImApXG5cdFx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiBwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmFtZSA9PT0gcGFyZW50KTtcblx0XHRcdFx0aWYgKHBhZ2UubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRcdFx0YFVua25vd24gZG9tYWluICcke3BhcmVudH0nIGRlbGNhcmVkIGJ5OiAke2QuZmlsZS5mcm9udG1hdHRlci51dWlkfWAsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YWx1ZXMucHVzaChcblx0XHRcdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0XHRcdGAke1BhdGhzLkRvbWFpbnN9LyR7cGFnZVswXS5maWxlLmZyb250bWF0dGVyLnV1aWR9YCxcblx0XHRcdFx0XHRcdFwiQ29udGVudFwiLFxuXHRcdFx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdFx0XHRgJHtwYXJlbnR9YCxcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8vIHZhbHVlcy5wdXNoKGAjZG9tYWluLyR7cGFyZW50fWApO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBlbnRyeSA9IFtcblx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgZC5mKSxcblx0XHRcdFx0ZC5nZXROYW1lKCksXG5cdFx0XHRcdHZhbHVlcy5sZW5ndGggPT09IDAgPyBcIlwiIDogdmFsdWVzLFxuXHRcdFx0XTtcblx0XHRcdGJ1ZmYucHVzaChlbnRyeSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0YmFzaWNSZWxhdGlvbihkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwibmFtZVwiXTtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHQhSGVscGVyLm5pbENoZWNrKGZtLnV1aWQpLFxuXHRcdFx0XHRgXCJ1dWlkXCIgaWQgbm90IGRlZmluZWQgZm9yOiAke2YucGF0aH1gLFxuXHRcdFx0KTtcblx0XHRcdGJ1ZmYucHVzaChbUmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgZiksIGZtLm5hbWVdKTtcblx0XHR9XG5cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblxuXHRiYXNpY0ZsZWV0aW5nKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgY29scyA9IFtcImNvbnRlbnRcIiwgXCJhZ2VcIiwgXCJzaXplXCJdO1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udXVpZCksXG5cdFx0XHRcdGBcInV1aWRcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgZHQgPVxuXHRcdFx0XHRhcHAucGx1Z2lucy5wbHVnaW5zLmdvbmV4dC5hcGkuZnJvbnRtYXR0ZXIuZ2V0Q3JlYXRlZEF0KGYpO1xuXHRcdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRcdGNvbnN0IGRlbHRhID0gbm93LmdldFRpbWUoKSAtIGR0LmdldFRpbWUoKTtcblx0XHRcdGNvbnN0IHNpbmNlID0gSGVscGVyLm1zZWNUb1N0cmluZ0R1cmF0aW9uKGRlbHRhKTtcblx0XHRcdGJ1ZmYucHVzaChbUmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgZiksIGAke3NpbmNlfWAsIGYuc2l6ZV0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdGJhc2ljTG9nKGR2LCBlbnRyeSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwiY3JlYXRlZF9hdFwiLCBcInByb2plY3RcIiwgXCJhcmVhXCJdO1xuXHRcdGNvbnN0IGxvZ3MgPSBkdlxuXHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc31cImApXG5cdFx0XHQud2hlcmUoXG5cdFx0XHRcdChwKSA9PlxuXHRcdFx0XHRcdHAudHlwZSA9PT0gVHlwZXMuTG9nICYmXG5cdFx0XHRcdFx0KHAucmV2aWV3ZWQgPT09IHVuZGVmaW5lZCB8fCBwLnJldmlld2VkIDwgMSksXG5cdFx0XHQpXG5cdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImFzY1wiKTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIGxvZ3MpIHtcblx0XHRcdGNvbnN0IGZtID0gZW50cnkuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGNvbnN0IHBhcmVudElkID0gZm0ucGFyZW50X2lkO1xuXHRcdFx0aWYgKHBhcmVudElkID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGxvZyBlbnRyeTogJHtlbnRyeS5maWxlLnBhdGh9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHBhcmVudCA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9LyR7cGFyZW50SWR9XCJgKTtcblx0XHRcdGNvbnN0IHBhcmVudEZtID0gcGFyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBwcm9qZWN0ID0gSGVscGVyLmdldEZpZWxkKFxuXHRcdFx0XHRIZWxwZXIuZ2V0UHJvamVjdChwYXJlbnRGbSwgdHJ1ZSksXG5cdFx0XHRcdFwiXCIsXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgYXJlYSA9IEhlbHBlci5nZXRGaWVsZChIZWxwZXIuZ2V0QXJlYShwYXJlbnRGbSwgdHJ1ZSksIFwiXCIpO1xuXHRcdFx0Y29uc3QgY3JlYXRlZEF0ID0gbmV3IERhdGUoZm0uY3JlYXRlZF9hdCk7XG5cblx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHRcdGVudHJ5LmZpbGUucGF0aCxcblx0XHRcdFx0XHRcIkNvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRgJHtmbS51dWlkLnNsaWNlKDAsIDgpfWAsXG5cdFx0XHRcdCksXG5cdFx0XHRcdGNyZWF0ZWRBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSxcblx0XHRcdFx0cHJvamVjdCxcblx0XHRcdFx0YXJlYSxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdG1lZGlhQmFzZShkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiLCBcInRhc2tzXCIsIFwiZXN0aW1hdGVcIiwgXCJhcmVhXCJdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgYXJlYSA9IEhlbHBlci5nZXRBcmVhKGZtKTtcblx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdGR2LmZpbGVMaW5rKGYucGF0aCwgZmFsc2UsIGZtLnV1aWQuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XHRhcmVhLFxuXHRcdFx0XSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0cHJheGlzQmFzZShkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1widGFza3NcIiwgXCJ1dWlkXCIsIFwiZXN0aW1hdGVcIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmLm5hbWUuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0d2FpdGluZ1Rhc2soZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcInRhc2tzXCIsIFwidXVpZFwiLCBcImVzdGltYXRlXCIsIFwiY2F1c2VcIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmLm5hbWUuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XHRmbS5jYXVzZSxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdHJlYWR5VGFzayhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiLCBcInRhc2tcIiwgXCJlc3RpbWF0ZVwiLCBcImFyZWFcIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cblx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIGYsIFwiVGFza1wiKSxcblx0XHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0SGVscGVyLmdldEZpZWxkKEhlbHBlci5nZXRBcmVhKGZtLCB0cnVlKSwgXCJcXFxcLVwiKSxcblx0XHRcdF0pO1xuXHRcdH1cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblxuXHRwcm92aXNpb25CYXNlKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwic3VwcGxpZXJcIiwgXCJjb250ZW50XCIsIFwiZXN0aW1hdGVcIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0Zm0uc3VwcGxpZXIsXG5cdFx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRdKTtcblx0XHR9XG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0YmFzaWNUYXNrSm91cm5hbChkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHQvLyBjb25zdCBjb2xzID0gW1wiam91cm5hbFwiLCBcInV1aWRcIiwgXCJ0YXNrc1wiLCBcImVzdGltYXRlXCJdO1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwidGFza3NcIiwgXCJlc3RpbWF0ZVwiXTtcblx0XHQvLyBjb25zdCBqb3VybmFsID0gZHYucGFnZXMoYFwiJHtQYXRocy5Kb3VybmFsfVwiYCkuYXJyYXkoKVswXS5maWxlXG5cdFx0Ly8gXHQuZnJvbnRtYXR0ZXIudGFza3M7XG5cblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc29sZS5sb2coZCk7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgZG9tYWluID1cblx0XHRcdFx0SGVscGVyLmdldERvbWFpbihmbSwgdHJ1ZSkgPT09IHVuZGVmaW5lZFxuXHRcdFx0XHRcdD8gXCJcXFxcLVwiXG5cdFx0XHRcdFx0OiBIZWxwZXIuZ2V0RG9tYWluKGZtKTtcblxuXHRcdFx0aWYgKGZtLnJlZl9pZCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGBuYW1lOiAke2QuZmlsZS5wYXRofWApXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGB0YXNrczogJHtkLmZpbGUudGFza3MubGVuZ3RofWApXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGB0YXNrc0I6ICR7Zi50YXNrcy5sZW5ndGh9YClcblx0XHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0XHQvLyBqb3VybmFsLmNvbnRhaW5zKGZtLnV1aWQpID8gXCItPlwiIDogXCJcXFxcLVwiLFxuXHRcdFx0XHRcdGR2LmZpbGVMaW5rKGYucGF0aCwgZmFsc2UsIGZtLnV1aWQuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0XSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCByZWYgPSBkdi5wYWdlcyhgXCIke1BhdGhzLlJlZnN9LyR7Zm0ucmVmX2lkfVwiYCkuYXJyYXkoKTtcblx0XHRcdFx0aWYgKHJlZi5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRgdGFzazogJyR7Zm0udXVpZH0nIGhhcyBhbiB1bmRlZmluZWQgcmVmX2lkOiAnJHtmbS5yZWZfaWR9J2AsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCByZWZbMF0uZmlsZSksXG5cdFx0XHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XHRcdFx0ZG9tYWluLFxuXHRcdFx0XHRcdF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXHRhY3RpdmVUYXNrKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwidGFza3NcIiwgXCJzZXNzaW9uXCJdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgbG9ncyA9IGR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkxvZ3N9LyR7Zm0udXVpZH1cImApXG5cdFx0XHRcdC53aGVyZSgocCkgPT4gcC50eXBlID09PSA2KVxuXHRcdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImRlc2NcIik7XG5cdFx0XHRjb25zdCBsYXN0ID0gbG9nc1swXTtcblx0XHRcdGNvbnN0IGNyZWF0ZWRBdCA9IG5ldyBEYXRlKGxhc3QuY3JlYXRlZF9hdCk7XG5cdFx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRcdCgodCkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBNYXRoLnJvdW5kKCh0IC8gKDM2MDAgKiAxMDAwKSkgKiAxMCkgLyAxMDtcblx0XHRcdFx0fSkobm93LmdldFRpbWUoKSAtIGNyZWF0ZWRBdC5nZXRUaW1lKCkpLFxuXHRcdFx0XSk7XG5cdFx0fVxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdGJhc2ljVGFzayhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiLCBcInRhc2tzXCIsIFwiZXN0aW1hdGVcIiwgXCJkb21haW5cIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBkb21haW4gPVxuXHRcdFx0XHRIZWxwZXIuZ2V0RG9tYWluKGZtLCB0cnVlKSA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0PyBcIlxcXFwtXCJcblx0XHRcdFx0XHQ6IEhlbHBlci5nZXREb21haW4oZm0pO1xuXG5cdFx0XHRpZiAoZm0ucmVmX2lkID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYG5hbWU6ICR7ZC5maWxlLnBhdGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzOiAke2QuZmlsZS50YXNrcy5sZW5ndGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzQjogJHtmLnRhc2tzLmxlbmd0aH1gKVxuXHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdGR2LmZpbGVMaW5rKGYucGF0aCwgZmFsc2UsIGZtLnV1aWQuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0XHRkb21haW4sXG5cdFx0XHRcdF0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgcmVmID0gZHYucGFnZXMoYFwiJHtQYXRocy5SZWZzfS8ke2ZtLnJlZl9pZH1cImApLmFycmF5KCk7XG5cdFx0XHRcdGlmIChyZWYubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0YHRhc2s6ICcke2ZtLnV1aWR9JyBoYXMgYW4gdW5kZWZpbmVkIHJlZl9pZDogJyR7Zm0ucmVmX2lkfSdgLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0XHRcdGR2LmZpbGVMaW5rKGYucGF0aCwgZmFsc2UsIGZtLnV1aWQuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgcmVmWzBdLmZpbGUpLFxuXHRcdFx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0XHRcdGRvbWFpbixcblx0XHRcdFx0XHRdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblxuXHRsb2dzKGR2LCBlbnRyaWVzKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGxldCB0b3RhbFRpbWUgPSAwO1xuXG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG5cdFx0XHRjb25zdCBmbWUgPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgZSA9IFtdO1xuXHRcdFx0bGV0IHN0YXJ0ID0gMDtcblx0XHRcdGxldCBzdG9wID0gMDtcblx0XHRcdGlmIChmbWUgPT09IHVuZGVmaW5lZCB8fCBmbWUuY3JlYXRlZF9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmcm9udG1hdHRlcjogJHtmbWUudXVpZH1gKTtcblx0XHRcdH1cblxuXHRcdFx0c3RhcnQgPSBuZXcgRGF0ZShmbWUuY3JlYXRlZF9hdCk7XG5cdFx0XHRlLnB1c2goc3RhcnQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkpO1xuXHRcdFx0aWYgKGZtZS5kb25lX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0c3RvcCA9IERhdGUubm93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzdG9wID0gbmV3IERhdGUoZm1lLmRvbmVfYXQpO1xuXHRcdFx0fVxuXHRcdFx0dG90YWxUaW1lICs9IHN0b3AgLSBzdGFydDtcblx0XHRcdGUucHVzaChcblx0XHRcdFx0ZHYuc2VjdGlvbkxpbmsoXG5cdFx0XHRcdFx0Zm1lLnV1aWQsXG5cdFx0XHRcdFx0XCIjIyBDb250ZW50XCIsXG5cdFx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdFx0Zm1lLnV1aWQuc2xpY2UoMCwgOCksXG5cdFx0XHRcdCksXG5cdFx0XHQpO1xuXHRcdFx0ZS5wdXNoKE1hdGgucm91bmQoKChzdG9wIC0gc3RhcnQpIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMCk7XG5cdFx0XHRpZiAoZm1lLnJldmlld2VkID09PSB1bmRlZmluZWQgfHwgZm1lLnJldmlld2VkID09PSAwKSB7XG5cdFx0XHRcdGUucHVzaCgwKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGUucHVzaChmbWUucmV2aWV3ZWQpO1xuXHRcdFx0fVxuXHRcdFx0YnVmZi5wdXNoKGUpO1xuXHRcdH1cblxuXHRcdGlmIChidWZmLmxlbmd0aCA+IDApIHtcblx0XHRcdGR2LmhlYWRlcigyLCBcIkxvZ3NcIik7XG5cdFx0XHRkdi50YWJsZShbXCJjcmVhdGVkX2F0XCIsIFwidXVpZFwiLCBcInNlc3Npb25cIiwgXCJyZXZpZXdlZFwiXSwgYnVmZik7XG5cdFx0XHRpZiAodG90YWxUaW1lID4gMCkge1xuXHRcdFx0XHRkdi5wYXJhZ3JhcGgoXG5cdFx0XHRcdFx0YF90b3RhbFRpbWUgKGgpOl8gJHtNYXRoLnJvdW5kKCh0b3RhbFRpbWUgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwXG5cdFx0XHRcdFx0fWAsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdG1lZGlhV2l0aExvZ3MoZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcInV1aWRcIiwgXCJ0YXNrc1wiLCBcImVzdGltYXRlXCIsIFwiY3VycmVudFwiLCBcImRvbWFpblwiXTtcblxuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgcmVmID0gZHYucGFnZXMoYFwiJHtQYXRocy5SZWZzfS8ke2ZtLnJlZl9pZH1cImApLmFycmF5KCk7XG5cdFx0XHRpZiAocmVmLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0YHRhc2s6ICcke2ZtLnV1aWR9JyBoYXMgYW4gdW5kZWZpbmVkIHJlZl9pZDogJyR7Zm0ucmVmX2lkfSdgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgZG9tYWluID1cblx0XHRcdFx0SGVscGVyLmdldERvbWFpbihmbSwgdHJ1ZSkgPT09IHVuZGVmaW5lZFxuXHRcdFx0XHRcdD8gXCJcXFxcLVwiXG5cdFx0XHRcdFx0OiBIZWxwZXIuZ2V0RG9tYWluKGZtKTtcblx0XHRcdGNvbnN0IGxvZ0VudHJpZXMgPSBkdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Mb2dzfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0XHQud2hlcmUoKHApID0+IHAudHlwZSA9PT0gVHlwZXMuTG9nKVxuXHRcdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImRlc2NcIik7XG5cdFx0XHRsZXQgdG90YWxUaW1lID0gMDtcblx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgbG9nRW50cmllcykge1xuXHRcdFx0XHRjb25zdCBmbWUgPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRjb25zdCBlID0gW107XG5cdFx0XHRcdGxldCBzdGFydCA9IDA7XG5cdFx0XHRcdGxldCBzdG9wID0gMDtcblx0XHRcdFx0aWYgKGZtZSA9PT0gdW5kZWZpbmVkIHx8IGZtZS5jcmVhdGVkX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXI6ICR7Zm1lLnV1aWR9YCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzdGFydCA9IG5ldyBEYXRlKGZtZS5jcmVhdGVkX2F0KTtcblx0XHRcdFx0ZS5wdXNoKHN0YXJ0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApKTtcblx0XHRcdFx0aWYgKGZtZS5kb25lX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRzdG9wID0gRGF0ZS5ub3coKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdG9wID0gbmV3IERhdGUoZm1lLmRvbmVfYXQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRvdGFsVGltZSArPSBzdG9wIC0gc3RhcnQ7XG5cdFx0XHR9XG5cblx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdGR2LmZpbGVMaW5rKGYucGF0aCwgZmFsc2UsIGZtLnV1aWQuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCByZWZbMF0uZmlsZSksXG5cdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRcdGAke01hdGgucm91bmQoKHRvdGFsVGltZSAvICgxMDAwICogNjAgKiA2MCkpICogMTApIC8gMTB9aGAsXG5cdFx0XHRcdGRvbWFpbixcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdHRhc2tEb25lV2l0aExvZ3MoZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcblx0XHRcdFwidGFza0lkXCIsXG5cdFx0XHRcImxvZ0lkXCIsXG5cdFx0XHRcImNyZWF0ZWRBdFwiLFxuXHRcdFx0XCJkb25lQXRcIixcblx0XHRcdFwidGltZUVzdGltYXRlXCIsXG5cdFx0XHRcInRvb2tcIixcblx0XHRcdFwicHJvamVjdFwiLFxuXHRcdF07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGNvbnN0IGNyZWF0ZWRBdCA9IG5ldyBEYXRlKGZtLmNyZWF0ZWRfYXQpO1xuXHRcdFx0Y29uc3QgZG9uZUF0ID0gbmV3IERhdGUoZm0uZG9uZV9hdCk7XG5cdFx0XHRjb25zdCB0aW1lRXN0aW1hdGUgPSBcIlwiO1xuXHRcdFx0Y29uc3QgdG9vayA9IChkb25lQXQgLSBjcmVhdGVkQXQpIC8gKDEwMDAgKiAzNjAwKTtcblx0XHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0XHQud2hlcmUoKHBhZ2UpID0+IHBhZ2UuZmlsZS5mcm9udG1hdHRlci51dWlkID09PSBmbS5wYXJlbnRfaWQpO1xuXHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHBhcmVudCA9IHBhZ2VzWzBdO1xuXHRcdFx0Y29uc3QgcGFyZW50Rm0gPSBwYXJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGNvbnN0IHBhcmVudEYgPSBwYXJlbnQuZmlsZTtcblx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKGR2LCBwYXJlbnQuZmlsZSwgXCJUYXNrXCIpLFxuXHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgZiksXG5cdFx0XHRcdGNyZWF0ZWRBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSxcblx0XHRcdFx0ZG9uZUF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApLFxuXHRcdFx0XHR0aW1lRXN0aW1hdGUsXG5cdFx0XHRcdCgodCkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBNYXRoLnJvdW5kKHQgKiAxMCkgLyAxMDtcblx0XHRcdFx0fSkodG9vayksXG5cdFx0XHRcdEhlbHBlci5nZXRQcm9qZWN0KHBhcmVudEZtKSxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdGJhc2ljRG9uZVRhc2tXaXRoTG9ncyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXG5cdFx0XHRcInV1aWRcIixcblx0XHRcdFwiY3JlYXRlZEF0XCIsXG5cdFx0XHRcImRvbmVBdFwiLFxuXHRcdFx0XCJ0aW1lRXN0aW1hdGVcIixcblx0XHRcdFwidG9va1wiLFxuXHRcdFx0XCJkZWx0YVwiLFxuXHRcdFx0XCJwcm9qZWN0XCIsXG5cdFx0XHRcImFyZWFcIixcblx0XHRdO1xuXHRcdGR2LnRhYmxlKGNvbHMsIGRhdGEpO1xuXHR9LFxuXG5cdGJhc2ljRG9uZVRhc2tXaXRob3V0TG9ncyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ0YXNrSWRcIiwgXCJjcmVhdGVkQXRcIiwgXCJwcm9qZWN0XCIsIFwiYXJlYVwiXTtcblx0XHRkdi50YWJsZShjb2xzLCBkYXRhKTtcblx0fSxcblxuXHRiYXNpY1Byb2dyZXNzZWRUYXNrV2l0aExvZyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXG5cdFx0XHRcInRhc2tJZFwiLFxuXHRcdFx0XCJsb2dJZFwiLFxuXHRcdFx0Ly8gXCJjcmVhdGVkQXRcIixcblx0XHRcdC8vIFwiZG9uZUF0XCIsXG5cdFx0XHRcInRvb2tcIixcblx0XHRcdC8vIFwidG9va0FjY1wiLFxuXHRcdFx0XCJwcm9qZWN0XCIsXG5cdFx0XHQvLyBcImRvbWFpblwiLFxuXHRcdF07XG5cdFx0ZHYudGFibGUoY29scywgZGF0YSk7XG5cdH0sXG5cblx0Ly8gZGFpbHlUYXNrKGR2LCBkYXRhKSB7XG5cdC8vIFx0UmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQodGhpcy5kdiwgcGFnZS5maWxlKSxcblx0Ly8gXHRkdi5cblx0Ly8gXHRcdFx0XHRycy5wdXNoKFtcblx0Ly8gXHRcdFx0XHRcdFwicGFyYWdyYXBoXCIsXG5cdC8vIFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRCh0aGlzLmR2LCBwYWdlLmZpbGUpLFxuXHQvLyBcdFx0XHRcdF0pO1xuXHQvLyB9XG5cblx0ZG8oZHYsIHJzKSB7XG5cdFx0Zm9yIChjb25zdCByb3cgb2YgcnMpIHtcblx0XHRcdHN3aXRjaCAocm93WzBdKSB7XG5cdFx0XHRcdGNhc2UgXCJoZWFkZXJcIjpcblx0XHRcdFx0XHRjb25zdCBbLCBsZXZlbCwgaGVhZGluZ10gPSByb3c7XG5cdFx0XHRcdFx0ZHYuaGVhZGVyKGxldmVsLCBoZWFkaW5nKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInBhcmFncmFwaFwiOlxuXHRcdFx0XHRcdGNvbnN0IFssIHRleHRdID0gcm93O1xuXHRcdFx0XHRcdGR2LnBhcmFncmFwaCh0ZXh0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImFycmF5XCI6XG5cdFx0XHRcdFx0Y29uc3QgWywgcmVuZGVyZXIsIGRhdGFdID0gcm93O1xuXHRcdFx0XHRcdHJlbmRlcmVyKGR2LCBkYXRhKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInN0YXRzXCI6XG5cdFx0XHRcdFx0Y29uc3QgWywgbmFtZSwgdW5pdCwgdmFsdWVdID0gcm93O1xuXHRcdFx0XHRcdGR2LnBhcmFncmFwaChgJHtuYW1lfSAoJHt1bml0fSk6ICR7dmFsdWV9YCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBVbnN1cG9ydGVkIG9wY29kZTogXCIke29wY29kZX1cImApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcbn07XG5cbmV4cG9ydCBjbGFzcyBGcm9udG1hdHRlciB7XG5cdGdvbmV4dDogQW55O1xuXG5cdGNvbnN0cnVjdG9yKGdvbmV4dCkge1xuXHRcdHRoaXMuZ29uZXh0ID0gZ29uZXh0O1xuXHR9XG5cblx0cHJvamVjdFBhcnNlTWV0YShkdikge1xuXHRcdC8vIGZhdXRlIGRlIG1pZXV4IHBvdXIgbGUgbW9tZW50XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBwcm9qZWN0TmFtZSA9IGN1cnJlbnQuZmlsZS5mb2xkZXIuc2xpY2UoXG5cdFx0XHRQYXRocy5Qcm9qZWN0cy5sZW5ndGggKyAxLFxuXHRcdCk7XG5cdFx0Y29uc3QgcHJvamVjdERpciA9IGN1cnJlbnQuZmlsZS5mb2xkZXI7XG5cdFx0aWYgKHByb2plY3ROYW1lLmNvbnRhaW5zKFwiL1wiKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgcHJvamVjdERpcjogJHtwcm9qZWN0RGlyfSBmb2xkZXI6ICR7Y3VycmVudC5maWxlLmZvbGRlcn1gLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCBwYWdlcyA9IGR2LnBhZ2VzKGBcIiR7cHJvamVjdERpcn0vbWV0YVwiYCkuYXJyYXkoKTtcblx0XHRpZiAocGFnZXMubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHQvLyBjb25zb2xlLmxvZyhwYWdlcyk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYGxlbjogJHtwYWdlcy5sZW5ndGh9YCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZm0gPSBwYWdlc1swXS5maWxlLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IHV1aWQgPSBmbS51dWlkO1xuXHRcdGlmIChIZWxwZXIubmlsQ2hlY2sodXVpZCkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgcHJvamVjdCAndXVpZCcgaXMgbm90IGRlZmluZWRgKTtcblx0XHR9XG5cblx0XHRjb25zdCBuYW1lID0gZm0ubmFtZTtcblx0XHRpZiAoSGVscGVyLm5pbENoZWNrKG5hbWUpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYCduYW1lJyBpcyBub3QgZGVmaW5lZGApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGRvbWFpbnMgPSBmbS5kb21haW5zO1xuXHRcdGlmICghQXJyYXkuaXNBcnJheShkb21haW5zKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGAnZG9tYWlucycgbXVzdCBiZSBvZiBhcnJheSB0eXBlYCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHV1aWQ6IHV1aWQsXG5cdFx0XHRuYW1lOiBuYW1lLFxuXHRcdFx0ZG9tYWluczogZG9tYWlucyxcblx0XHR9O1xuXHR9XG5cblx0Z2V0Q3JlYXRlZEF0KGYpOiBEYXRlIHtcblx0XHRyZXR1cm4gSGVscGVyLm5pbENoZWNrKGYuZnJvbnRtYXR0ZXIuY3JlYXRlZF9hdClcblx0XHRcdD8gbmV3IERhdGUoZi5jdGltZS50cylcblx0XHRcdDogbmV3IERhdGUoZi5mcm9udG1hdHRlci5jcmVhdGVkX2F0KTtcblx0fVxuXG5cdGdldEN1cnJlbnRGcm9udG1hdHRlcigpIHtcblx0XHRjb25zdCBmaWxlID0gdGhpcy5nb25leHQud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRjb25zdCBmaWxlQ29udGVudCA9IHRoaXMuZ29uZXh0Lm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuXHRcdGlmIChmaWxlQ29udGVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvLyBjb25zb2xlLndhcm4oXCInZmlsZUNvbnRlbnQnIGlzIHVuZGVmaW5lZFwiKTtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZm0gPSBmaWxlQ29udGVudC5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gY29uc29sZS53YXJuKFwiJ2ZtJyBpcyB1bmRlZmluZWRcIik7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBmbTtcblx0fVxuXG5cdHBhcnNlTGlzdEJ5TmFtZXNwYWNlKGZtKSB7XG5cdFx0Y29uc3QgYnlBcmVhcyA9IGZtLmJ5X2FyZWFzID09PSB1bmRlZmluZWQgPyBbXSA6IGZtLmJ5X2FyZWFzO1xuXHRcdGNvbnN0IGJ5Q29udGV4dHMgPSBmbS5ieV9jb250ZXh0cyA9PT0gdW5kZWZpbmVkID8gW10gOiBmbS5ieV9jb250ZXh0cztcblx0XHRjb25zdCBieUxheWVycyA9IGZtLmJ5X2xheWVycyA9PT0gdW5kZWZpbmVkID8gW10gOiBmbS5ieV9sYXllcnM7XG5cdFx0Y29uc3QgYnlPcmdzID0gZm0uYnlfb3JncyA9PT0gdW5kZWZpbmVkID8gW10gOiBmbS5ieV9vcmdzO1xuXHRcdGNvbnN0IGJ5UHJvamVjdHMgPSBmbS5ieV9wcm9qZWN0cyA9PT0gdW5kZWZpbmVkID8gW10gOiBmbS5ieV9wcm9qZWN0cztcblxuXHRcdHJldHVybiBbYnlBcmVhcywgYnlDb250ZXh0cywgYnlMYXllcnMsIGJ5T3JncywgYnlQcm9qZWN0c107XG5cdH1cblxuXHRwYXJzZUxpc3RCZWZvcmVBZnRlcihmbSkge1xuXHRcdGNvbnN0IGJlZm9yZSA9IEhlbHBlci5nZXREYXRlKGZtLmJlZm9yZSk7XG5cdFx0Y29uc3QgYWZ0ZXIgPSBIZWxwZXIuZ2V0RGF0ZShmbS5hZnRlcik7XG5cdFx0cmV0dXJuIFtiZWZvcmUsIGFmdGVyXTtcblx0fVxuXG5cdHBhcnNlTGlzdEZpbHRlckJ5KGZtKSB7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cblx0XHRjb25zdCBmaWx0ZXJCeSA9IGZtLmZpbHRlcl9ieTtcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkoZmlsdGVyQnkpKSB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZpbHRlckJ5O1xuXHR9XG5cblx0cGFyc2VMaXN0R3JvdXBCeShmbSkge1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cblx0XHRjb25zdCBncm91cEJ5ID0gZm0uZ3JvdXBfYnk7XG5cdFx0aWYgKFxuXHRcdFx0ISh0eXBlb2YgZ3JvdXBCeSA9PT0gXCJ1bmRlZmluZWRcIikgJiZcblx0XHRcdCEodHlwZW9mIGdyb3VwQnkgPT09IFwic3RyaW5nXCIpXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cblx0XHRyZXR1cm4gZ3JvdXBCeTtcblx0fVxuXG5cdHBhcnNlQWxsUHJvZ3Jlc3NlZFRhc2tzKCkge1xuXHRcdGNvbnN0IGZtID0gdGhpcy5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZyb250bWF0dGVyLCBjYW5ub3QgcHJvY2VlZGApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGdyb3VwQnkgPSB0aGlzLnBhcnNlTGlzdEdyb3VwQnkoZm0pO1xuXHRcdGNvbnN0IGZpbHRlckJ5ID0gdGhpcy5wYXJzZUxpc3RGaWx0ZXJCeShmbSk7XG5cdFx0Y29uc3QgW2JlZm9yZSwgYWZ0ZXJdID0gdGhpcy5wYXJzZUxpc3RCZWZvcmVBZnRlcihmbSk7XG5cblx0XHRyZXR1cm4gW2dyb3VwQnksIGZpbHRlckJ5LCBiZWZvcmUsIGFmdGVyXTtcblx0fVxuXG5cdHBhcnNlQWxsRG9uZVRhc2tzKCkge1xuXHRcdHJldHVybiB0aGlzLnBhcnNlQWxsUHJvZ3Jlc3NlZFRhc2tzKCk7XG5cdH1cblxuXHRwYXJzZUFsbERvbmVUYXNrV2l0aG91dExvZygpIHtcblx0XHRyZXR1cm4gdGhpcy5wYXJzZUFsbFByb2dyZXNzZWRUYXNrcygpO1xuXHR9XG5cblx0cGFyc2VBbGxUb2RvQWRIb2MoKSB7XG5cdFx0Y29uc3QgZm0gPSB0aGlzLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXIsIGNhbm5vdCBwcm9jZWVkYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZ3JvdXBCeSA9IHRoaXMucGFyc2VMaXN0R3JvdXBCeShmbSk7XG5cdFx0Y29uc3QgZmlsdGVyQnkgPSB0aGlzLnBhcnNlTGlzdEZpbHRlckJ5KGZtKTtcblx0XHRjb25zdCBbYmVmb3JlLCBhZnRlcl0gPSB0aGlzLnBhcnNlTGlzdEJlZm9yZUFmdGVyKGZtKTtcblx0XHRjb25zdCBtaW5Qcmlvcml0eSA9IEhlbHBlci5nZXRGaWVsZChmbS5taW5fcHJpb3JpdHksIDApO1xuXG5cdFx0cmV0dXJuIFtncm91cEJ5LCBmaWx0ZXJCeSwgYmVmb3JlLCBhZnRlciwgbWluUHJpb3JpdHldO1xuXHR9XG5cblx0cGFyc2VJbmJveCgpIHtcblx0XHRjb25zdCBmbSA9IHRoaXMuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBbW10sIFtdLCAwLCAweGZmZmZmZmZmXTtcblx0XHR9XG5cblx0XHRjb25zdCBzb3VyY2UgPSBIZWxwZXIubmlsQ2hlY2soZm0uc291cmNlKVxuXHRcdFx0PyBbXCJsb2dzXCIsIFwiZmxlZXRpbmdcIl1cblx0XHRcdDogZm0uc291cmNlO1xuXHRcdGNvbnN0IGdyb3VwQnkgPSBIZWxwZXIubmlsQ2hlY2soZm0uZ3JvdXBfYnkpID8gXCJub25lXCIgOiBmbS5ncm91cF9ieTtcblx0XHRjb25zdCBmaWx0ZXJCeSA9IHRoaXMucGFyc2VMaXN0RmlsdGVyQnkoZm0pO1xuXHRcdGNvbnN0IG1pblNpemUgPSBIZWxwZXIubmlsQ2hlY2soZm0ubWluX3NpemUpID8gMCA6IGZtLm1pbl9zaXplO1xuXHRcdGNvbnN0IG1heFNpemUgPSBIZWxwZXIubmlsQ2hlY2soZm0ubWF4X3NpemUpID8gMHhmZmZmZmZmZiA6IGZtLm1heF9zaXplO1xuXG5cdFx0cmV0dXJuIFtzb3VyY2UsIGdyb3VwQnksIGZpbHRlckJ5LCBtaW5TaXplLCBtYXhTaXplXTtcblx0fVxuXG5cdHBhcnNlSm91cm5hbCgpIHtcblx0XHRjb25zdCBmbSA9IHRoaXMuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBbW10sIFtdLCBbXSwgW10sIFtdXTtcblx0XHR9XG5cdFx0Y29uc3QgW2J5QXJlYXMsIGJ5Q29udGV4dHMsIGJ5TGF5ZXJzLCBieU9yZ3MsIGJ5UHJvamVjdHNdID1cblx0XHRcdHRoaXMucGFyc2VMaXN0QnlOYW1lc3BhY2UoZm0pO1xuXHRcdGNvbnN0IHRhc2tzID0gSGVscGVyLmdldEZpZWxkKGZtLnRhc2tzLCBbXSk7XG5cblx0XHRyZXR1cm4gW2J5QXJlYXMsIGJ5Q29udGV4dHMsIGJ5TGF5ZXJzLCBieU9yZ3MsIGJ5UHJvamVjdHMsIHRhc2tzXTtcblx0fVxuXG5cdHBhcnNlVG9kb0xpc3QoKSB7XG5cdFx0Y29uc3QgZm0gPSB0aGlzLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gW1tdLCBbXSwgW10sIFtdLCBbXSwgMF07XG5cdFx0fVxuXG5cdFx0Y29uc3QgW2J5QXJlYXMsIGJ5Q29udGV4dHMsIGJ5TGF5ZXJzLCBieU9yZ3MsIGJ5UHJvamVjdHNdID1cblx0XHRcdHRoaXMucGFyc2VMaXN0QnlOYW1lc3BhY2UoZm0pO1xuXHRcdGNvbnN0IG1pblByaW9yaXR5ID0gSGVscGVyLmdldEZpZWxkKGZtLm1pbl9wcmlvcml0eSwgMCk7XG5cblx0XHRyZXR1cm4gW2J5QXJlYXMsIGJ5Q29udGV4dHMsIGJ5TGF5ZXJzLCBieU9yZ3MsIGJ5UHJvamVjdHMsIG1pblByaW9yaXR5XTtcblx0fVxuXG5cdHBhcnNlRG9uZUxpc3QoKSB7XG5cdFx0Y29uc3QgZm0gPSB0aGlzLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gW1tdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdXTtcblx0XHR9XG5cblx0XHRjb25zdCBbYnlBcmVhcywgYnlDb250ZXh0cywgYnlMYXllcnMsIGJ5T3JncywgYnlQcm9qZWN0c10gPVxuXHRcdFx0dGhpcy5wYXJzZUxpc3RCeU5hbWVzcGFjZShmbSk7XG5cdFx0Y29uc3QgW2JlZm9yZSwgYWZ0ZXJdID0gdGhpcy5wYXJzZUxpc3RCZWZvcmVBZnRlcihmbSk7XG5cdFx0Y29uc3QgZmllbGRzID0gSGVscGVyLmdldEZpZWxkKGZtLmZpZWxkcywgW10pO1xuXHRcdGNvbnN0IHN0YXRzID0gSGVscGVyLmdldEZpZWxkKGZtLnN0YXRzLCBbXSk7XG5cblx0XHRyZXR1cm4gW1xuXHRcdFx0YnlBcmVhcyxcblx0XHRcdGJ5Q29udGV4dHMsXG5cdFx0XHRieUxheWVycyxcblx0XHRcdGJ5T3Jncyxcblx0XHRcdGJ5UHJvamVjdHMsXG5cdFx0XHRmaWVsZHMsXG5cdFx0XHRzdGF0cyxcblx0XHRcdGJlZm9yZSxcblx0XHRcdGFmdGVyLFxuXHRcdF07XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vdGVIZWxwZXIge1xuXHRkdjogQW55O1xuXHRnb25leHQ6IEFueTtcblx0ZnJvbnRtYXR0ZXI6IEZyb250bWF0dGVyO1xuXG5cdGNvbnN0cnVjdG9yKGdvbmV4dCwgZHYsIGZyb250bWF0dGVyKSB7XG5cdFx0dGhpcy5nb25leHQgPSBnb25leHQ7XG5cdFx0dGhpcy5kdiA9IGR2O1xuXHRcdHRoaXMuZnJvbnRtYXR0ZXIgPSBmcm9udG1hdHRlcjtcblx0fVxuXG5cdGlzRG9hYmxlKHRhc2spIHtcblx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0uc3RhdHVzICE9PSBTdGF0dXMuVG9kbykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChmbS5hZnRlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb25zdCBhZnRlciA9IG5ldyBEYXRlKGZtLmFmdGVyKTtcblx0XHRcdGlmIChEYXRlLm5vdygpIDw9IGFmdGVyLmdldFRpbWUoKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgZGVwcyA9IGZtLm5lZWRzO1xuXHRcdGlmIChkZXBzID09PSB1bmRlZmluZWQgfHwgZGVwcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmhhc1BlbmRpbmdEZXBlbmRlbmNpZXMoZGVwcykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGhhc1BlbmRpbmdEZXBlbmRlbmNpZXMoZGVwcykge1xuXHRcdGZvciAoY29uc3QgZGVwIG9mIGRlcHMpIHtcblx0XHRcdGNvbnN0IHRhc2sgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9LyR7ZGVwfVwiYCkuYXJyYXkoKTtcblx0XHRcdGlmICh0YXNrLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0YGhhc1BlbmRpbmdEZXBlbmRlbmNpZXM6IFwiJHtQYXRocy5UYXNrc30vJHtkZXB9XCIgdGFzayBkb2VzIG5vdCBleGlzdHNgLFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZm0gPSB0YXNrWzBdLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGZtLnR5cGUgIT09IFR5cGVzLlRhc2sgJiZcblx0XHRcdFx0Zm0udHlwZSAhPT0gVHlwZXMuUHJvdmlzaW9uICYmXG5cdFx0XHRcdGZtLnR5cGUgIT09IFR5cGVzLlByYXhpc1xuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZm0uc3RhdHVzID09PSBTdGF0dXMuVG9kbykge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpc0NoaWxkVGFnKHBhcmVudCwgY2hpbGQpIHtcblx0XHRpZiAoY2hpbGQubGVuZ3RoIDw9IHBhcmVudC5sZW5ndGggKyAxKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSBlbHNlIGlmIChjaGlsZC5zbGljZSgwLCBwYXJlbnQubGVuZ3RoICsgMSkgIT0gYCR7cGFyZW50fS9gKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Z2V0TmFtZXNwYWNlQ29udGVudChuczogc3RyaW5nKSB7XG5cdFx0Y29uc3QgY2hpbGRyZW4gPSBbXTtcblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHYucGFnZXMoYCMke25zfWApO1xuXHRcdGZvciAoY29uc3QgcCBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgdGFncyA9IHAuZmlsZS5mcm9udG1hdHRlci50YWdzO1xuXG5cdFx0XHRpZiAodGFncyA9PT0gdW5kZWZpbmVkIHx8IHRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0XHRcdGlmICh0aGlzLmlzQ2hpbGRUYWcobnMsIHRhZykpIHtcblx0XHRcdFx0XHRjb25zdCB0ID0gdGFnLnNsaWNlKG5zLmxlbmd0aCArIDEpO1xuXHRcdFx0XHRcdGlmICghY2hpbGRyZW4uY29udGFpbnModCkpIHtcblx0XHRcdFx0XHRcdGNoaWxkcmVuLnB1c2godCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNoaWxkcmVuO1xuXHR9XG5cblx0aXNMYXN0UmV2aXNpb24ocGFnZSk6IGJvb2xlYW4ge1xuXHRcdGNvbnN0IHJldmlzaW9uTGlzdCA9IChkdiwgcm9vdDogc3RyaW5nLCBjdXJyZW50KSA9PiB7XG5cdFx0XHRsZXQgaGVhZCA9IGN1cnJlbnQ7XG5cdFx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7cm9vdH1cImApXG5cdFx0XHRcdFx0LndoZXJlKFxuXHRcdFx0XHRcdFx0KHBhZ2UpID0+XG5cdFx0XHRcdFx0XHRcdHBhZ2UuZmlsZS5mcm9udG1hdHRlci5uZXh0ID09PVxuXHRcdFx0XHRcdFx0XHRoZWFkLmZpbGUuZnJvbnRtYXR0ZXIudXVpZCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRpZiAocGFnZXMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcigpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGhlYWQgPSBwYWdlc1swXTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdFx0bGV0IGN1ciA9IGhlYWQ7XG5cdFx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0XHRidWZmLnB1c2goY3VyKTtcblx0XHRcdFx0Y29uc3QgZm0gPSBjdXIuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdFx0aWYgKGZtLm5leHQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IHBhZ2VzID0gZHYucGFnZXMoYFwiJHtyb290fS8ke2ZtLm5leHR9XCJgKTtcblx0XHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGN1ciA9IHBhZ2VzWzBdO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYnVmZjtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgbm90ZSA9IHBhZ2U7XG5cdFx0Y29uc3QgZm0gPSBub3RlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0bGV0IHJldmlzaW9ucyA9IFtdO1xuXHRcdHN3aXRjaCAoZm0udHlwZSkge1xuXHRcdFx0Y2FzZSBUeXBlcy5QZXJtYW5lbnQ6XG5cdFx0XHRcdHJldmlzaW9ucyA9IHJldmlzaW9uTGlzdCh0aGlzLmR2LCBQYXRocy5TbGlwYm94LCBub3RlKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFR5cGVzLlJlc291cmNlOlxuXHRcdFx0XHRyZXZpc2lvbnMgPSByZXZpc2lvbkxpc3QodGhpcy5kdiwgUGF0aHMuUmVzb3VyY2VzLCBub3RlKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoKTtcblx0XHR9XG5cblx0XHRpZiAocmV2aXNpb25zLmxlbmd0aCA8PSAxKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmV2aXNpb25zWzBdLmZpbGUuZnJvbnRtYXR0ZXIudXVpZCA9PT0gZm0udXVpZDtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgTGlzdE1ha2VyIHtcblx0ZHY6IEFueTtcblx0Z29uZXh0OiBBbnk7XG5cdGZyb250bWF0dGVyOiBGcm9udG1hdHRlcjtcblx0bm90ZUhlbHBlcjogTm90ZUhlbHBlcjtcblxuXHRjb25zdHJ1Y3Rvcihnb25leHQsIGR2LCBmcm9udG1hdHRlcikge1xuXHRcdHRoaXMuZ29uZXh0ID0gZ29uZXh0O1xuXHRcdHRoaXMuZHYgPSBkdjtcblx0XHR0aGlzLmZyb250bWF0dGVyID0gZnJvbnRtYXR0ZXI7XG5cdFx0dGhpcy5ub3RlSGVscGVyID0gbmV3IE5vdGVIZWxwZXIoZ29uZXh0LCBkdiwgZnJvbnRtYXR0ZXIpO1xuXHR9XG5cblx0bmFtZUluTmFtZXNwYWNlKGZtOiBBbnksIG5zOiBzdHJpbmdbXSkge1xuXHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdGlmIChucy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgYSBvZiBucykge1xuXHRcdFx0Y29uc3Qgcm9vdCA9IGEuc3BsaXQoXCIvXCIpO1xuXHRcdFx0QXNzZXJ0LlRydWUocm9vdC5sZW5ndGggPT09IDIsIGBJbnZhbGlkIHRhZzogJyR7YX0nYCk7XG5cdFx0XHRjb25zdCBwYXJlbnQgPVxuXHRcdFx0XHRyb290WzBdLnNsaWNlKDAsIDEpID09PSBcIiFcIiA/IHJvb3RbMF0uc2xpY2UoMSkgOiByb290WzBdO1xuXHRcdFx0Ly8gY29uc29sZS5sb2cocGFyZW50KVxuXHRcdFx0Y29uc3QgbmFtZSA9IEhlbHBlci5nZXRUYWcoZm0sIHBhcmVudCk7XG5cblx0XHRcdGlmIChhLnNsaWNlKDAsIDEpID09PSBcIiFcIikge1xuXHRcdFx0XHQvLyBuZWdhdGl2ZSBtYXRjaCwgZGlzY2FyZCBlbnRyeVxuXHRcdFx0XHRpZiAobmFtZSA9PT0gYS5zbGljZSgxKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHQvLyBubyBtYXRjaCwgcmVpbml0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBwb3NpdGl2ZSBtYXRjaCwga2VlcCBlbnRyeVxuXHRcdFx0XHRpZiAobmFtZSA9PT0gYSkge1xuXHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0XHQvLyBubyBtYXRjaCwgcmVpbml0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm91bmQgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmb3VuZDtcblx0fVxuXG5cdG15TmFtZUluTmFtZXNwYWNlKG5hbWU6IHN0cmluZywgbnM6IHN0cmluZ1tdKSB7XG5cdFx0bGV0IGZvdW5kID0gZmFsc2U7XG5cdFx0aWYgKG5zLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBhIG9mIG5zKSB7XG5cdFx0XHRpZiAoYS5zbGljZSgwLCAxKSA9PT0gXCIhXCIpIHtcblx0XHRcdFx0Ly8gbmVnYXRpdmUgbWF0Y2gsIGRpc2NhcmQgZW50cnlcblx0XHRcdFx0aWYgKG5hbWUgPT09IGEuc2xpY2UoMSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0Ly8gbm8gbWF0Y2gsIHJlaW5pdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gcG9zaXRpdmUgbWF0Y2gsIGtlZXAgZW50cnlcblx0XHRcdFx0aWYgKG5hbWUgPT09IGEpIHtcblx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdFx0Ly8gbm8gbWF0Y2gsIHJlaW5pdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZvdW5kID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZm91bmQ7XG5cdH1cblxuXHRmaWx0ZXJCeU5hbWVzcGFjZShcblx0XHRmbTogQW55LFxuXHRcdGJ5QXJlYXM6IHN0cmluZ1tdLFxuXHRcdGJ5Q29udGV4dHM6IHN0cmluZ1tdLFxuXHRcdGJ5TGF5ZXJzOiBzdHJpbmdbXSxcblx0XHRieU9yZ3M6IHN0cmluZ1tdLFxuXHRcdGJ5UHJvamVjdHM6IHN0cmluZ1tdLFxuXHQpOiBib29sIHtcblx0XHQvLyBpZiAoYnlBcmVhcy5sZW5ndGggPiAwICYmICFieUFyZWFzLmNvbnRhaW5zKEhlbHBlci5nZXRBcmVhKGZtKSkpIHtcblx0XHQvLyBcdHJldHVybiBmYWxzZTtcblx0XHQvLyB9XG5cblx0XHRpZiAoIXRoaXMubXlOYW1lSW5OYW1lc3BhY2UoSGVscGVyLmdldEFyZWEoZm0pLCBieUFyZWFzKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGNvbnN0IGFyZWEgPSBIZWxwZXIuZ2V0QXJlYShmbSk7XG5cdFx0Ly8gbGV0IGZvdW5kID0gZmFsc2U7XG5cdFx0Ly8gZm9yIChjb25zdCBhIG9mIGJ5QXJlYXMpIHtcblx0XHQvLyBcdGlmIChhLnNsaWNlKDAsIDEpID09PSBcIiFcIikge1xuXHRcdC8vIFx0XHQvLyBuZWdhdGl2ZSBtYXRjaCwgZGlzY2FyZCBlbnRyeVxuXHRcdC8vIFx0XHRpZiAoYXJlYSA9PT0gYS5zbGljZSgxKSkge1xuXHRcdC8vIFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHQvLyBcdFx0XHQvLyBubyBtYXRjaCwgcmVpbml0XG5cdFx0Ly8gXHRcdH0gZWxzZSB7XG5cdFx0Ly8gXHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdC8vIFx0XHR9XG5cdFx0Ly8gXHR9IGVsc2Uge1xuXHRcdC8vIFx0XHQvLyBwb3NpdGl2ZSBtYXRjaCwga2VlcCBlbnRyeVxuXHRcdC8vIFx0XHRpZiAoYXJlYSA9PT0gYSkge1xuXHRcdC8vIFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHQvLyBcdFx0XHQvLyBubyBtYXRjaCwgcmVpbml0XG5cdFx0Ly8gXHRcdH0gZWxzZSB7XG5cdFx0Ly8gXHRcdFx0Zm91bmQgPSBmYWxzZTtcblx0XHQvLyBcdFx0fVxuXHRcdC8vIFx0fVxuXHRcdC8vIH1cblx0XHQvL1xuXHRcdC8vIGlmICghZm91bmQpIHtcblx0XHQvLyBcdHJldHVybiBmYWxzZTtcblx0XHQvLyB9XG5cblx0XHQvLyBpZiAoXG5cdFx0Ly8gXHRieUNvbnRleHRzLmxlbmd0aCA+IDAgJiZcblx0XHQvLyBcdCFieUNvbnRleHRzLmNvbnRhaW5zKEhlbHBlci5nZXRDb250ZXh0KGZtKSlcblx0XHQvLyApIHtcblx0XHQvLyBcdHJldHVybiBmYWxzZTtcblx0XHQvLyB9XG5cdFx0aWYgKCF0aGlzLm15TmFtZUluTmFtZXNwYWNlKEhlbHBlci5nZXRDb250ZXh0KGZtKSwgYnlDb250ZXh0cykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBpZiAoYnlMYXllcnMubGVuZ3RoID4gMCAmJiAhYnlMYXllcnMuY29udGFpbnMoSGVscGVyLmdldExheWVyKGZtKSkpIHtcblx0XHQvLyBcdHJldHVybiBmYWxzZTtcblx0XHQvLyB9XG5cdFx0aWYgKCF0aGlzLm15TmFtZUluTmFtZXNwYWNlKEhlbHBlci5nZXRMYXllcihmbSksIGJ5TGF5ZXJzKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGlmIChieU9yZ3MubGVuZ3RoID4gMCAmJiAhYnlPcmdzLmNvbnRhaW5zKEhlbHBlci5nZXRPcmcoZm0pKSkge1xuXHRcdC8vIFx0cmV0dXJuIGZhbHNlO1xuXHRcdC8vIH1cblx0XHRpZiAoIXRoaXMubXlOYW1lSW5OYW1lc3BhY2UoSGVscGVyLmdldE9yZyhmbSksIGJ5T3JncykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBpZiAoXG5cdFx0Ly8gXHRieVByb2plY3RzLmxlbmd0aCA+IDAgJiZcblx0XHQvLyBcdCFieVByb2plY3RzLmNvbnRhaW5zKEhlbHBlci5nZXRQcm9qZWN0KGZtKSlcblx0XHQvLyApIHtcblx0XHQvLyBcdHJldHVybiBmYWxzZTtcblx0XHQvLyB9XG5cdFx0aWYgKCF0aGlzLm15TmFtZUluTmFtZXNwYWNlKEhlbHBlci5nZXRQcm9qZWN0KGZtKSwgYnlQcm9qZWN0cykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGZpbHRlckJ5RGF0ZShkdDogRGF0ZSwgYmVmb3JlOiBEYXRlLCBhZnRlcjogRGF0ZSk6IGJvb2wge1xuXHRcdGlmIChiZWZvcmUgIT09IHVuZGVmaW5lZCAmJiBkdC5nZXRUaW1lKCkgPiBiZWZvcmUuZ2V0VGltZSgpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKGFmdGVyICE9PSB1bmRlZmluZWQgJiYgZHQuZ2V0VGltZSgpIDwgYWZ0ZXIuZ2V0VGltZSgpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRwcm9qZWN0UmVzb3VyY2VTaGVldCgpIHtcblx0XHRjb25zdCBjdXJGbSA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0aWYgKGN1ckZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBjb21wb25lbnRzID0gY3VyRm0uY29tcG9uZW50cztcblx0XHRjb25zdCBkb21haW5zID0gY3VyRm0uZG9tYWlucztcblx0XHRsZXQgbm90ZVR5cGVzID0gWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwXTtcblx0XHRpZiAoIUhlbHBlci5uaWxDaGVjayhjdXJGbS50eXBlcykgJiYgY3VyRm0udHlwZXMgIT09IFwiKlwiKSB7XG5cdFx0XHRub3RlVHlwZXMgPSBjdXJGbS50eXBlcztcblx0XHR9XG5cdFx0Ly8gY29uc29sZS5sb2cobm90ZVR5cGVzKTtcblx0XHRjb25zdCBkcm9wVGFza3MgPSBjdXJGbS5kcm9wX3N0YXR1cztcblx0XHRjb25zdCBtaW5NYXRjaGluZ0NvbXBvbmVudCA9IGNvbXBvbmVudHMubGVuZ3RoO1xuXG5cdFx0Y29uc3QgcnMgPSB7XG5cdFx0XHRmbGVldGluZzogW10sXG5cdFx0XHRsaXRlcmF0dXJlOiBbXSxcblx0XHRcdHBlcm1hbmVudDogW10sXG5cdFx0XHR0YXNrOiBbXSxcblx0XHRcdHByYXhpczogW10sXG5cdFx0XHRzdXBwbHk6IFtdLFxuXHRcdFx0bG9nOiBbXSxcblx0XHRcdHJlc291cmNlOiBbXSxcblx0XHRcdG1lZGlhOiBbXSxcblx0XHR9O1xuXG5cdFx0Y29uc3QgVHlwZXMgPSB7XG5cdFx0XHQwOiBcImZsZWV0aW5nXCIsXG5cdFx0XHQxOiBcImxpdGVyYXR1cmVcIixcblx0XHRcdDI6IFwicGVybWFuZW50XCIsXG5cdFx0XHQzOiBcInRhc2tcIixcblx0XHRcdDQ6IFwicHJheGlzXCIsXG5cdFx0XHQ1OiBcInN1cHBseVwiLFxuXHRcdFx0NjogXCJsb2dcIixcblx0XHRcdDc6IFwicmVzb3VyY2VcIixcblx0XHRcdDg6IFwibWVkaWFcIixcblx0XHR9O1xuXG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2LnBhZ2VzKCk7XG5cdFx0Zm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG5cdFx0XHRjb25zdCBmbSA9IHBhZ2UuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGNvbnN0IHRhZ3MgPSBmbS50YWdzO1xuXHRcdFx0aWYgKHRhZ3MgPT09IHVuZGVmaW5lZCB8fCB0YWdzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGNvbXAgPSBbXTtcblx0XHRcdGZvciAoY29uc3QgdCBvZiB0YWdzKSB7XG5cdFx0XHRcdGlmICh0Lmxlbmd0aCA+IDEwICYmIHQuc2xpY2UoMCwgMTApID09PSBcImNvbXBvbmVudC9cIikge1xuXHRcdFx0XHRcdGNvbXAucHVzaCh0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGNvbXAubGVuZ3RoIDwgY29tcG9uZW50cy5sZW5ndGgpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBtaXNzaW5nID0gMDtcblx0XHRcdGZvciAoY29uc3QgY29tcG9uZW50IG9mIGNvbXBvbmVudHMpIHtcblx0XHRcdFx0aWYgKCFjb21wLmNvbnRhaW5zKGNvbXBvbmVudCkpIHtcblx0XHRcdFx0XHRtaXNzaW5nICs9IDE7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChjb21wb25lbnRzLmxlbmd0aCAtIG1pc3NpbmcgPCBtaW5NYXRjaGluZ0NvbXBvbmVudCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGRvbWFpbnMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRsZXQgZG9tYWluID0gXCJcIjtcblx0XHRcdFx0Zm9yIChjb25zdCB0IG9mIHRhZ3MpIHtcblx0XHRcdFx0XHRpZiAodC5sZW5ndGggPiA3ICYmIHQuc2xpY2UoMCwgNykgPT09IFwiZG9tYWluL1wiKSB7XG5cdFx0XHRcdFx0XHRkb21haW4gPSB0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChkb21haW4gPT09IFwiXCIpIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0XHRgTWlzc2luZyBkb21haW4gZm9yIG5vdGU6ICcke3BhZ2UuZmlsZS5wYXRofSdgLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGV0IGZvdW5kID0gZmFsc2U7XG5cdFx0XHRcdGZvciAoY29uc3QgZCBvZiBkb21haW5zKSB7XG5cdFx0XHRcdFx0aWYgKGQgPT09IGRvbWFpbikge1xuXHRcdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIWZvdW5kKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKFR5cGVzW2ZtLnR5cGVdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGBJbnZhbGlkIHR5cGUgZm9yIG5vdGU6ICcke3BhZ2UuZmlsZS5wYXRofSdgKTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChmbS50eXBlID09PSAzIHx8IGZtLnR5cGUgPT09IDQgfHwgZm0udHlwZSA9PT0gNSkge1xuXHRcdFx0XHRsZXQgZm91bmQgPSBmYWxzZTtcblx0XHRcdFx0Zm9yIChjb25zdCBzdGF0dXMgb2YgZHJvcFRhc2tzKSB7XG5cdFx0XHRcdFx0aWYgKGZtLnN0YXR1cyA9PT0gc3RhdHVzKSB7XG5cdFx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGZvdW5kKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0bGV0IGZvdW5kID0gZmFsc2U7XG5cdFx0XHRmb3IgKGNvbnN0IHQgb2Ygbm90ZVR5cGVzKSB7XG5cdFx0XHRcdGlmIChmbS50eXBlID09PSB0KSB7XG5cdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWZvdW5kKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRyc1tUeXBlc1tmbS50eXBlXV0ucHVzaChwYWdlKTtcblx0XHR9XG5cblx0XHRjb25zdCByZXNvdXJjZXMgPSBbXTtcblx0XHRjb25zdCB0eXBlcyA9IE9iamVjdC5rZXlzKHJzKTtcblx0XHR0eXBlcy5zb3J0KCk7XG5cdFx0Zm9yIChjb25zdCB0IG9mIHR5cGVzKSB7XG5cdFx0XHRpZiAocnNbdF0ubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0cmVzb3VyY2VzLnB1c2goW1wiaGVhZGVyXCIsIDIsIHRdKTtcblx0XHRcdGZvciAoY29uc3Qgbm90ZSBvZiByc1t0XSkge1xuXHRcdFx0XHRyZXNvdXJjZXMucHVzaChbXCJwYXJhZ3JhcGhcIiwgdGhpcy5kdi5maWxlTGluayhub3RlLmZpbGUucGF0aCldKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzb3VyY2VzO1xuXHR9XG5cblx0cmVzb3VyY2VMb2NhdG9yR2xvYmFsKCkge1xuXHRcdGNvbnN0IGN1ckZtID0gdGhpcy5mcm9udG1hdHRlci5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoY3VyRm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IGNvbXBvbmVudHMgPSBbXTtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShjdXJGbS5jb21wb25lbnRzKSkge1xuXHRcdFx0Zm9yIChjb25zdCBjb21wb25lbnQgb2YgY3VyRm0uY29tcG9uZW50cykge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0Y29tcG9uZW50Lmxlbmd0aCA+IDEwICYmXG5cdFx0XHRcdFx0Y29tcG9uZW50LnNsaWNlKDAsIDEwKSA9PT0gXCJjb21wb25lbnQvXCJcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Y29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29tcG9uZW50cy5wdXNoKGBjb21wb25lbnQvJHtjb21wb25lbnR9YCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBkb21haW5zID0gW107XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoY3VyRm0uZG9tYWlucykpIHtcblx0XHRcdGZvciAoY29uc3QgZG9tYWluIG9mIGN1ckZtLmRvbWFpbnMpIHtcblx0XHRcdFx0aWYgKGRvbWFpbi5sZW5ndGggPiA3ICYmIGRvbWFpbi5zbGljZSgwLCA3KSA9PT0gXCJkb21haW4vXCIpIHtcblx0XHRcdFx0XHRkb21haW5zLnB1c2goZG9tYWluKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkb21haW5zLnB1c2goYGRvbWFpbi8ke2RvbWFpbn1gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGxldCBtaW5NYXRjaGluZ0NvbXBvbmVudCA9IDA7XG5cdFx0aWYgKGNvbXBvbmVudHMubGVuZ3RoID4gMCkge1xuXHRcdFx0aWYgKEhlbHBlci5uaWxDaGVjayhjdXJGbS5taW5fbWF0Y2hpbmdfY29tcG9uZW50cykpIHtcblx0XHRcdFx0bWluTWF0Y2hpbmdDb21wb25lbnQgPSBjb21wb25lbnRzLmxlbmd0aDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1pbk1hdGNoaW5nQ29tcG9uZW50ID0gY3VyRm0ubWluX21hdGNoaW5nX2NvbXBvbmVudHM7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bGV0IG5vdGVUeXBlcyA9IFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxM107XG5cdFx0aWYgKCFIZWxwZXIubmlsQ2hlY2soY3VyRm0udHlwZXMpICYmIGN1ckZtLnR5cGVzICE9PSBcIipcIikge1xuXHRcdFx0bm90ZVR5cGVzID0gY3VyRm0udHlwZXM7XG5cdFx0fVxuXHRcdGNvbnN0IGRyb3BUYXNrcyA9IEhlbHBlci5uaWxDaGVjayhjdXJGbS5kcm9wX3N0YXR1cylcblx0XHRcdD8gW11cblx0XHRcdDogY3VyRm0uZHJvcF9zdGF0dXM7XG5cdFx0Ly8gdHlwZSwgY29tcG9uZW50XG5cdFx0Ly8gY29uc3QgZ3JvdXBCeSA9IGN1ckZtLmdyb3VwX2J5O1xuXHRcdGNvbnN0IGdyb3VwQnkgPSBcInR5cGVcIjtcblxuXHRcdGNvbnN0IHJzID0ge1xuXHRcdFx0ZmxlZXRpbmc6IFtdLFxuXHRcdFx0bGl0ZXJhdHVyZTogW10sXG5cdFx0XHRwZXJtYW5lbnQ6IFtdLFxuXHRcdFx0dGFzazogW10sXG5cdFx0XHRwcmF4aXM6IFtdLFxuXHRcdFx0c3VwcGx5OiBbXSxcblx0XHRcdGxvZzogW10sXG5cdFx0XHRyZXNvdXJjZTogW10sXG5cdFx0XHRtZWRpYTogW10sXG5cdFx0XHRvcmc6IFtdLFxuXHRcdFx0ZG9tYWluOiBbXSxcblx0XHRcdGNvbXBvbmVudDogW10sXG5cdFx0XHRwcm9qZWN0OiBbXSxcblx0XHR9O1xuXG5cdFx0Y29uc3QgVHlwZXMgPSB7XG5cdFx0XHQxOiBcImxpdGVyYXR1cmVcIixcblx0XHRcdDI6IFwicGVybWFuZW50XCIsXG5cdFx0XHQzOiBcInRhc2tcIixcblx0XHRcdDQ6IFwicHJheGlzXCIsXG5cdFx0XHQ1OiBcInN1cHBseVwiLFxuXHRcdFx0NjogXCJsb2dcIixcblx0XHRcdDc6IFwicmVzb3VyY2VcIixcblx0XHRcdDg6IFwibWVkaWFcIixcblx0XHRcdDk6IFwib3JnXCIsXG5cdFx0XHQxMDogXCJkb21haW5cIixcblx0XHRcdDExOiBcImNvbXBvbmVudFwiLFxuXHRcdFx0MTI6IFwicHJvamVjdFwiLFxuXHRcdFx0MTM6IFwiZmxlZXRpbmdcIixcblx0XHR9O1xuXG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2LnBhZ2VzKCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGlmIChcblx0XHRcdFx0cGFnZS5maWxlLmZyb250bWF0dGVyLnR5cGUgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRub3RlVHlwZXMuY29udGFpbnMocGFnZS5maWxlLmZyb250bWF0dGVyLnR5cGUpXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9KTtcblxuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBwYWdlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCB0YWdzID0gZm0udGFncztcblx0XHRcdGlmICh0YWdzID09PSB1bmRlZmluZWQgfHwgdGFncy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGNvbXAgPSBbXTtcblx0XHRcdGZvciAoY29uc3QgdCBvZiB0YWdzKSB7XG5cdFx0XHRcdGlmICh0Lmxlbmd0aCA+IDEwICYmIHQuc2xpY2UoMCwgMTApID09PSBcImNvbXBvbmVudC9cIikge1xuXHRcdFx0XHRcdGNvbXAucHVzaCh0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRsZXQgbWlzc2luZyA9IDA7XG5cdFx0XHRmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBjb21wb25lbnRzKSB7XG5cdFx0XHRcdGlmICghY29tcC5jb250YWlucyhjb21wb25lbnQpKSB7XG5cdFx0XHRcdFx0bWlzc2luZyArPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoY29tcG9uZW50cy5sZW5ndGggLSBtaXNzaW5nIDwgbWluTWF0Y2hpbmdDb21wb25lbnQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChkb21haW5zLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0bGV0IGRvbWFpbiA9IFwiXCI7XG5cdFx0XHRcdGZvciAoY29uc3QgdCBvZiB0YWdzKSB7XG5cdFx0XHRcdFx0aWYgKHQubGVuZ3RoID4gNyAmJiB0LnNsaWNlKDAsIDcpID09PSBcImRvbWFpbi9cIikge1xuXHRcdFx0XHRcdFx0ZG9tYWluID0gdDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChkb21haW4gPT09IFwiXCIpIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0XHRgTWlzc2luZyBkb21haW4gZm9yIG5vdGU6ICcke3BhZ2UuZmlsZS5wYXRofSdgLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGV0IGZvdW5kID0gZmFsc2U7XG5cdFx0XHRcdGZvciAoY29uc3QgZCBvZiBkb21haW5zKSB7XG5cdFx0XHRcdFx0aWYgKGQgPT09IGRvbWFpbikge1xuXHRcdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIWZvdW5kKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKFR5cGVzW2ZtLnR5cGVdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGBJbnZhbGlkIHR5cGUgZm9yIG5vdGU6ICcke3BhZ2UuZmlsZS5wYXRofSdgKTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcblx0XHRcdFx0Zm0udHlwZSA9PT0gMyB8fFxuXHRcdFx0XHRmbS50eXBlID09PSA0IHx8XG5cdFx0XHRcdGZtLnR5cGUgPT09IDUgfHxcblx0XHRcdFx0Zm0udHlwZSA9PT0gOFxuXHRcdFx0KSB7XG5cdFx0XHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdFx0XHRmb3IgKGNvbnN0IHN0YXR1cyBvZiBkcm9wVGFza3MpIHtcblx0XHRcdFx0XHRpZiAoZm0uc3RhdHVzID09PSBzdGF0dXMpIHtcblx0XHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChmb3VuZCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdFx0Zm9yIChjb25zdCB0IG9mIG5vdGVUeXBlcykge1xuXHRcdFx0XHRpZiAoZm0udHlwZSA9PT0gdCkge1xuXHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWZvdW5kKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZm0udHlwZSA9PT0gNyB8fCBmbS50eXBlID09PSAyKSB7XG5cdFx0XHRcdGlmICghdGhpcy5ub3RlSGVscGVyLmlzTGFzdFJldmlzaW9uKHBhZ2UpKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cnNbVHlwZXNbZm0udHlwZV1dLnB1c2gocGFnZSk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IHR5cGVzID0gT2JqZWN0LmtleXMocnMpO1xuXHRcdHR5cGVzLnNvcnQoKTtcblx0XHRmb3IgKGNvbnN0IHQgb2YgdHlwZXMpIHtcblx0XHRcdGlmIChyc1t0XS5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHJzW3RdLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdFx0Y29uc3QgY3JlYXRlZEF0QSA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3JlYXRlZEF0KGEuZmlsZSk7XG5cdFx0XHRcdGNvbnN0IGNyZWF0ZWRBdEIgPSB0aGlzLmZyb250bWF0dGVyLmdldENyZWF0ZWRBdChiLmZpbGUpO1xuXHRcdFx0XHRyZXR1cm4gY3JlYXRlZEF0QS5nZXRUaW1lKCkgLSBjcmVhdGVkQXRCLmdldFRpbWUoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRidWZmLnB1c2goW1wiaGVhZGVyXCIsIDIsIHRdKTtcblx0XHRcdGJ1ZmYucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5yZXNvdXJjZUJhc2UsIHJzW3RdXSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGJ1ZmY7XG5cdH1cblxuXHRpbmRleEFyZWFEb21haW5NYXAoKSB7XG5cdFx0Y29uc3QgZG9tYWluTWFwID0ge307XG5cdFx0Y29uc3QgYXJlYU1hcCA9IHt9O1xuXG5cdFx0Zm9yIChjb25zdCBuIG9mIHRoaXMuZHYucGFnZXMoYFwiNzAwIExpbmsvRG9tYWluc1wiYCkuYXJyYXkoKSkge1xuXHRcdFx0Y29uc3QgZm0gPSBuLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZm0ubmFtZSA9PT0gdW5kZWZpbmVkIHx8IGZtLm5hbWUgPT09IG51bGwgfHwgZm0ubmFtZSA9PT0gXCJcIikge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgZmllbGQgJ25hbWUnIGZvcjogJHtuLmZpbGUucGF0aH1gKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFxuXHRcdFx0XHRmbS5hcmVhcyA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdGZtLmFyZWFzID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0Zm0uYXJlYXMubGVuZ3RoID09PSAwXG5cdFx0XHQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFyZWEgbm90ZTogJHtuLmZpbGUucGF0aH1gKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZG9tYWluID0gYGRvbWFpbi8ke2ZtLm5hbWV9YDtcblxuXHRcdFx0aWYgKGRvbWFpbk1hcFtkb21haW5dID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0ZG9tYWluTWFwW2RvbWFpbl0gPSBbXTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChjb25zdCBhcmVhIG9mIGZtLmFyZWFzKSB7XG5cdFx0XHRcdGlmICghZG9tYWluTWFwW2RvbWFpbl0uY29udGFpbnMoYXJlYSkpIHtcblx0XHRcdFx0XHRkb21haW5NYXBbZG9tYWluXS5wdXNoKGFyZWEpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFyZWFNYXBbYXJlYV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGFyZWFNYXBbYXJlYV0gPSBbZG9tYWluXTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhcmVhTWFwW2FyZWFdLnB1c2goZG9tYWluKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHQvL1xuXHRcdC8vIGNvbnN0IGRvbWFpbnMgPSBPYmplY3Qua2V5cyhkb21haW5NYXApO1xuXHRcdC8vIGRvbWFpbnMuc29ydCgpO1xuXHRcdC8vIGZvciAoY29uc3QgZG9tYWluIG9mIGRvbWFpbnMpIHtcblx0XHQvLyAgIGR2LmhlYWRlcigyLCBkb21haW4pO1xuXHRcdC8vICAgZm9yIChjb25zdCBhcmVhIG9mIGRvbWFpbk1hcFtkb21haW5dKSB7XG5cdFx0Ly8gICAgIGR2LmhlYWRlcigzLCBhcmVhKTtcblx0XHQvLyAgIH1cblx0XHQvLyB9XG5cblx0XHQvLyBjb25zdCBhcmVhcyA9IE9iamVjdC5rZXlzKGFyZWFNYXApO1xuXHRcdC8vIGFyZWFzLnNvcnQoKTtcblx0XHQvLyBmb3IgKGNvbnN0IGFyZWEgb2YgYXJlYXMpIHtcblx0XHQvLyAgIGR2LmhlYWRlcigyLCBhcmVhKTtcblx0XHQvLyAgIGZvciAoY29uc3QgZG9tYWluIG9mIGFyZWFNYXBbYXJlYV0pIHtcblx0XHQvLyAgICAgZHYuaGVhZGVyKDMsIGRvbWFpbik7XG5cdFx0Ly8gICB9XG5cdFx0Ly8gfVxuXG5cdFx0cmV0dXJuIFtkb21haW5NYXAsIGFyZWFNYXBdO1xuXHR9XG5cblx0aW5kZXhDb21tb24ocGF0aDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgYmlucyA9IHt9O1xuXHRcdC8vIGRvbWFpbk1hcCBkb21haW4gLT4gW2FyZWFzXVxuXHRcdC8vIGFyZWFNYXAgYXJlYSAtPiBbZG9tYWluc11cblx0XHRjb25zdCBbZG9tYWluTWFwLCBhcmVhTWFwXSA9IHRoaXMuaW5kZXhBcmVhRG9tYWluTWFwKCk7XG5cdFx0Y29uc3Qgbm90ZXMgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7cGF0aH1cImApLmFycmF5KCk7XG5cdFx0Y29uc3QgcnMgPSBbXTtcblxuXHRcdGZvciAoY29uc3QgbiBvZiBub3Rlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZm0udGFncyA9PT0gdW5kZWZpbmVkIHx8IGZtLnRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBkb21haW4gPSBIZWxwZXIuZ2V0RG9tYWluKGZtKTtcblx0XHRcdGlmIChkb21haW4gPT09IFwiZG9tYWluL25vbmVcIikge1xuXHRcdFx0XHQvLyBjb250aW51ZTtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIE5vZGU6ICR7bi5maWxlLnBhdGh9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGNvbXBvbmVudHMgPSBbXTtcblxuXHRcdFx0Zm9yIChjb25zdCB0IG9mIGZtLnRhZ3MpIHtcblx0XHRcdFx0aWYgKHQubGVuZ3RoID4gMTAgJiYgdC5zbGljZSgwLCAxMCkgPT09IFwiY29tcG9uZW50L1wiKSB7XG5cdFx0XHRcdFx0Y29tcG9uZW50cy5wdXNoKHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjb21wb25lbnRzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRjb21wb25lbnRzLnB1c2goXCJjb21wb25lbnQvdW5rbm93blwiKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgYXJlYXMgPSBkb21haW5NYXBbZG9tYWluXTtcblx0XHRcdGlmIChhcmVhcyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRgUHJvZ3JhbW1pbmcgZXJyb3IgJ2FyZWFzJyBpcyB1bmRlZmluZWQgZm9yIGRvbWFpbjogJyR7ZG9tYWlufScgbm90ZTogJyR7bi5maWxlLnBhdGh9J2AsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoY29uc3QgYSBvZiBhcmVhcykge1xuXHRcdFx0XHRpZiAoYmluc1thXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Ymluc1thXSA9IHt9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Zm9yIChjb25zdCBkIG9mIGFyZWFNYXBbYV0pIHtcblx0XHRcdFx0XHRpZiAoYmluc1thXVtkXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRiaW5zW2FdW2RdID0ge307XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGQgIT09IGRvbWFpbikge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Zm9yIChjb25zdCBjIG9mIGNvbXBvbmVudHMpIHtcblx0XHRcdFx0XHRcdGlmIChiaW5zW2FdW2RdW2NdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0Ymluc1thXVtkXVtjXSA9IFtuXTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGJpbnNbYV1bZF1bY10ucHVzaChuKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBhcmVhcyA9IE9iamVjdC5rZXlzKGJpbnMpO1xuXHRcdGFyZWFzLnNvcnQoKTtcblx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAxLCBcIkNvbnRlbnRcIl0pO1xuXG5cdFx0Zm9yIChjb25zdCBhIG9mIGFyZWFzKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBhLnNsaWNlKDUpXSk7XG5cdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCBgIyR7YX1gXSk7XG5cdFx0XHRmb3IgKGNvbnN0IGQgb2YgYXJlYU1hcFthXSkge1xuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAzLCBkLnNsaWNlKDcpXSk7XG5cdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGAjJHtkfWBdKTtcblxuXHRcdFx0XHRjb25zdCBjb21wb25lbnRzID0gT2JqZWN0LmtleXMoYmluc1thXVtkXSk7XG5cdFx0XHRcdGNvbXBvbmVudHMuc29ydCgpO1xuXHRcdFx0XHRmb3IgKGNvbnN0IGMgb2YgY29tcG9uZW50cykge1xuXHRcdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDQsIGMuc2xpY2UoMTApXSk7XG5cdFx0XHRcdFx0cnMucHVzaChbXCJwYXJhZ3JhcGhcIiwgYCMke2N9YF0pO1xuXHRcdFx0XHRcdGNvbnN0IHRhc2tzID0gYmluc1thXVtkXVtjXTtcblxuXHRcdFx0XHRcdGZvciAoY29uc3QgdCBvZiB0YXNrcykge1xuXHRcdFx0XHRcdFx0cnMucHVzaChbXCJwYXJhZ3JhcGhcIiwgdGhpcy5kdi5maWxlTGluayh0LmZpbGUucGF0aCldKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRpbmRleFJlc291cmNlcygpIHtcblx0XHRyZXR1cm4gdGhpcy5pbmRleENvbW1vbihQYXRocy5SZXNvdXJjZXMpO1xuXHR9XG5cblx0aW5kZXhDb250ZW50KCkge1xuXHRcdHJldHVybiB0aGlzLmluZGV4Q29tbW9uKFBhdGhzLlJlZnMpO1xuXHR9XG5cblx0aW5kZXhLbm93bGVkZ2UoKSB7XG5cdFx0Y29uc3QgY3VyRm0gPSB0aGlzLmZyb250bWF0dGVyLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChjdXJGbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgYWxsQ29tcG9uZW50cyA9IFtdO1xuXHRcdGlmIChBcnJheS5pc0FycmF5KGN1ckZtLmNvbXBvbmVudHMpKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBjdXJGbS5jb21wb25lbnRzKSB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRjb21wb25lbnQubGVuZ3RoID4gMTAgJiZcblx0XHRcdFx0XHRjb21wb25lbnQuc2xpY2UoMCwgMTApID09PSBcImNvbXBvbmVudC9cIlxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRhbGxDb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhbGxDb21wb25lbnRzLnB1c2goYGNvbXBvbmVudC8ke2NvbXBvbmVudH1gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGFsbERvbWFpbnMgPSBbXTtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShjdXJGbS5kb21haW5zKSkge1xuXHRcdFx0Zm9yIChjb25zdCBkb21haW4gb2YgY3VyRm0uZG9tYWlucykge1xuXHRcdFx0XHRpZiAoZG9tYWluLmxlbmd0aCA+IDcgJiYgZG9tYWluLnNsaWNlKDAsIDcpID09PSBcImRvbWFpbi9cIikge1xuXHRcdFx0XHRcdGFsbERvbWFpbnMucHVzaChkb21haW4pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGFsbERvbWFpbnMucHVzaChgZG9tYWluLyR7ZG9tYWlufWApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgYmlucyA9IHt9O1xuXHRcdGxldCBncm91cEJ5ID0gXCJkb21haW5cIjtcblx0XHRpZiAoIUhlbHBlci5uaWxDaGVjayhjdXJGbS5ncm91cF9ieSkpIHtcblx0XHRcdGdyb3VwQnkgPSBjdXJGbS5ncm91cF9ieTtcblx0XHR9XG5cblx0XHRjb25zdCBbZG9tYWluTWFwLCBhcmVhTWFwXSA9IHRoaXMuaW5kZXhBcmVhRG9tYWluTWFwKCk7XG5cdFx0Y29uc3Qgbm90ZXMgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuU2xpcGJveH1cImApLmFycmF5KCk7XG5cblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGZvciAoY29uc3QgbiBvZiBub3Rlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZm0udGFncyA9PT0gdW5kZWZpbmVkIHx8IGZtLnRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBkb21haW4gPSBIZWxwZXIuZ2V0RG9tYWluKGZtKTtcblx0XHRcdGlmIChkb21haW4gPT09IFwiZG9tYWluL25vbmVcIikge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgTm9kZTogJHtuLmZpbGUucGF0aH1gKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFhbGxEb21haW5zLmNvbnRhaW5zKGRvbWFpbikpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGNvbXBvbmVudHMgPSBbXTtcblxuXHRcdFx0bGV0IGlzQ29udGVudCA9IGZhbHNlO1xuXHRcdFx0Zm9yIChjb25zdCB0IG9mIGZtLnRhZ3MpIHtcblx0XHRcdFx0aWYgKHQubGVuZ3RoID4gOCAmJiB0LnNsaWNlKDAsIDgpID09PSBcImNvbnRlbnQvXCIpIHtcblx0XHRcdFx0XHRpc0NvbnRlbnQgPSB0cnVlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0Lmxlbmd0aCA+IDEwICYmIHQuc2xpY2UoMCwgMTApID09PSBcImNvbXBvbmVudC9cIikge1xuXHRcdFx0XHRcdGNvbXBvbmVudHMucHVzaCh0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaXNDb250ZW50KSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY29tcG9uZW50cy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0Y29tcG9uZW50cy5wdXNoKFwiY29tcG9uZW50L3Vua25vd25cIik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChiaW5zW2RvbWFpbl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW2RvbWFpbl0gPSB7fTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChjb25zdCBjIG9mIGNvbXBvbmVudHMpIHtcblx0XHRcdFx0aWYgKGJpbnNbZG9tYWluXVtjXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Ymluc1tkb21haW5dW2NdID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0Ymluc1tkb21haW5dW2NdLnB1c2gobik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMSwgXCJJbmRleFwiXSk7XG5cdFx0aWYgKGdyb3VwQnkgPT09IFwiZG9tYWluXCIpIHtcblx0XHRcdGNvbnN0IGRvbWFpbnMgPSBPYmplY3Qua2V5cyhiaW5zKTtcblx0XHRcdGRvbWFpbnMuc29ydCgpO1xuXHRcdFx0Zm9yIChjb25zdCBkb21haW4gb2YgZG9tYWlucykge1xuXHRcdFx0XHRpZiAoZG9tYWluTWFwW2RvbWFpbl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIFwiRXJyb3JcIl0pO1xuXHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGBkb21haW46ICR7ZG9tYWlufSBpcyBub3QgaW4gbWFwYF0pO1xuXHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGAjJHtkb21haW59YF0pO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFsbERvbWFpbnMubGVuZ3RoID4gMCAmJiAhYWxsRG9tYWlucy5jb250YWlucyhkb21haW4pKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBkb21haW4uc2xpY2UoNyldKTtcblx0XHRcdFx0cnMucHVzaChbXCJwYXJhZ3JhcGhcIiwgYCMke2RvbWFpbn1gXSk7XG5cdFx0XHRcdGNvbnN0IGNvbXBvbmVudHNOYW1lc3BhY2UgPSBPYmplY3Qua2V5cyhiaW5zW2RvbWFpbl0pO1xuXHRcdFx0XHRjb21wb25lbnRzTmFtZXNwYWNlLnNvcnQoKTtcblx0XHRcdFx0Y29uc3QgY29tcG9uZW50cyA9IHt9O1xuXHRcdFx0XHRmb3IgKGNvbnN0IGNvbXBvbmVudE5hbWVzcGFjZSBvZiBjb21wb25lbnRzTmFtZXNwYWNlKSB7XG5cdFx0XHRcdFx0bGV0IGZyYWdtZW50ID0gXCJcIjtcblx0XHRcdFx0XHRjb25zdCBzID0gY29tcG9uZW50TmFtZXNwYWNlLnNwbGl0KFwiL1wiKTtcblx0XHRcdFx0XHRjb25zdCBjb21wb25lbnQgPSBzWzFdO1xuXHRcdFx0XHRcdGlmIChzLmxlbmd0aCA9PT0gMykge1xuXHRcdFx0XHRcdFx0ZnJhZ21lbnQgPSBzWzJdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoY29tcG9uZW50c1tjb21wb25lbnRdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGNvbXBvbmVudHNbY29tcG9uZW50XSA9IFtmcmFnbWVudF07XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbXBvbmVudHNbY29tcG9uZW50XS5wdXNoKGZyYWdtZW50KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBjbXAgPSBPYmplY3Qua2V5cyhjb21wb25lbnRzKTtcblx0XHRcdFx0Y21wLnNvcnQoKTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBjbXApIHtcblx0XHRcdFx0XHRjb25zdCBmcmFnbWVudHMgPSBjb21wb25lbnRzW2NvbXBvbmVudF07XG5cdFx0XHRcdFx0ZnJhZ21lbnRzLnNvcnQoKTtcblx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRhbGxDb21wb25lbnRzLmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0XHRcdCFhbGxDb21wb25lbnRzLmNvbnRhaW5zKGBjb21wb25lbnQvJHtjb21wb25lbnR9YClcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAzLCBjb21wb25lbnRdKTtcblx0XHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCBgI2NvbXBvbmVudC8ke2NvbXBvbmVudH1gXSk7XG5cblx0XHRcdFx0XHRpZiAoZnJhZ21lbnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgZnJhZ21lbnQgb2YgZnJhZ21lbnRzKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGtleSA9IGBjb21wb25lbnQvJHtjb21wb25lbnR9JHtmcmFnbWVudCA9PT0gXCJcIiA/IFwiXCIgOiBcIi9cIiArIGZyYWdtZW50XG5cdFx0XHRcdFx0XHRcdFx0fWA7XG5cdFx0XHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGAjJHtrZXl9YF0pO1xuXHRcdFx0XHRcdFx0XHRjb25zdCB0YXNrcyA9IGJpbnNbZG9tYWluXVtrZXldO1xuXHRcdFx0XHRcdFx0XHRpZiAodGFza3MgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0XHRcdHJzLnB1c2goW1xuXHRcdFx0XHRcdFx0XHRcdFx0XCJhcnJheVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0UmVuZGVyZXIua25vd2xlZGdlRnVsbCxcblx0XHRcdFx0XHRcdFx0XHRcdHRhc2tzLFxuXHRcdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnN0IGtleSA9IGBjb21wb25lbnQvJHtjb21wb25lbnR9YDtcblx0XHRcdFx0XHRcdGNvbnN0IHRhc2tzID0gYmluc1tkb21haW5dW2tleV07XG5cdFx0XHRcdFx0XHRpZiAodGFza3MgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmtub3dsZWRnZUZ1bGwsIHRhc2tzXSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChncm91cEJ5ID09PSBcImNvbXBvbmVudFwiKSB7XG5cdFx0XHRjb25zdCBidWZmID0ge307XG5cdFx0XHRmb3IgKGNvbnN0IGRvbWFpbiBvZiBPYmplY3Qua2V5cyhiaW5zKSkge1xuXHRcdFx0XHRmb3IgKGNvbnN0IGNvbXBvbmVudE5hbWVzcGFjZSBvZiBPYmplY3Qua2V5cyhiaW5zW2RvbWFpbl0pKSB7XG5cdFx0XHRcdFx0bGV0IGZyYWdtZW50ID0gXCJcIjtcblx0XHRcdFx0XHRjb25zdCBzID0gY29tcG9uZW50TmFtZXNwYWNlLnNwbGl0KFwiL1wiKTtcblx0XHRcdFx0XHRjb25zdCBjb21wb25lbnQgPSBzWzFdO1xuXHRcdFx0XHRcdGlmIChzLmxlbmd0aCA9PT0gMykge1xuXHRcdFx0XHRcdFx0ZnJhZ21lbnQgPSBzWzJdO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChidWZmW2NvbXBvbmVudF0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0YnVmZltjb21wb25lbnRdID0ge307XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChidWZmW2NvbXBvbmVudF1bZnJhZ21lbnRdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGJ1ZmZbY29tcG9uZW50XVtmcmFnbWVudF0gPSB7fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGJ1ZmZbY29tcG9uZW50XVtmcmFnbWVudF1bZG9tYWluXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRidWZmW2NvbXBvbmVudF1bZnJhZ21lbnRdW2RvbWFpbl0gPSBbXG5cdFx0XHRcdFx0XHRcdC4uLmJpbnNbZG9tYWluXVtjb21wb25lbnROYW1lc3BhY2VdLFxuXHRcdFx0XHRcdFx0XTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCB0YXNrIG9mIGJpbnNbZG9tYWluXVtjb21wb25lbnROYW1lc3BhY2VdKSB7XG5cdFx0XHRcdFx0XHRcdGJ1ZmZbY29tcG9uZW50XVtmcmFnbWVudF1bZG9tYWluXS5wdXNoKHRhc2spO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBjb21wb25lbnRzID0gT2JqZWN0LmtleXMoYnVmZik7XG5cdFx0XHRjb21wb25lbnRzLnNvcnQoKTtcblx0XHRcdGZvciAoY29uc3QgY29tcG9uZW50IG9mIGNvbXBvbmVudHMpIHtcblx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgY29tcG9uZW50XSk7XG5cdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGAjY29tcG9uZW50LyR7Y29tcG9uZW50fWBdKTtcblx0XHRcdFx0Y29uc3QgZnJhZ21lbnRzID0gT2JqZWN0LmtleXMoYnVmZltjb21wb25lbnRdKTtcblx0XHRcdFx0ZnJhZ21lbnRzLnNvcnQoKTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IGZyYWdtZW50IG9mIGZyYWdtZW50cykge1xuXHRcdFx0XHRcdGlmIChmcmFnbWVudCAhPT0gXCJcIikge1xuXHRcdFx0XHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFx0XHRcdFwicGFyYWdyYXBoXCIsXG5cdFx0XHRcdFx0XHRcdGAjY29tcG9uZW50LyR7Y29tcG9uZW50fS8ke2ZyYWdtZW50fWAsXG5cdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb25zdCBkb21haW5zID0gT2JqZWN0LmtleXMoYnVmZltjb21wb25lbnRdW2ZyYWdtZW50XSk7XG5cdFx0XHRcdFx0ZG9tYWlucy5zb3J0KCk7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBkb21haW4gb2YgZG9tYWlucykge1xuXHRcdFx0XHRcdFx0Ly8gaWYgKFxuXHRcdFx0XHRcdFx0Ly8gXHRhbGxEb21haW5zLmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0XHRcdC8vIFx0IWFsbERvbWFpbnMuY29udGFpbnMoZG9tYWluKVxuXHRcdFx0XHRcdFx0Ly8gKSB7XG5cdFx0XHRcdFx0XHQvLyBcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0Ly8gfVxuXG5cdFx0XHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAzLCBkb21haW4uc2xpY2UoNyldKTtcblx0XHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGAjJHtkb21haW59YF0pO1xuXHRcdFx0XHRcdFx0Y29uc3QgdGFza3MgPSBidWZmW2NvbXBvbmVudF1bZnJhZ21lbnRdW2RvbWFpbl07XG5cblx0XHRcdFx0XHRcdGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuXHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcInBhcmFncmFwaFwiLFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuZHYuZmlsZUxpbmsodGFzay5maWxlLnBhdGgpLFxuXHRcdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3Qgb250b2xvZ3lNYXAgPSB7fTtcblx0XHRcdGNvbnN0IHBhZ2VzID0ge307XG5cdFx0XHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYmlucyk7XG5cdFx0XHRrZXlzLnNvcnQoKTtcblx0XHRcdGZvciAoY29uc3QgZG9tYWluIG9mIGtleXMpIHtcblx0XHRcdFx0Y29uc3Qga2V5czIgPSBPYmplY3Qua2V5cyhiaW5zW2RvbWFpbl0pO1xuXHRcdFx0XHRrZXlzMi5zb3J0KCk7XG5cdFx0XHRcdGZvciAoY29uc3QgY29tcG9uZW50IG9mIGtleXMyKSB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCB0YXNrIG9mIGJpbnNbZG9tYWluXVtjb21wb25lbnRdKSB7XG5cdFx0XHRcdFx0XHRpZiAodGFzay5maWxlLmZyb250bWF0dGVyLnV1aWQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdFx0XHRcdHBhZ2VzW3Rhc2suZmlsZS5mcm9udG1hdHRlci51dWlkXSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRwYWdlc1t0YXNrLmZpbGUuZnJvbnRtYXR0ZXIudXVpZF0gPSB0YXNrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBrZXlzMyA9IE9iamVjdC5rZXlzKHBhZ2VzKTtcblx0XHRcdGtleXMzLnNvcnQoKTtcblxuXHRcdFx0Zm9yIChjb25zdCB1dWlkIG9mIGtleXMzKSB7XG5cdFx0XHRcdGNvbnN0IHBhZ2UgPSBwYWdlc1t1dWlkXTtcblx0XHRcdFx0Y29uc3QgZm0gPSBwYWdlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGNvbnN0IGRvbWFpbiA9IEhlbHBlci5nZXREb21haW4oZm0pO1xuXHRcdFx0XHRjb25zdCBjb21wb25lbnRzID0gW107XG5cdFx0XHRcdGZvciAoY29uc3QgdGFnIG9mIGZtLnRhZ3MpIHtcblx0XHRcdFx0XHRpZiAodGFnLmxlbmd0aCA+IDEwICYmIHRhZy5zbGljZSgwLCAxMCkgPT09IFwiY29tcG9uZW50L1wiKSB7XG5cdFx0XHRcdFx0XHRjb21wb25lbnRzLnB1c2godGFnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0bGV0IHMgPSBcIlwiO1xuXHRcdFx0XHRzICs9IGAke2RvbWFpbn1cXG5gO1xuXHRcdFx0XHRjb21wb25lbnRzLnNvcnQoKTtcblx0XHRcdFx0Zm9yIChjb25zdCBjb21wb25lbnQgb2YgY29tcG9uZW50cykge1xuXHRcdFx0XHRcdHMgKz0gYCR7Y29tcG9uZW50fVxcbmA7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3Qga2V5ID0gcztcblx0XHRcdFx0aWYgKG9udG9sb2d5TWFwW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG9udG9sb2d5TWFwW2tleV0gPSBbcGFnZV07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0b250b2xvZ3lNYXBba2V5XS5wdXNoKHBhZ2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGtleXM0ID0gT2JqZWN0LmtleXMob250b2xvZ3lNYXApO1xuXHRcdFx0a2V5czQuc29ydCgoYSwgYikgPT4gb250b2xvZ3lNYXBbYV0ubGVuZ3RoIC0gb250b2xvZ3lNYXBbYl0ubGVuZ3RoKTtcblx0XHRcdGZvciAoY29uc3Qga2V5IG9mIGtleXM0LnJldmVyc2UoKSkge1xuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBrZXldKTtcblx0XHRcdFx0Zm9yIChjb25zdCBwYWdlIG9mIG9udG9sb2d5TWFwW2tleV0pIHtcblx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFwicGFyYWdyYXBoXCIsXG5cdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRCh0aGlzLmR2LCBwYWdlLmZpbGUpLFxuXHRcdFx0XHRcdF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNvbnN0IG15dXVpZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0Z2V0UHJvamVjdFRhc2tzKHByb2plY3Q6IHN0cmluZykge1xuXHRcdHJldHVybiB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKS53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0Y29uc3QgZm0gPSBwYWdlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAocGFnZS50eXBlICE9PSBUeXBlcy5UYXNrICYmIHBhZ2UudHlwZSAhPT0gVHlwZXMuTWVkaWEpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKFxuXHRcdFx0XHRIZWxwZXIuZ2V0UHJvamVjdChmbSkgIT09XG5cdFx0XHRcdGAke05hbWVzcGFjZS5Qcm9qZWN0fS8ke3Byb2plY3QgPT09IFwiYWRob2NcIiA/IFwibm9uZVwiIDogcHJvamVjdH1gXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGZtLnN0YXR1cyA9PT0gU3RhdHVzLkRvbmUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cdH1cblxuXHRwcm9qZWN0VGFza3NTaGVldFJlbGF0aW9uRnJvbnRtYXR0ZXIoZHYpIHtcblx0XHRjb25zdCBjdXJyZW50ID0gZHYuY3VycmVudCgpO1xuXHRcdC8vIGRjb25zdCBmbWwgPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhjdXJyZW50KTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRuYW1lOiBmbS5nZXROYW1lKCksXG5cdFx0XHR1dWlkOiBmbS51dWlkLFxuXHRcdH07XG5cdH1cblxuXHRjb250ZXh0VGFza3NTaGVldChkdikge1xuXHRcdC8vIGNvbnN0IHByb2plY3QgPSB0aGlzLnByb2plY3RUYXNrc1NoZWV0UmVsYXRpb25Gcm9udG1hdHRlcihkdik7XG5cdFx0Y29uc3QgbWluUHJpb3JpdHkgPSAwO1xuXG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHQvLyBycy5wdXNoKFtcImhlYWRlclwiLCAyLCBwcm9qZWN0Lm5hbWVdKTtcblxuXHRcdGNvbnN0IGJpbnMgPSB7XG5cdFx0XHRkb2FibGU6IFtdLFxuXHRcdFx0d2FpdGluZzogW10sXG5cdFx0XHRqb3VybmFsOiBbXSxcblx0XHR9O1xuXG5cdFx0Ly8gY29uc3QgdGFza3MgPSB0aGlzLmdldFByb2plY3RUYXNrcyhwcm9qZWN0Lm5hbWUpO1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGNvbnN0IGZtID0gcGFnZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKHBhZ2UudHlwZSAhPT0gVHlwZXMuVGFzayAmJiBwYWdlLnR5cGUgIT09IFR5cGVzLk1lZGlhKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGZtLnN0YXR1cyA9PT0gU3RhdHVzLkRvbmUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBmbWpzID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRpZiAoZm1qcy5nZXRDb250ZXh0KCkgIT09IGBvdXRzaWRlYCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0Zm9yIChjb25zdCB0YXNrIG9mIHBhZ2VzKSB7XG5cdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblxuXHRcdFx0aWYgKGZtLnByaW9yaXR5ICE9PSB1bmRlZmluZWQgJiYgZm0ucHJpb3JpdHkgPCBtaW5Qcmlvcml0eSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMubm90ZUhlbHBlci5pc0RvYWJsZSh0YXNrKSkge1xuXHRcdFx0XHRiaW5zLmRvYWJsZS5wdXNoKHRhc2spO1xuXHRcdFx0fSBlbHNlIGlmIChmbS5zdGF0dXMgPT09IFN0YXR1cy5Ub2RvKSB7XG5cdFx0XHRcdGJpbnMud2FpdGluZy5wdXNoKHRhc2spO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGJpbnMuZG9hYmxlLmxlbmd0aCA+IDApIHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGBOZXh0IEFjdGlvbnMgKCR7Ymlucy5kb2FibGUubGVuZ3RofSlgXSk7XG5cdFx0XHRiaW5zLmRvYWJsZS5zb3J0KFxuXHRcdFx0XHQoYSwgYikgPT5cblx0XHRcdFx0XHQoYS5maWxlLmZyb250bWF0dGVyLnByaW9yaXR5IC1cblx0XHRcdFx0XHRcdGIuZmlsZS5mcm9udG1hdHRlci5wcmlvcml0eSkgKlxuXHRcdFx0XHRcdC0xLFxuXHRcdFx0KTtcblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNUYXNrSm91cm5hbCwgYmlucy5kb2FibGVdKTtcblx0XHR9XG5cblx0XHQvLyBjb25zb2xlLmxvZyhiaW5zLndhaXRpbmcpO1xuXHRcdGlmIChiaW5zLndhaXRpbmcubGVuZ3RoID4gMCkge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYFdhaXRpbmcgKCR7Ymlucy53YWl0aW5nLmxlbmd0aH0pYF0pO1xuXHRcdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdFx0Zm9yIChjb25zdCB0YXNrIG9mIGJpbnMud2FpdGluZykge1xuXHRcdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdFx0Ly8gaWYgKGZtLm5lZWRzICE9PSB1bmRlZmluZWQgJiYgZm0ubmVlZHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHQvLyBcdGZtLmNhdXNlID0gZm0ubmVlZHM7XG5cdFx0XHRcdC8vIH0gZWxzZSBpZiAoZm0uYWZ0ZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHQvLyBcdGZtLmNhdXNlID0gYGFmdGVyOiAke2ZtLmFmdGVyfWA7XG5cdFx0XHRcdC8vIH0gZWxzZSB7XG5cdFx0XHRcdC8vIFx0Zm0uY2F1c2UgPSBcInVua25vd25cIjtcblx0XHRcdFx0Ly8gfVxuXHRcdFx0XHRmbS5jYXVzZSA9IFwidW5rbm93blwiO1xuXHRcdFx0XHRidWZmLnB1c2godGFzayk7XG5cdFx0XHR9XG5cblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIud2FpdGluZ1Rhc2ssIGJ1ZmZdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRwcm9qZWN0VGFza3NTaGVldFJlbGF0aW9uKGR2KSB7XG5cdFx0Y29uc3QgcHJvamVjdCA9IHRoaXMucHJvamVjdFRhc2tzU2hlZXRSZWxhdGlvbkZyb250bWF0dGVyKGR2KTtcblx0XHRjb25zdCBtaW5Qcmlvcml0eSA9IDA7XG5cblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdC8vIHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIHByb2plY3QubmFtZV0pO1xuXG5cdFx0Y29uc3QgYmlucyA9IHtcblx0XHRcdG5leHRBY3Rpb246IFtdLFxuXHRcdFx0ZG9hYmxlOiBbXSxcblx0XHRcdHdhaXRpbmc6IFtdLFxuXHRcdFx0am91cm5hbDogW10sXG5cdFx0XHRtYXliZTogW10sXG5cdFx0fTtcblxuXHRcdGNvbnN0IHRhc2tzID0gdGhpcy5nZXRQcm9qZWN0VGFza3MocHJvamVjdC5uYW1lKTtcblxuXHRcdGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuXHRcdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cblx0XHRcdGlmIChmbS5wcmlvcml0eSAhPT0gdW5kZWZpbmVkICYmIGZtLnByaW9yaXR5IDwgbWluUHJpb3JpdHkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLm5vdGVIZWxwZXIuaXNEb2FibGUodGFzaykpIHtcblx0XHRcdFx0aWYgKGZtLnByaW9yaXR5ID09IDkpIHtcblx0XHRcdFx0XHRiaW5zLm5leHRBY3Rpb24ucHVzaCh0YXNrKTtcblx0XHRcdFx0fSBlbHNlIGlmIChmbS5wcmlvcml0eSA+IDApIHtcblx0XHRcdFx0XHRiaW5zLmRvYWJsZS5wdXNoKHRhc2spO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJpbnMubWF5YmUucHVzaCh0YXNrKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChmbS5zdGF0dXMgPT09IFN0YXR1cy5Ub2RvKSB7XG5cdFx0XHRcdGJpbnMud2FpdGluZy5wdXNoKHRhc2spO1xuXHRcdFx0fSBlbHNlIGlmIChmbS5zdGF0dXMgPT09IFN0YXR1cy5Eb2luZykge1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGAke2ZtLnV1aWR9YCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0e1xuXHRcdFx0bGV0IHRvUmV2aWV3ID0gMDtcblx0XHRcdGNvbnN0IGxvZ3MgPSB0aGlzLmdldFByb2plY3RMb2dzKGR2LCBwcm9qZWN0KTtcblx0XHRcdGZvciAoY29uc3QgbG9nIG9mIGxvZ3MpIHtcblx0XHRcdFx0aWYgKGxvZy5maWxlLmZyb250bWF0dGVyLnJldmlld2VkIDwgMSkge1xuXHRcdFx0XHRcdHRvUmV2aWV3ICs9IDE7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gcnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYFBlbmRpbmcgTG9ncyAoJHt0b1Jldmlld30pYF0pO1xuXHRcdFx0Ly8gaWYgKHRvUmV2aWV3ID4gMCkge1xuXHRcdFx0Ly8gXHRycy5wdXNoKFtcblx0XHRcdC8vIFx0XHRcInBhcmFncmFwaFwiLFxuXHRcdFx0Ly8gXHRcdGBbWyR7UGF0aHMuUHJvamVjdHN9LyR7cHJvamVjdC5uYW1lID09PSBcImFkaG9jXCIgPyBcImFkIGhvY1wiIDogcHJvamVjdC5uYW1lXG5cdFx0XHQvLyBcdFx0fS9sb2dzXV1gLFxuXHRcdFx0Ly8gXHRdKTtcblx0XHRcdC8vIH1cblx0XHR9XG5cblx0XHQvLyByZXR1cm4gcnM7XG5cdFx0Ly8gZ3JvdXBCeSBsYXllciwgPz9cblx0XHRpZiAoYmlucy5uZXh0QWN0aW9uLmxlbmd0aCA+IDApIHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGBOZXh0IEFjdGlvbnMgKCR7Ymlucy5kb2FibGUubGVuZ3RofSlgXSk7XG5cdFx0XHRiaW5zLm5leHRBY3Rpb24uc29ydChcblx0XHRcdFx0KGEsIGIpID0+XG5cdFx0XHRcdFx0KGEuZmlsZS5mcm9udG1hdHRlci5wcmlvcml0eSAtXG5cdFx0XHRcdFx0XHRiLmZpbGUuZnJvbnRtYXR0ZXIucHJpb3JpdHkpICpcblx0XHRcdFx0XHQtMSxcblx0XHRcdCk7XG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmJhc2ljVGFza0pvdXJuYWwsIGJpbnMubmV4dEFjdGlvbl0pO1xuXHRcdH1cblxuXHRcdGlmIChiaW5zLmRvYWJsZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgRG9hYmxlICgke2JpbnMuZG9hYmxlLmxlbmd0aH0pYF0pO1xuXHRcdFx0Ymlucy5kb2FibGUuc29ydChcblx0XHRcdFx0KGEsIGIpID0+XG5cdFx0XHRcdFx0KGEuZmlsZS5mcm9udG1hdHRlci5wcmlvcml0eSAtXG5cdFx0XHRcdFx0XHRiLmZpbGUuZnJvbnRtYXR0ZXIucHJpb3JpdHkpICpcblx0XHRcdFx0XHQtMSxcblx0XHRcdCk7XG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmJhc2ljVGFza0pvdXJuYWwsIGJpbnMuZG9hYmxlXSk7XG5cdFx0fVxuXG5cdFx0aWYgKGJpbnMud2FpdGluZy5sZW5ndGggPiAwKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgV2FpdGluZyAoJHtiaW5zLndhaXRpbmcubGVuZ3RofSlgXSk7XG5cdFx0XHRjb25zdCBidWZmID0gW107XG5cdFx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgYmlucy53YWl0aW5nKSB7XG5cdFx0XHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAoZm0ubmVlZHMgIT09IHVuZGVmaW5lZCAmJiBmbS5uZWVkcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0Zm0uY2F1c2UgPSBmbS5uZWVkcztcblx0XHRcdFx0fSBlbHNlIGlmIChmbS5hZnRlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Zm0uY2F1c2UgPSBgYWZ0ZXI6ICR7Zm0uYWZ0ZXJ9YDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmbS5jYXVzZSA9IFwidW5rbm93blwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJ1ZmYucHVzaCh0YXNrKTtcblx0XHRcdH1cblxuXHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci53YWl0aW5nVGFzaywgYnVmZl0pO1xuXHRcdH1cblxuXHRcdGlmIChiaW5zLm1heWJlLmxlbmd0aCA+IDApIHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGBNYXliZWBdKTtcblx0XHRcdGJpbnMubWF5YmUuc29ydChcblx0XHRcdFx0KGEsIGIpID0+XG5cdFx0XHRcdFx0KGEuZmlsZS5mcm9udG1hdHRlci5wcmlvcml0eSAtXG5cdFx0XHRcdFx0XHRiLmZpbGUuZnJvbnRtYXR0ZXIucHJpb3JpdHkpICpcblx0XHRcdFx0XHQtMSxcblx0XHRcdCk7XG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLnJlYWR5VGFzaywgYmlucy5tYXliZV0pO1xuXHRcdFx0Ly8gcnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5iYXNpY1Rhc2ssIGJpbnMuZG9hYmxlXSk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApXG5cdFx0XHQud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdFx0Y29uc3QgZm0gPSBwYWdlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGlmIChwYWdlLnR5cGUgIT09IFR5cGVzLlByYXhpcykge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0SGVscGVyLmdldFByb2plY3QoZm0pICE9PVxuXHRcdFx0XHRcdGAke05hbWVzcGFjZS5Qcm9qZWN0fS8ke3Byb2plY3QubmFtZSA9PT0gXCJhZGhvY1wiID8gXCJub25lXCIgOiBwcm9qZWN0Lm5hbWVcblx0XHRcdFx0XHR9YFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGZtLnN0YXR1cyA9PT0gU3RhdHVzLkRvbmUpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9KVxuXHRcdFx0LmFycmF5KCk7XG5cblx0XHRpZiAocGFnZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMywgXCJQcmF4aXNcIl0pO1xuXHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5wcmF4aXNCYXNlLCBwYWdlc10pO1xuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdHByb2plY3RMb2dzU2hlZXRSZWxhdGlvbihkdikge1xuXHRcdGNvbnN0IHByb2plY3QgPSB0aGlzLnByb2plY3RUYXNrc1NoZWV0UmVsYXRpb25Gcm9udG1hdHRlcihkdik7XG5cblx0XHQvLyBjb25zdCBmaWx0ZXJCeSA9IHRoaXMuZnJvbnRtYXR0ZXIucGFyc2VMaXN0RmlsdGVyQnkoZm1sKTtcblx0XHRjb25zdCBmaWx0ZXJCeSA9IFtdO1xuXHRcdGNvbnN0IHJzID0gW107XG5cblx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBcIkxvZ3NcIl0pO1xuXG5cdFx0Y29uc3QgbG9ncyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5Mb2dzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGlmIChwYWdlLnR5cGUgIT09IFR5cGVzLkxvZykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLnJldmlld2VkID4gMCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSB7fTtcblx0XHRmb3IgKGNvbnN0IGUgb2YgbG9ncykge1xuXHRcdFx0Y29uc3QgZm0gPSBlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZmlsdGVyQnkubGVuZ3RoID4gMCAmJiAhdGhpcy5uYW1lSW5OYW1lc3BhY2UoZm0sIGZpbHRlckJ5KSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Zm0uY3JlYXRlZEF0ID0gdGhpcy5mcm9udG1hdHRlci5nZXRDcmVhdGVkQXQoZS5maWxlKTtcblx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHQhSGVscGVyLm5pbENoZWNrKGZtLnBhcmVudF9pZCksXG5cdFx0XHRcdGBNaXNzaW5nIGZpZWxkIFwicGFyZW50X2lkXCIgZnJvbSBsb2c6IFwiJHtmbS51dWlkfVwiYCxcblx0XHRcdCk7XG5cdFx0XHRjb25zdCBwYXJlbnQgPSB0aGlzLmR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2ZtLnBhcmVudF9pZH1cImApXG5cdFx0XHRcdC5hcnJheSgpO1xuXHRcdFx0aWYgKHBhcmVudC5sZW5ndGggIT09IDEpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0cGFyZW50Lmxlbmd0aCA9PT0gMSxcblx0XHRcdFx0YFBhcmVudDogJHtmbS5wYXJlbnRfaWR9IG5vdCBmb3VuZCBmb3IgbG9nOiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHQpO1xuXHRcdFx0Zm0ucHJvamVjdCA9IEhlbHBlci5nZXRQcm9qZWN0KHBhcmVudFswXS5maWxlLmZyb250bWF0dGVyKTtcblx0XHRcdGZtLmFyZWEgPSBIZWxwZXIuZ2V0QXJlYShwYXJlbnRbMF0uZmlsZS5mcm9udG1hdHRlciwgdHJ1ZSk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGZtLnByb2plY3QgIT09XG5cdFx0XHRcdGBwcm9qZWN0LyR7cHJvamVjdC5uYW1lID09PSBcImFkaG9jXCIgPyBcIm5vbmVcIiA6IHByb2plY3QubmFtZX1gXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZm0uZG9uZV9hdCkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBkYXRlID0gZm0uZG9uZV9hdC5zbGljZSgwLCAxMCk7XG5cblx0XHRcdGlmIChidWZmW2RhdGVdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0YnVmZltkYXRlXSA9IFtlXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJ1ZmZbZGF0ZV0ucHVzaChlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYnVmZik7XG5cdFx0a2V5cy5zb3J0KCk7XG5cdFx0Zm9yIChjb25zdCBkYXRlIG9mIGtleXMpIHtcblx0XHRcdGJ1ZmZbZGF0ZV0uc29ydChcblx0XHRcdFx0KGEsIGIpID0+XG5cdFx0XHRcdFx0Yi5maWxlLmZyb250bWF0dGVyLmNyZWF0ZWRBdC5nZXRUaW1lKCkgLVxuXHRcdFx0XHRcdGEuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQuZ2V0VGltZSgpLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IGRhdGUgb2Yga2V5cy5yZXZlcnNlKCkpIHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDMsIGRhdGVdKTtcblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIucHJvamVjdExvZ3MsIGJ1ZmZbZGF0ZV1dKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblx0cHJvamVjdFRhc2tzU2hlZXQoZHYpIHtcblx0XHRjb25zdCBwcm9qZWN0ID0gdGhpcy5mcm9udG1hdHRlci5wcm9qZWN0UGFyc2VNZXRhKGR2KTtcblx0XHRjb25zdCBmbWwgPSB0aGlzLmZyb250bWF0dGVyLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChmbWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZyb250bWF0dGVyLCBjYW5ub3QgcHJvY2VlZGApO1xuXHRcdH1cblxuXHRcdGNvbnN0IG1pblByaW9yaXR5ID1cblx0XHRcdGZtbC5taW5fcHJpb3JpdHkgPT09IHVuZGVmaW5lZCA/IDAgOiBmbWwubWluX3ByaW9yaXR5O1xuXHRcdGNvbnN0IGpvdXJuYWwgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuSm91cm5hbH1cImApLmFycmF5KClbMF0uZmlsZVxuXHRcdFx0LmZyb250bWF0dGVyLnRhc2tzO1xuXG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAxLCBwcm9qZWN0Lm5hbWVdKTtcblxuXHRcdGNvbnN0IGJpbnMgPSB7XG5cdFx0XHRkb2FibGU6IFtdLFxuXHRcdFx0d2FpdGluZzogW10sXG5cdFx0XHRqb3VybmFsOiBbXSxcblx0XHRcdG1heWJlOiBbXSxcblx0XHRcdHByYXhpczogW10sXG5cdFx0fTtcblxuXHRcdGNvbnN0IHRhc2tzID0gdGhpcy5nZXRQcm9qZWN0VGFza3MocHJvamVjdC5uYW1lKTtcblxuXHRcdGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuXHRcdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cblx0XHRcdGlmIChmbS5wcmlvcml0eSAhPT0gdW5kZWZpbmVkICYmIGZtLnByaW9yaXR5IDwgbWluUHJpb3JpdHkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLm5vdGVIZWxwZXIuaXNEb2FibGUodGFzaykpIHtcblx0XHRcdFx0Ymlucy5kb2FibGUucHVzaCh0YXNrKTtcblx0XHRcdH0gZWxzZSBpZiAoZm0uc3RhdHVzID09PSBTdGF0dXMuVG9kbykge1xuXHRcdFx0XHRiaW5zLndhaXRpbmcucHVzaCh0YXNrKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJpbnMubWF5YmUucHVzaCh0YXNrKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR7XG5cdFx0XHRsZXQgdG9SZXZpZXcgPSAwO1xuXHRcdFx0Y29uc3QgbG9ncyA9IHRoaXMuZ2V0UHJvamVjdExvZ3MoZHYsIHByb2plY3QpO1xuXHRcdFx0Zm9yIChjb25zdCBsb2cgb2YgbG9ncykge1xuXHRcdFx0XHRpZiAobG9nLmZpbGUuZnJvbnRtYXR0ZXIucmV2aWV3ZWQgPCAxKSB7XG5cdFx0XHRcdFx0dG9SZXZpZXcgKz0gMTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYFBlbmRpbmcgTG9ncyAoJHt0b1Jldmlld30pYF0pO1xuXHRcdFx0aWYgKHRvUmV2aWV3ID4gMCkge1xuXHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcInBhcmFncmFwaFwiLFxuXHRcdFx0XHRcdGBbWyR7UGF0aHMuUHJvamVjdHN9LyR7cHJvamVjdC5uYW1lID09PSBcImFkaG9jXCIgPyBcImFkIGhvY1wiIDogcHJvamVjdC5uYW1lXG5cdFx0XHRcdFx0fS9sb2dzXV1gLFxuXHRcdFx0XHRdKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gZ3JvdXBCeSBsYXllciwgPz9cblx0XHRpZiAoYmlucy5kb2FibGUubGVuZ3RoID4gMCkge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYE5leHQgQWN0aW9ucyAoJHtiaW5zLmRvYWJsZS5sZW5ndGh9KWBdKTtcblx0XHRcdGJpbnMuZG9hYmxlLnNvcnQoXG5cdFx0XHRcdChhLCBiKSA9PlxuXHRcdFx0XHRcdChhLmZpbGUuZnJvbnRtYXR0ZXIucHJpb3JpdHkgLVxuXHRcdFx0XHRcdFx0Yi5maWxlLmZyb250bWF0dGVyLnByaW9yaXR5KSAqXG5cdFx0XHRcdFx0LTEsXG5cdFx0XHQpO1xuXHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5iYXNpY1Rhc2tKb3VybmFsLCBiaW5zLmRvYWJsZV0pO1xuXHRcdH1cblxuXHRcdGlmIChiaW5zLndhaXRpbmcubGVuZ3RoID4gMCkge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYFdhaXRpbmcgKCR7Ymlucy53YWl0aW5nLmxlbmd0aH0pYF0pO1xuXHRcdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdFx0Zm9yIChjb25zdCB0YXNrIG9mIGJpbnMud2FpdGluZykge1xuXHRcdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdFx0aWYgKGZtLm5lZWRzICE9PSB1bmRlZmluZWQgJiYgZm0ubmVlZHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGZtLmNhdXNlID0gZm0ubmVlZHM7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZm0uYWZ0ZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGZtLmNhdXNlID0gYGFmdGVyOiAke2ZtLmFmdGVyfWA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm0uY2F1c2UgPSBcInVua25vd25cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRidWZmLnB1c2godGFzayk7XG5cdFx0XHR9XG5cblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIud2FpdGluZ1Rhc2ssIGJ1ZmZdKTtcblx0XHR9XG5cblx0XHRpZiAoYmlucy5tYXliZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgTWF5YmVgXSk7XG5cdFx0XHRiaW5zLm1heWJlLnNvcnQoXG5cdFx0XHRcdChhLCBiKSA9PlxuXHRcdFx0XHRcdChhLmZpbGUuZnJvbnRtYXR0ZXIucHJpb3JpdHkgLVxuXHRcdFx0XHRcdFx0Yi5maWxlLmZyb250bWF0dGVyLnByaW9yaXR5KSAqXG5cdFx0XHRcdFx0LTEsXG5cdFx0XHQpO1xuXHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5yZWFkeVRhc2ssIGJpbnMubWF5YmVdKTtcblx0XHRcdC8vIHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNUYXNrLCBiaW5zLmRvYWJsZV0pO1xuXHRcdH1cblxuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZtID0gcGFnZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAocGFnZS50eXBlICE9PSBUeXBlcy5QcmF4aXMpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdEhlbHBlci5nZXRQcm9qZWN0KGZtKSAhPT1cblx0XHRcdFx0XHRgJHtOYW1lc3BhY2UuUHJvamVjdH0vJHtwcm9qZWN0Lm5hbWUgPT09IFwiYWRob2NcIiA/IFwibm9uZVwiIDogcHJvamVjdC5uYW1lXG5cdFx0XHRcdFx0fWBcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChmbS5zdGF0dXMgPT09IFN0YXR1cy5Eb25lKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSlcblx0XHRcdC5hcnJheSgpO1xuXG5cdFx0aWYgKHBhZ2VzLmxlbmd0aCA+IDApIHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDMsIFwiUHJheGlzXCJdKTtcblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIucHJheGlzQmFzZSwgcGFnZXNdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRnZXRQcm9qZWN0TG9ncyhkdiwgcHJvamVjdCkge1xuXHRcdGNvbnN0IGxvZ3MgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc31cImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRpZiAocGFnZS50eXBlICE9PSBUeXBlcy5Mb2cpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCBlIG9mIGxvZ3MpIHtcblx0XHRcdGNvbnN0IGZtID0gZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0ucGFyZW50X2lkKSxcblx0XHRcdFx0YE1pc3NpbmcgZmllbGQgXCJwYXJlbnRfaWRcIiBmcm9tIGxvZzogXCIke2ZtLnV1aWR9XCJgLFxuXHRcdFx0KTtcblx0XHRcdGNvbnN0IHBhcmVudCA9IHRoaXMuZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9LyR7Zm0ucGFyZW50X2lkfVwiYClcblx0XHRcdFx0LmFycmF5KCk7XG5cdFx0XHRpZiAocGFyZW50Lmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdC8vIEFzc2VydC5UcnVlKFxuXHRcdFx0Ly8gXHRwYXJlbnQubGVuZ3RoID09PSAxLFxuXHRcdFx0Ly8gXHRgUGFyZW50OiAke2ZtLnBhcmVudF9pZH0gbm90IGZvdW5kIGZvciBsb2c6IFwiJHtmbS51dWlkfVwiYCxcblx0XHRcdC8vICk7XG5cdFx0XHRmbS5wcm9qZWN0ID0gSGVscGVyLmdldFByb2plY3QocGFyZW50WzBdLmZpbGUuZnJvbnRtYXR0ZXIpO1xuXHRcdFx0Zm0uYXJlYSA9IEhlbHBlci5nZXRBcmVhKHBhcmVudFswXS5maWxlLmZyb250bWF0dGVyLCB0cnVlKTtcblx0XHRcdGlmIChcblx0XHRcdFx0Zm0ucHJvamVjdCAhPT1cblx0XHRcdFx0YHByb2plY3QvJHtwcm9qZWN0Lm5hbWUgPT09IFwiYWRob2NcIiA/IFwibm9uZVwiIDogcHJvamVjdC5uYW1lfWBcblx0XHRcdCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKEhlbHBlci5uaWxDaGVjayhmbS5kb25lX2F0KSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGJ1ZmYucHVzaChlKTtcblx0XHR9XG5cdFx0cmV0dXJuIGJ1ZmY7XG5cdH1cblxuXHRwcm9qZWN0TG9nc1NoZWV0KGR2KSB7XG5cdFx0Y29uc3QgcHJvamVjdCA9IHRoaXMuZnJvbnRtYXR0ZXIucHJvamVjdFBhcnNlTWV0YShkdik7XG5cdFx0Y29uc3QgZm1sID0gdGhpcy5mcm9udG1hdHRlci5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm1sID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmcm9udG1hdHRlciwgY2Fubm90IHByb2NlZWRgKTtcblx0XHR9XG5cblx0XHRjb25zdCBiZWZvcmUgPSBIZWxwZXIubmlsQ2hlY2soZm1sLmJlZm9yZSlcblx0XHRcdD8gbmV3IERhdGUoMClcblx0XHRcdDogbmV3IERhdGUoZm1sLmJlZm9yZSk7XG5cdFx0Y29uc3QgYWZ0ZXIgPSBIZWxwZXIubmlsQ2hlY2soZm1sLmFmdGVyKVxuXHRcdFx0PyBuZXcgRGF0ZSgpXG5cdFx0XHQ6IG5ldyBEYXRlKGZtbC5hZnRlcik7XG5cblx0XHQvLyBjb25zb2xlLmxvZyhgYmVmb3JlOiAnJHtiZWZvcmV9J2ApO1xuXHRcdC8vIGNvbnNvbGUubG9nKGBhZnRlcjogJyR7YWZ0ZXJ9J2ApO1xuXHRcdGNvbnN0IGZpbHRlckJ5ID0gdGhpcy5mcm9udG1hdHRlci5wYXJzZUxpc3RGaWx0ZXJCeShmbWwpO1xuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0bGV0IHRvdGFsVGltZSA9IDA7XG5cdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMSwgcHJvamVjdC5uYW1lXSk7XG5cblx0XHRjb25zdCBsb2dzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLkxvZ3N9XCJgKS53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0aWYgKHBhZ2UudHlwZSAhPT0gVHlwZXMuTG9nKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgYnVmZiA9IHt9O1xuXHRcdGZvciAoY29uc3QgZSBvZiBsb2dzKSB7XG5cdFx0XHRjb25zdCBmbSA9IGUuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChmaWx0ZXJCeS5sZW5ndGggPiAwICYmICF0aGlzLm5hbWVJbk5hbWVzcGFjZShmbSwgZmlsdGVyQnkpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRmbS5jcmVhdGVkQXQgPSB0aGlzLmZyb250bWF0dGVyLmdldENyZWF0ZWRBdChlLmZpbGUpO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0ucGFyZW50X2lkKSxcblx0XHRcdFx0YE1pc3NpbmcgZmllbGQgXCJwYXJlbnRfaWRcIiBmcm9tIGxvZzogXCIke2ZtLnV1aWR9XCJgLFxuXHRcdFx0KTtcblx0XHRcdGNvbnN0IHBhcmVudCA9IHRoaXMuZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9LyR7Zm0ucGFyZW50X2lkfVwiYClcblx0XHRcdFx0LmFycmF5KCk7XG5cdFx0XHRpZiAocGFyZW50Lmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdC8vIEFzc2VydC5UcnVlKFxuXHRcdFx0Ly8gXHRwYXJlbnQubGVuZ3RoID09PSAxLFxuXHRcdFx0Ly8gXHRgUGFyZW50OiAke2ZtLnBhcmVudF9pZH0gbm90IGZvdW5kIGZvciBsb2c6IFwiJHtmbS51dWlkfVwiYCxcblx0XHRcdC8vICk7XG5cdFx0XHRmbS5wcm9qZWN0ID0gSGVscGVyLmdldFByb2plY3QocGFyZW50WzBdLmZpbGUuZnJvbnRtYXR0ZXIpO1xuXHRcdFx0Zm0uYXJlYSA9IEhlbHBlci5nZXRBcmVhKHBhcmVudFswXS5maWxlLmZyb250bWF0dGVyLCB0cnVlKTtcblx0XHRcdGlmIChcblx0XHRcdFx0Zm0ucHJvamVjdCAhPT1cblx0XHRcdFx0YHByb2plY3QvJHtwcm9qZWN0Lm5hbWUgPT09IFwiYWRob2NcIiA/IFwibm9uZVwiIDogcHJvamVjdC5uYW1lfWBcblx0XHRcdCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKEhlbHBlci5uaWxDaGVjayhmbS5kb25lX2F0KSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZGF0ZSA9IGZtLmRvbmVfYXQuc2xpY2UoMCwgMTApO1xuXHRcdFx0Y29uc3QgY3JlYXRlZEF0ID0gbmV3IERhdGUoZm0uY3JlYXRlZF9hdCk7XG5cdFx0XHRjb25zdCBkb25lQXQgPSBuZXcgRGF0ZShmbS5kb25lX2F0KTtcblxuXHRcdFx0aWYgKGNyZWF0ZWRBdCA+IGJlZm9yZSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNyZWF0ZWRBdCA8IGFmdGVyKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYnVmZltkYXRlXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJ1ZmZbZGF0ZV0gPSBbZV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRidWZmW2RhdGVdLnB1c2goZSk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGRlbHRhID0gZG9uZUF0LmdldFRpbWUoKSAtIGNyZWF0ZWRBdC5nZXRUaW1lKCk7XG5cblx0XHRcdHRvdGFsVGltZSArPSBkZWx0YTtcblx0XHR9XG5cblx0XHRkdi5wYXJhZ3JhcGgoXG5cdFx0XHRgX3RvdGFsVGltZSAoaCk6XyAke01hdGgucm91bmQoKHRvdGFsVGltZSAvICgxMDAwICogNjAgKiA2MCkpICogMTApIC8gMTB9YCxcblx0XHQpO1xuXG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGJ1ZmYpO1xuXHRcdGtleXMuc29ydCgpO1xuXHRcdGZvciAoY29uc3QgZGF0ZSBvZiBrZXlzKSB7XG5cdFx0XHRidWZmW2RhdGVdLnNvcnQoXG5cdFx0XHRcdChhLCBiKSA9PlxuXHRcdFx0XHRcdGIuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQuZ2V0VGltZSgpIC1cblx0XHRcdFx0XHRhLmZpbGUuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0LmdldFRpbWUoKSxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBkYXRlIG9mIGtleXMucmV2ZXJzZSgpKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAzLCBkYXRlXSk7XG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLnByb2plY3RMb2dzLCBidWZmW2RhdGVdXSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0YWxsVG9kb1Byb2plY3RzKCkge1xuXHRcdGNvbnN0IFtieUFyZWFzLCBieUNvbnRleHRzLCBieUxheWVycywgYnlPcmdzLCBieVByb2plY3RzLCBtaW5Qcmlvcml0eV0gPVxuXHRcdFx0dGhpcy5mcm9udG1hdHRlci5wYXJzZVRvZG9MaXN0KCk7XG5cdFx0Y29uc3QgZm1sID0gdGhpcy5mcm9udG1hdHRlci5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm1sID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmcm9udG1hdHRlciwgY2Fubm90IHByb2NlZWRgKTtcblx0XHR9XG5cblx0XHQvLyB1bmRlZmluZWQgfCBudWxsLCBlbXB0eSBhcnIsIGFyciAxKyB2YWxldXJzIHN0clxuXHRcdGNvbnN0IGZpbHRlckJ5ID0gZm1sLmZpbHRlcl9ieTtcblxuXHRcdC8vIHVuZGVmaW5lZCwgbnVsbCB8fCBzdHJpbmcgfHwgZW1wdHkgYXJyIHx8IGFyci5sZW4gMStbc3RyXVxuXHRcdGxldCBncm91cEJ5ID0gZm1sLmdyb3VwX2J5O1xuXHRcdGlmICh0eXBlb2YgZ3JvdXBCeSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBncm91cEJ5ID09PSBcIlwiKSB7XG5cdFx0XHRncm91cEJ5ID0gXCJcIjtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBncm91cEJ5ID09PSBcInN0cmluZ1wiKSB7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgVW5zdXBvcnRlZCBpbXBsZW1lbnRhdGlvbiBncm91cEJ5OiAnJHtncm91cEJ5fSdgKTtcblx0XHR9XG5cblx0XHRjb25zdCB0b2RheSA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5Kb3VybmFsfVwiYClbMF0uZmlsZS5mcm9udG1hdHRlclxuXHRcdFx0LnRhc2tzO1xuXHRcdGNvbnN0IHByb2plY3RzID0gdGhpcy5ub3RlSGVscGVyLmdldE5hbWVzcGFjZUNvbnRlbnQoTmFtZXNwYWNlLlByb2plY3QpO1xuXHRcdHByb2plY3RzLnNvcnQoKTtcblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDEsIFwiUHJvamVjdHNcIl0pO1xuXG5cdFx0Zm9yIChjb25zdCBwcm9qZWN0IG9mIHByb2plY3RzKSB7XG5cdFx0XHRjb25zdCBiaW5zID0gW107XG5cdFx0XHRpZiAocHJvamVjdCA9PT0gXCJub25lXCIpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHRhc2tzID0gdGhpcy5kdlxuXHRcdFx0XHQucGFnZXMoYCMke05hbWVzcGFjZS5Qcm9qZWN0fS8ke3Byb2plY3R9YClcblx0XHRcdFx0LndoZXJlKFxuXHRcdFx0XHRcdChwYWdlKSA9PlxuXHRcdFx0XHRcdFx0cGFnZS50eXBlID09PSBUeXBlcy5UYXNrICYmIHBhZ2Uuc3RhdHVzID09PSBTdGF0dXMuVG9kbyxcblx0XHRcdFx0KTtcblx0XHRcdGxldCBlbENvdW50ID0gMDtcblxuXHRcdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0ZmlsdGVyQnkgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdGZpbHRlckJ5ICE9PSBudWxsICYmXG5cdFx0XHRcdFx0ZmlsdGVyQnkubGVuZ3RoID4gMFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRpZiAoIXRoaXMubmFtZUluTmFtZXNwYWNlKGZtLCBmaWx0ZXJCeSkpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh0b2RheS5jb250YWlucyhmbS51dWlkKSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZtLnByaW9yaXR5ICE9PSB1bmRlZmluZWQgJiYgZm0ucHJpb3JpdHkgPCBtaW5Qcmlvcml0eSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHRoaXMubm90ZUhlbHBlci5pc0RvYWJsZSh0YXNrKSkge1xuXHRcdFx0XHRcdGxldCBieSA9IGdyb3VwQnk7XG5cdFx0XHRcdFx0aWYgKGdyb3VwQnkgIT09IFwiXCIpIHtcblx0XHRcdFx0XHRcdGJ5ID0gSGVscGVyLmdldFRhZyhcblx0XHRcdFx0XHRcdFx0dGFzay5maWxlLmZyb250bWF0dGVyLFxuXHRcdFx0XHRcdFx0XHRncm91cEJ5LFxuXHRcdFx0XHRcdFx0XHR0cnVlLFxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdGlmIChieSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdGJ5ID0gXCJcIjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoYmluc1tieV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0Ymluc1tieV0gPSBbdGFza107XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGJpbnNbYnldLnB1c2godGFzayk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsQ291bnQrKztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZWxDb3VudCA9PT0gMCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgcHJvamVjdF0pO1xuXHRcdFx0aWYgKGdyb3VwQnkgPT09IFwiXCIpIHtcblx0XHRcdFx0Ymluc1tcIlwiXS5zb3J0KFxuXHRcdFx0XHRcdChhLCBiKSA9PlxuXHRcdFx0XHRcdFx0YS5maWxlLmZyb250bWF0dGVyLnByaW9yaXR5IC1cblx0XHRcdFx0XHRcdGIuZmlsZS5mcm9udG1hdHRlci5wcmlvcml0eSxcblx0XHRcdFx0KTtcblx0XHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5yZWFkeVRhc2ssIGJpbnNbXCJcIl1dKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhiaW5zKTtcblx0XHRcdFx0a2V5cy5zb3J0KCk7XG5cdFx0XHRcdGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcblx0XHRcdFx0XHQvLyBhZGQgYSBoZWFkZXIgaWYga2V5ICE9IGZvciBkZWZhdWx0IHZhbHVlXG5cdFx0XHRcdFx0aWYgKGtleSAhPT0gSGVscGVyLmdldFRhZyh7IHRhZ3M6IFtdIH0sIGdyb3VwQnkpKSB7XG5cdFx0XHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAzLCBrZXldKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRiaW5zW2tleV0uc29ydChcblx0XHRcdFx0XHRcdChhLCBiKSA9PlxuXHRcdFx0XHRcdFx0XHRhLmZpbGUuZnJvbnRtYXR0ZXIucHJpb3JpdHkgLVxuXHRcdFx0XHRcdFx0XHRiLmZpbGUuZnJvbnRtYXR0ZXIucHJpb3JpdHksXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLnJlYWR5VGFzaywgYmluc1trZXldXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRsb2dzKCkge1xuXHRcdGNvbnN0IFtncm91cEJ5LCBmaWx0ZXJCeSwgYmVmb3JlLCBhZnRlcl0gPVxuXHRcdFx0dGhpcy5mcm9udG1hdHRlci5wYXJzZUFsbFByb2dyZXNzZWRUYXNrcygpO1xuXG5cdFx0Y29uc3QgdGFza3MgPSB0aGlzLmR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApXG5cdFx0XHQud2hlcmUoKHBhZ2UpID0+IHBhZ2UuZmlsZS5mcm9udG1hdHRlci5zdGF0dXMgIT09IFwiZG9pbmdcIik7XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChmaWx0ZXJCeS5sZW5ndGggPiAwICYmICF0aGlzLm5hbWVJbk5hbWVzcGFjZShmbSwgZmlsdGVyQnkpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0aW1lRXN0aW1hdGUgPSBIZWxwZXIuZHVyYXRpb25TdHJpbmdUb1NlYyhmbS50aW1lX2VzdGltYXRlKTtcblx0XHRcdGlmICh0aW1lRXN0aW1hdGUgPT09IHVuZGVmaW5lZCAmJiBmbS50aW1lX2VzdGltYXRlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGBJbnZhbGlkIHZhbHVlOiBcIiR7Zm0udGltZV9lc3RpbWF0ZX1cIiBmb3IgZW50cnk6IFwiJHtmbS51dWlkfVwiYCxcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZtLnRpbWVFc3RpbWF0ZSA9IHRpbWVFc3RpbWF0ZTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgbG9ncyA9IHRoaXMuZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc30vJHtmbS51dWlkfVwiYClcblx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiBwYWdlLnR5cGUgPT09IFR5cGVzLkxvZylcblx0XHRcdFx0LnNvcnQoKGspID0+IGsuY3JlYXRlZF9hdCwgXCJhc2NcIik7XG5cblx0XHRcdC8vIGRpc2NhcmQgdGFza3Mgd2l0aG91dCBsb2cgZW50cnlcblx0XHRcdGlmIChsb2dzLmxlbmd0aCA8IDEpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGZtLnRvb2sgPSAwO1xuXHRcdFx0Y29uc3QgcHJvamVjdCA9IEhlbHBlci5nZXRGaWVsZChIZWxwZXIuZ2V0UHJvamVjdChmbSwgdHJ1ZSksIFwiXCIpO1xuXHRcdFx0Y29uc3QgYXJlYSA9IEhlbHBlci5nZXRGaWVsZChIZWxwZXIuZ2V0QXJlYShmbSwgdHJ1ZSksIFwiXCIpO1xuXG5cdFx0XHRmb3IgKGNvbnN0IGxvZyBvZiBsb2dzKSB7XG5cdFx0XHRcdGNvbnN0IGZtbCA9IGxvZy5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRjb25zdCBlbnRyeSA9IHtcblx0XHRcdFx0XHRhbGlhczogZm0uYWxpYXMsXG5cdFx0XHRcdFx0dXVpZDogZm0udXVpZCxcblx0XHRcdFx0XHRsb2dJZDogZm1sLnV1aWQsXG5cdFx0XHRcdFx0ZXN0aW1hdGU6IGZtLnRpbWVFc3RpbWF0ZSxcblx0XHRcdFx0XHRwcm9qZWN0OiBwcm9qZWN0LFxuXHRcdFx0XHRcdGFyZWE6IGFyZWEsXG5cdFx0XHRcdFx0ZG9tYWluOiBIZWxwZXIuZ2V0RmllbGQoSGVscGVyLmdldERvbWFpbihmbSwgdHJ1ZSksIFwiXCIpLFxuXHRcdFx0XHRcdHBhdGg6IHRhc2suZmlsZS5wYXRoLFxuXHRcdFx0XHRcdGxvZ1BhdGg6IGxvZy5maWxlLnBhdGgsXG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmIChmbWwuY3JlYXRlZF9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2cobG9nKTtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRgdGFzazogJHtmbS51dWlkfSBsYXN0IGVudHJ5IGlzIG1pc3NpbmcgJ2NyZWF0ZWRfYXQnIGZpZWxkYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZtbC5kb25lX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhsb2cpO1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGB0YXNrOiAke2ZtLnV1aWR9IGxhc3QgZW50cnkgaXMgbWlzc2luZyAnZG9uZV9hdCcgZmllbGRgLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRlbnRyeS5jcmVhdGVkQXQgPSBuZXcgRGF0ZShmbWwuY3JlYXRlZF9hdCk7XG5cdFx0XHRcdGVudHJ5LmRvbmVBdCA9IG5ldyBEYXRlKGZtbC5kb25lX2F0KTtcblx0XHRcdFx0aWYgKCF0aGlzLmZpbHRlckJ5RGF0ZShlbnRyeS5kb25lQXQsIGJlZm9yZSwgYWZ0ZXIpKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCB0b29rID1cblx0XHRcdFx0XHQoZW50cnkuZG9uZUF0LmdldFRpbWUoKSAtIGVudHJ5LmNyZWF0ZWRBdC5nZXRUaW1lKCkpIC8gMTAwMDtcblx0XHRcdFx0Zm0udG9vayArPSB0b29rO1xuXHRcdFx0XHRlbnRyeS50b29rID0gdG9vaztcblx0XHRcdFx0ZW50cnkudG9va0FjYyA9IGZtLnRvb2s7XG5cdFx0XHRcdGVudHJ5LmRlbHRhQWNjID0gdGltZUVzdGltYXRlIC0gZm0udG9vaztcblx0XHRcdFx0YnVmZi5wdXNoKGVudHJ5KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBrZXlHZXR0ZXIgPSBIZWxwZXIuZ2V0S2V5KGdyb3VwQnkpO1xuXHRcdGNvbnN0IGJpbnMgPSB7fTtcblx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIGJ1ZmYpIHtcblx0XHRcdGxldCBkID0gdW5kZWZpbmVkO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkID0ga2V5R2V0dGVyKGVudHJ5KTtcblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhlbnRyeSk7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihlbnRyeSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChiaW5zW2RdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1tkXSA9IFtlbnRyeV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRiaW5zW2RdLnB1c2goZW50cnkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhiaW5zKTtcblx0XHRrZXlzLnNvcnQoKTtcblxuXHRcdC8vIGJ1aWxkcyByZW5kZXJpbmcgYXJyYXlcblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGZvciAoY29uc3Qga2V5IG9mIGtleXMucmV2ZXJzZSgpKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBrZXldKTtcblx0XHRcdGNvbnN0IGFyciA9IFtdO1xuXHRcdFx0bGV0IHRvdGFsVGltZSA9IDA7XG5cblx0XHRcdC8vIGRheSBsb29wXG5cdFx0XHRmb3IgKGNvbnN0IGUgb2YgYmluc1trZXldKSB7XG5cdFx0XHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRcdFx0YnVmZi5wdXNoKFxuXHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKFxuXHRcdFx0XHRcdFx0dGhpcy5kdixcblx0XHRcdFx0XHRcdHsgcGF0aDogZS5wYXRoLCBmcm9udG1hdHRlcjogeyB1dWlkOiBlLnV1aWQgfSB9LFxuXHRcdFx0XHRcdFx0XCJUYXNrXCIsXG5cdFx0XHRcdFx0KSxcblx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBidWZmLnB1c2goXG5cdFx0XHRcdC8vIFx0dGhpcy5kdi5zZWN0aW9uTGluayhcblx0XHRcdFx0Ly8gXHRcdGUucGF0aCxcblx0XHRcdFx0Ly8gXHRcdFwiVGFza1wiLFxuXHRcdFx0XHQvLyBcdFx0ZmFsc2UsXG5cdFx0XHRcdC8vIFx0XHRgJHtlLnV1aWQuc2xpY2UoMCwgOCl9YCxcblx0XHRcdFx0Ly8gXHQpLFxuXHRcdFx0XHQvLyApO1xuXG5cdFx0XHRcdGJ1ZmYucHVzaChcblx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChcblx0XHRcdFx0XHRcdHRoaXMuZHYsXG5cdFx0XHRcdFx0XHR7IHBhdGg6IGUubG9nUGF0aCwgZnJvbnRtYXR0ZXI6IHsgdXVpZDogZS5sb2dJZCB9IH0sXG5cdFx0XHRcdFx0XHRcIkNvbnRlbnRcIixcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHQpO1xuXHRcdFx0XHQvLyBidWZmLnB1c2goXG5cdFx0XHRcdC8vIFx0dGhpcy5kdi5zZWN0aW9uTGluayhcblx0XHRcdFx0Ly8gXHRcdGUubG9nUGF0aCxcblx0XHRcdFx0Ly8gXHRcdFwiQ29udGVudFwiLFxuXHRcdFx0XHQvLyBcdFx0ZmFsc2UsXG5cdFx0XHRcdC8vIFx0XHRgJHtlLmxvZ0lkLnNsaWNlKDAsIDgpfWAsXG5cdFx0XHRcdC8vIFx0KSxcblx0XHRcdFx0Ly8gKTtcblxuXHRcdFx0XHQvLyBidWZmLnB1c2goYCR7ZS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxNil9YCk7XG5cdFx0XHRcdC8vIGJ1ZmYucHVzaChgJHtlLmRvbmVBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDE2KX1gKTtcblxuXHRcdFx0XHRjb25zdCBjb252ZXJ0U2Vjb25kc1RvSG91cnMgPSAodCkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBNYXRoLnJvdW5kKCh0IC8gMzYwMCkgKiAxMCkgLyAxMDtcblx0XHRcdFx0fTtcblx0XHRcdFx0YnVmZi5wdXNoKGAke2NvbnZlcnRTZWNvbmRzVG9Ib3VycyhlLnRvb2spfWApO1xuXHRcdFx0XHRidWZmLnB1c2goYCR7ZS5wcm9qZWN0fWApO1xuXG5cdFx0XHRcdGFyci5wdXNoKGJ1ZmYpO1xuXHRcdFx0XHR0b3RhbFRpbWUgKz0gZS50b29rO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyB0YXNrXG5cdFx0XHR0b3RhbFRpbWUgPSBNYXRoLnJvdW5kKCh0b3RhbFRpbWUgLyAzNjAwKSAqIDEwKSAvIDEwO1xuXHRcdFx0cnMucHVzaChbXCJzdGF0c1wiLCBcInRvdGFsVGltZVwiLCBcImhcIiwgdG90YWxUaW1lXSk7XG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmJhc2ljUHJvZ3Jlc3NlZFRhc2tXaXRoTG9nLCBhcnJdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRpbmJveCgpIHtcblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHQvLyBmb25jdGlvbiBkJ2V4dHJhY3Rpb24gZXQgZCdpbml0aWFsaXNhdGlvbiBkZXMgcGFyYW1ydHJlcyBkdSBmcm9udG1hdHRlclxuXHRcdC8vIGZvbmN0aW9uIGZpbHRlciwgKHRhc2spIC0+IGJvb2xcblxuXHRcdGNvbnN0IGZpbHRlckJ5ID0gW107XG5cdFx0Y29uc3QgbWluU2l6ZSA9IDA7XG5cdFx0Y29uc3QgbWF4U2l6ZSA9IDQyOTQ5NjcyOTU7XG5cblx0XHRjb25zdCBmbGVldGluZ3MgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuSW5ib3h9XCJgKS5hcnJheSgpO1xuXHRcdGZvciAoY29uc3QgZSBvZiBmbGVldGluZ3MpIHtcblx0XHRcdGNvbnN0IGZtID0gZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0ZS5maWxlLmZyb250bWF0dGVyLmNyZWF0ZWRBdCA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3JlYXRlZEF0KFxuXHRcdFx0XHRlLmZpbGUsXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgZm1qcyA9IG5ldyBGcm9udG1hdHRlckpTKGUpO1xuXHRcdFx0Zm0ucHJvamVjdCA9IEhlbHBlci5nZXRQcm9qZWN0KGZtLCB0cnVlKTtcblx0XHRcdGZtLmRvbWFpbiA9IGBkb21haW4vJHtmbWpzLmdldERvbWFpbigpfWA7XG5cdFx0XHRmbS5jb21wb25lbnRzID0gSGVscGVyLmdldENvbXBvbmVudHMoZm0pO1xuXG5cdFx0XHRpZiAoZS5maWxlLnNpemUgPCBtaW5TaXplKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGUuZmlsZS5zaXplID4gbWF4U2l6ZSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0YnVmZi5wdXNoKGUpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxvZ3MgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc31cImApLndoZXJlKChwKSA9PiB7XG5cdFx0XHRpZiAocC50eXBlICE9PSBUeXBlcy5Mb2cpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBmID0gcC5maWxlO1xuXHRcdFx0Y29uc3QgY3JlYXRlZEF0ID0gdGhpcy5mcm9udG1hdHRlci5nZXRDcmVhdGVkQXQoZik7XG5cdFx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0aWYgKGNyZWF0ZWRBdC5nZXRUaW1lKCkgKyA4NjQwMDAwMCAtIG5vdy5nZXRUaW1lKCkgPiAwKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHAucmV2aWV3ZWQgIT09IHVuZGVmaW5lZCAmJiBwLnJldmlld2VkID49IDEpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9LyR7Zi5mcm9udG1hdHRlci5wYXJlbnRfaWR9XCJgKVxuXHRcdFx0XHQuYXJyYXkoKTtcblx0XHRcdGlmIChwYWdlcy5sZW5ndGggIT09IDEpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBjb25zdCBwYXJlbnQgPSBwYWdlc1swXTtcblx0XHRcdC8vIGlmIChwYXJlbnQudHlwZSAhPT0gVHlwZXMuTWVkaWEpIHtcblx0XHRcdC8vIFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0Ly8gfVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdGZvciAoY29uc3QgZSBvZiBsb2dzKSB7XG5cdFx0XHRjb25zdCBmbSA9IGUuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGZtLmNyZWF0ZWRBdCA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3JlYXRlZEF0KGUuZmlsZSk7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS5wYXJlbnRfaWQpLFxuXHRcdFx0XHRgTWlzc2luZyBmaWVsZCBcInBhcmVudF9pZFwiIGZyb20gbG9nOiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgcGFyZW50ID0gdGhpcy5kdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc30vJHtmbS5wYXJlbnRfaWR9XCJgKVxuXHRcdFx0XHQuYXJyYXkoKTtcblx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHRwYXJlbnQubGVuZ3RoID09PSAxLFxuXHRcdFx0XHRgUGFyZW50OiAke2ZtLnBhcmVudF9pZH0gbm90IGZvdW5kIGZvciBsb2c6IFwiJHtmbS51dWlkfVwiYCxcblx0XHRcdCk7XG5cdFx0XHRmbS5wcm9qZWN0ID0gSGVscGVyLmdldFByb2plY3QocGFyZW50WzBdLmZpbGUuZnJvbnRtYXR0ZXIsIHRydWUpO1xuXHRcdFx0Zm0uZG9tYWluID0gdW5kZWZpbmVkO1xuXHRcdFx0Zm0uY29tcG9uZW50cyA9IFtdO1xuXG5cdFx0XHRpZiAoZS5maWxlLnNpemUgPCBtaW5TaXplKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGUuZmlsZS5zaXplID4gbWF4U2l6ZSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0YnVmZi5wdXNoKGUpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHNvcnRCeVNpemVUaGVuRGF0ZSA9IGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdGNvbnN0IGZBID0gYS5maWxlO1xuXHRcdFx0Y29uc3QgZkIgPSBiLmZpbGU7XG5cdFx0XHRpZiAoZkEuc2l6ZSAhPT0gZkIuc2l6ZSkge1xuXHRcdFx0XHRyZXR1cm4gZkIuc2l6ZSAtIGZBLnNpemU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdGZBLmZyb250bWF0dGVyLmNyZWF0ZWRBdC5nZXRUaW1lKCkgLVxuXHRcdFx0XHRcdGZCLmZyb250bWF0dGVyLmNyZWF0ZWRBdC5nZXRUaW1lKClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Y29uc3Qgc29ydEJ5QWdlID0gKGEsIGIpID0+XG5cdFx0XHRhLmZpbGUuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0LmdldFRpbWUoKSAtXG5cdFx0XHRiLmZpbGUuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0LmdldFRpbWUoKTtcblxuXHRcdGJ1ZmYuc29ydChzb3J0QnlBZ2UpO1xuXHRcdGNvbnN0IGZpbHRlckZ1bmMgPSAocGFnZSkgPT4ge1xuXHRcdFx0Y29uc3QgZm0gPSBwYWdlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdFx0aWYgKEhlbHBlci5nZXRQcm9qZWN0KGZtLCB0cnVlKSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKEhlbHBlci5nZXREb21haW4oZm0sIHRydWUpICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9O1xuXG5cdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5pbmJveEVudHJ5LCBidWZmLmZpbHRlcihmaWx0ZXJGdW5jKV0pO1xuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0ZG9tYWlucygpIHtcblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkRvbWFpbnN9XCJgKVxuXHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZtID0gcGFnZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAoZm0ubmFtZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0aGlzLmR2LnBhZ2VzKGAjZG9tYWluLyR7Zm0ubmFtZX1gKS5hcnJheSgpLmxlbmd0aCA8PSAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSlcblx0XHRcdC5zb3J0KChrKSA9PiBrLm5hbWUsIFwiYXNjXCIpXG5cdFx0XHQuYXJyYXkoKTtcblx0XHRjb25zdCBycyA9IFtdO1xuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGZtLnJlc29sdmUodGhpcy5kdik7XG5cdFx0XHRidWZmLnB1c2goZm0pO1xuXHRcdH1cblx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmJhc2ljRG9tYWluLCBidWZmXSk7XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRjb21wb25lbnRzKCkge1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuQ29tcG9uZW50c31cImApXG5cdFx0XHQuc29ydCgoaykgPT4gay5uYW1lLCBcImFzY1wiKVxuXHRcdFx0LmFycmF5KCk7XG5cdFx0Y29uc3QgcnMgPSBbXTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRmbS5yZXNvbHZlKHRoaXMuZHYpO1xuXHRcdFx0YnVmZi5wdXNoKGZtKTtcblx0XHR9XG5cdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5iYXNpY0RvbWFpbiwgYnVmZl0pO1xuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0bmFtZXMoKSB7XG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5OYW1lc31cImApXG5cdFx0XHQuc29ydCgoaykgPT4gay5uYW1lLCBcImFzY1wiKVxuXHRcdFx0LmFycmF5KCk7XG5cdFx0Y29uc3QgcnMgPSBbXTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRmbS5yZXNvbHZlKHRoaXMuZHYpO1xuXHRcdFx0YnVmZi5wdXNoKGZtKTtcblx0XHR9XG5cdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5iYXNpY0RvbWFpbiwgYnVmZl0pO1xuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0cHJvamVjdHMoKSB7XG5cdFx0bGV0IGZtbCA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0aWYgKGZtbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRmbWwgPSB7IGluYWN0aXZlOiBbXSB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgYmlucyA9IHtcblx0XHRcdGFjdGl2ZTogW10sXG5cdFx0XHRpbmFjdGl2ZTogW10sXG5cdFx0fTtcblxuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgXCJQcm9qZWN0c1wiYCkuc29ydCgoaykgPT4gay5uYW1lLCBcImFzY1wiKTtcblx0XHRmb3IgKGNvbnN0IHByb2plY3Qgb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IGZtUHJvamVjdCA9IG5ldyBGcm9udG1hdHRlckpTKHByb2plY3QpO1xuXHRcdFx0aWYgKGZtUHJvamVjdC5nZXROYW1lKCkgPT09IFwiYWRob2NcIikge1xuXHRcdFx0XHRiaW5zLmFjdGl2ZS5wdXNoKHByb2plY3QpO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgdGFza3MgPSB0aGlzLmR2XG5cdFx0XHRcdC5wYWdlcyhgI3Byb2plY3QvJHtmbVByb2plY3QuZ2V0TmFtZSgpfWApXG5cdFx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRcdGlmIChwYWdlLmZpbGUuZm9sZGVyICE9PSBgJHtQYXRocy5UYXNrc31gKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29uc3QgZm1UYXNrID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0aWYgKGZtVGFzay5nZXRQcm9qZWN0KCkgIT09IGZtUHJvamVjdC5nZXROYW1lKCkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRmbVRhc2suZm0uc3RhdHVzID09PSBcInRvZG9cIiB8fFxuXHRcdFx0XHRcdFx0Zm1UYXNrLmZtLnN0YXR1cyA9PT0gXCJkb2luZ1wiXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRsZXQgbmV4dEFjdGlvbkNvdW50ID0gMDtcblx0XHRcdGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyh0YXNrLmZpbGUuZnJvbnRtYXR0ZXIucHJpb3JpdHkpO1xuXHRcdFx0XHRpZiAodGFzay5maWxlLmZyb250bWF0dGVyLnByaW9yaXR5ID09PSA5KSB7XG5cdFx0XHRcdFx0bmV4dEFjdGlvbkNvdW50Kys7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKFxuXHRcdFx0XHR0YXNrcy5sZW5ndGggPT09IDAgfHxcblx0XHRcdFx0bmV4dEFjdGlvbkNvdW50ID09PSAwIHx8XG5cdFx0XHRcdGZtbC5pbmFjdGl2ZS5jb250YWlucyhmbVByb2plY3QuZ2V0TmFtZSgpKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGJpbnMuaW5hY3RpdmUucHVzaChwcm9qZWN0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJpbnMuYWN0aXZlLnB1c2gocHJvamVjdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gcnMucHVzaChbXCJoZWFkZXJcIiwgMSwgXCJQcm9qZWN0c1wiXSk7XG5cdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5iYXNpY1JlbGF0aW9uLCBiaW5zLmFjdGl2ZV0pO1xuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIFwiSW5hY3RpdmVcIl0pO1xuXHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNSZWxhdGlvbiwgYmlucy5pbmFjdGl2ZV0pO1xuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0cHJheGlzKCkge1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdGlmIChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIudHlwZSAhPT0gVHlwZXMuUHJheGlzKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5zdGF0dXMgIT09IFN0YXR1cy5Ub2RvKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9KVxuXHRcdFx0LmFycmF5KCk7XG5cblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDEsIFwiUHJheGlzXCJdKTtcblx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmJhc2ljVGFzaywgcGFnZXNdKTtcblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGdvYWxzKCkge1xuXHRcdGNvbnN0IGZtID0gdGhpcy5mcm9udG1hdHRlci5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRjb25zdCBmaWx0ZXJCeSA9IG5ldyBGaWx0ZXJCeShmbSk7XG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5Hb2Fsc31cImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRjb25zdCBmbXAgPSBwYWdlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZm1wLnN0YXR1cyAhPT0gXCJ0b2RvXCIpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IHAgPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGlmIChmaWx0ZXJCeS5maWx0ZXIocGFnZS5maWxlLmZyb250bWF0dGVyKSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0YnVmZi5wdXNoKHApO1xuXHRcdH1cblxuXHRcdGJ1ZmYuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0Y29uc3QgZHRhID0gbmV3IERhdGUoYS5mbS5iZWZvcmUpO1xuXHRcdFx0Y29uc3QgZHRiID0gbmV3IERhdGUoYi5mbS5iZWZvcmUpO1xuXHRcdFx0cmV0dXJuIGR0YS5nZXRUaW1lKCkgLSBkdGIuZ2V0VGltZSgpO1xuXHRcdH0pO1xuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDEsIFwiR29hbHNcIl0pO1xuXHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuZ29hbCwgYnVmZl0pO1xuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0b3BlcmF0aW9ucygpIHtcblx0XHRjb25zdCBmbSA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0Y29uc3QgZmlsdGVyQnkgPSBuZXcgRmlsdGVyQnkoZm0pO1xuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2LnBhZ2VzKGBcIk9wZXJhdGlvbnNcImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRjb25zdCBmbXAgPSBwYWdlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHQvLyBpZiAoZm1wLnN0YXR1cyAhPT0gXCJ0b2RvXCIpIHtcblx0XHRcdC8vIFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0Ly8gfVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IHAgPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGlmIChmaWx0ZXJCeS5maWx0ZXIocGFnZS5maWxlLmZyb250bWF0dGVyKSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0YnVmZi5wdXNoKHApO1xuXHRcdH1cblxuXHRcdGJ1ZmYuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0Y29uc3QgZHRhID0gbmV3IERhdGUoYS5mbS5iZWZvcmUpO1xuXHRcdFx0Y29uc3QgZHRiID0gbmV3IERhdGUoYi5mbS5iZWZvcmUpO1xuXHRcdFx0cmV0dXJuIGR0YS5nZXRUaW1lKCkgLSBkdGIuZ2V0VGltZSgpO1xuXHRcdH0pO1xuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDEsIFwiT3BlcmF0aW9uc1wiXSk7XG5cdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5yZWFkeVRhc2ssIGJ1ZmZdKTtcblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGpvdXJuYWwoKSB7XG5cdFx0Y29uc3QgW2J5QXJlYXMsIGJ5Q29udGV4dHMsIGJ5TGF5ZXJzLCBieU9yZ3MsIGJ5UHJvamVjdHMsIGZtVGFza3NdID1cblx0XHRcdHRoaXMuZnJvbnRtYXR0ZXIucGFyc2VKb3VybmFsKCk7XG5cblx0XHRjb25zdCBmbSA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0aWYgKGZtVGFza3MgPCAxKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJObyB0YXNrcyAhXCIpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGdyb3VwQnkgPSB1bmRlZmluZWQ7XG5cdFx0Y29uc3QgYmlucyA9IHtcblx0XHRcdGRvYWJsZTogW10sXG5cdFx0XHR3YWl0aW5nOiBbXSxcblx0XHRcdGRvbmU6IFtdLFxuXHRcdFx0YWN0aXZlOiBbXSxcblx0XHRcdGxlaXN1cmU6IFtdLFxuXHRcdFx0bWVkaWE6IFtdLFxuXHRcdH07XG5cblx0XHRjb25zdCB0YXNrcyA9IHRoaXMuZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYClcblx0XHRcdC53aGVyZSgoaykgPT4gZm1UYXNrcy5jb250YWlucyhrLnV1aWQpKVxuXHRcdFx0LnNvcnQoKGspID0+IGsucHJpb3JpdHksIFwiZGVzY1wiKTtcblx0XHRpZiAodGFza3MubGVuZ3RoICE9PSBmbVRhc2tzLmxlbmd0aCkge1xuXHRcdFx0e1xuXHRcdFx0XHRjb25zdCB0YXNrc3MgPSBbXTtcblx0XHRcdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRcdFx0dGFza3NzLnB1c2godGFzay5maWxlLmZyb250bWF0dGVyLnV1aWQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAoY29uc3QgdGFzayBvZiBmbVRhc2tzKSB7XG5cdFx0XHRcdFx0aWYgKCF0YXNrc3MuY29udGFpbnModGFzaykpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUud2Fybih0YXNrKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlJlZmVyIHRvIGxvZ3NcIik7XG5cdFx0fVxuXHRcdGxldCB0b3RhbEVzdGltYXRlID0gMDtcblx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdGNvbnN0IGZtdCA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChmbXQudHlwZSA9PT0gVHlwZXMuUHJheGlzKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ3MgPSB0aGlzLmR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc30vJHtmbXQudXVpZH1cImApXG5cdFx0XHRcdFx0LnNvcnQoKHBhZ2UpID0+IHBhZ2UuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkX2F0LCBcImRlc2NcIilcblx0XHRcdFx0XHQuYXJyYXkoKTtcblx0XHRcdFx0aWYgKGxvZ3MubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGNvbnN0IGxhc3RFbnRyeSA9IGxvZ3NbMF07XG5cdFx0XHRcdFx0Y29uc3QgY3JlYXRlZEF0ID0gdGhpcy5mcm9udG1hdHRlci5nZXRDcmVhdGVkQXQoXG5cdFx0XHRcdFx0XHRsYXN0RW50cnkuZmlsZSxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0bm93LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApID09PVxuXHRcdFx0XHRcdFx0Y3JlYXRlZEF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRiaW5zLmRvbmUucHVzaCh0YXNrKTtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoSGVscGVyLmdldERvbWFpbihmbXQpID09PSBcImRvbWFpbi9sZWlzdXJlXCIpIHtcblx0XHRcdFx0Ymlucy5sZWlzdXJlLnB1c2godGFzayk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZm10LnR5cGUgPT09IFR5cGVzLk1lZGlhKSB7XG5cdFx0XHRcdGJpbnMubWVkaWEucHVzaCh0YXNrKTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLm5vdGVIZWxwZXIuaXNEb2FibGUodGFzaykpIHtcblx0XHRcdFx0Y29uc3QgdGltZUVzdGltYXRlID0gZm10LnRpbWVfZXN0aW1hdGU7XG5cdFx0XHRcdGlmICh0aW1lRXN0aW1hdGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHRvdGFsRXN0aW1hdGUgKz0gSGVscGVyLmR1cmF0aW9uU3RyaW5nVG9TZWModGltZUVzdGltYXRlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRiaW5zLmRvYWJsZS5wdXNoKHRhc2spO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGZtdC5zdGF0dXMgPT09IFN0YXR1cy5Eb25lKSB7XG5cdFx0XHRcdGJpbnMuZG9uZS5wdXNoKHRhc2spO1xuXHRcdFx0fSBlbHNlIGlmIChmbXQuc3RhdHVzICE9PSBTdGF0dXMuRG9pbmcpIHtcblx0XHRcdFx0Ymlucy53YWl0aW5nLnB1c2godGFzayk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgYXJyID0gW107XG5cblx0XHRhcnIucHVzaChbXCJoZWFkZXJcIiwgMSwgXCJKb3VybmFsXCJdKTtcblx0XHRhcnIucHVzaChbXCJoZWFkZXJcIiwgMiwgYCR7Zm0udGFza3MubGVuZ3RofS8yNSB0YXNrc2BdKTtcblx0XHRhcnIucHVzaChbXG5cdFx0XHRcInN0YXRzXCIsXG5cdFx0XHRcInRvdGFsRXN0aW1hdGVcIixcblx0XHRcdFwiaFwiLFxuXHRcdFx0YCR7U3RyaW5nKE1hdGgucm91bmQoKHRvdGFsRXN0aW1hdGUgLyAzNjAwKSAqIDEwKSAvIDEwKS5wYWRTdGFydChcblx0XHRcdFx0Mixcblx0XHRcdFx0XCIwXCIsXG5cdFx0XHQpfWAsXG5cdFx0XSk7XG5cblx0XHRjb25zdCBkb2luZyA9IHRoaXMuZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLnN0YXR1cyA9PT0gU3RhdHVzLkRvaW5nKVxuXHRcdFx0LmFycmF5KCk7XG5cblx0XHRpZiAoZG9pbmcubGVuZ3RoID4gMCkge1xuXHRcdFx0YXJyLnB1c2goW1wiaGVhZGVyXCIsIDIsIGBBY3RpdmUgKCR7ZG9pbmcubGVuZ3RofSlgXSk7XG5cdFx0XHRhcnIucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5hY3RpdmVUYXNrLCBkb2luZ10pO1xuXHRcdH1cblxuXHRcdGlmIChiaW5zLmRvYWJsZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRhcnIucHVzaChbXCJoZWFkZXJcIiwgMiwgYERvYWJsZSAoJHtiaW5zLmRvYWJsZS5sZW5ndGh9KWBdKTtcblx0XHRcdGlmIChncm91cEJ5ICE9PSBcIlwiICYmIGdyb3VwQnkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb25zdCByZXMgPSB7fTtcblx0XHRcdFx0Zm9yIChjb25zdCBlIG9mIGJpbnMuZG9hYmxlKSB7XG5cdFx0XHRcdFx0Y29uc3QgZm0gPSBlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdFx0bGV0IHQgPSBIZWxwZXIuZ2V0VGFnKGZtLCBncm91cEJ5KTtcblx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRncm91cEJ5ID09PSBcImNvbnRleHRcIiAmJlxuXHRcdFx0XHRcdFx0dCA9PT0gXCJjb250ZXh0L2FueVwiICYmXG5cdFx0XHRcdFx0XHRIZWxwZXIuZ2V0T3JnKGZtKSAhPT0gXCJvcmcvbm9uZVwiXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHR0ID0gXCJjb250ZXh0L3dvcmtcIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHJlc1t0XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRyZXNbdF0gPSBbZV07XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc1t0XS5wdXNoKGUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvciAoY29uc3QgayBvZiBPYmplY3Qua2V5cyhyZXMpLnNvcnQoKSkge1xuXHRcdFx0XHRcdHJlc1trXS5zb3J0KFxuXHRcdFx0XHRcdFx0KGEsIGIpID0+XG5cdFx0XHRcdFx0XHRcdEhlbHBlci5nZXRGaWVsZChiLmZpbGUuZnJvbnRtYXR0ZXIucHJpb3JpdHksIDApIC1cblx0XHRcdFx0XHRcdFx0SGVscGVyLmdldEZpZWxkKGEuZmlsZS5mcm9udG1hdHRlci5wcmlvcml0eSwgMCksXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRhcnIucHVzaChbXCJoZWFkZXJcIiwgMywga10pO1xuXHRcdFx0XHRcdGFyci5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmJhc2ljVGFzaywgcmVzW2tdXSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJpbnMuZG9hYmxlLnNvcnQoXG5cdFx0XHRcdFx0KGEsIGIpID0+XG5cdFx0XHRcdFx0XHRIZWxwZXIuZ2V0RmllbGQoYi5maWxlLmZyb250bWF0dGVyLnByaW9yaXR5LCAwKSAtXG5cdFx0XHRcdFx0XHRIZWxwZXIuZ2V0RmllbGQoYS5maWxlLmZyb250bWF0dGVyLnByaW9yaXR5LCAwKSxcblx0XHRcdFx0KTtcblx0XHRcdFx0YXJyLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNUYXNrLCBiaW5zLmRvYWJsZV0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChiaW5zLndhaXRpbmcubGVuZ3RoID4gMCkge1xuXHRcdFx0YXJyLnB1c2goW1wiaGVhZGVyXCIsIDIsIGBXYWl0aW5nICgke2JpbnMud2FpdGluZy5sZW5ndGh9KWBdKTtcblx0XHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRcdGZvciAoY29uc3QgdGFzayBvZiBiaW5zLndhaXRpbmcpIHtcblx0XHRcdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGlmIChmbS5uZWVkcyAhPT0gdW5kZWZpbmVkICYmIGZtLm5lZWRzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRmbS5jYXVzZSA9IGZtLm5lZWRzO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGZtLmFmdGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRmbS5jYXVzZSA9IGBhZnRlcjogJHtmbS5hZnRlcn1gO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZtLmNhdXNlID0gXCJ1bmtub3duXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnVmZi5wdXNoKHRhc2spO1xuXHRcdFx0fVxuXG5cdFx0XHRhcnIucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci53YWl0aW5nVGFzaywgYnVmZl0pO1xuXHRcdH1cblxuXHRcdGlmIChiaW5zLm1lZGlhLmxlbmd0aCA+IDApIHtcblx0XHRcdGFyci5wdXNoKFtcImhlYWRlclwiLCAyLCBgTWVkaWEgKCR7Ymlucy5tZWRpYS5sZW5ndGh9KWBdKTtcblx0XHRcdGFyci5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLm1lZGlhV2l0aExvZ3MsIGJpbnMubWVkaWFdKTtcblx0XHR9XG5cblx0XHRpZiAoYmlucy5kb25lLmxlbmd0aCA+IDApIHtcblx0XHRcdGFyci5wdXNoKFtcImhlYWRlclwiLCAyLCBgRG9uZSAoJHtiaW5zLmRvbmUubGVuZ3RofSlgXSk7XG5cdFx0XHRhcnIucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5iYXNpY1Rhc2ssIGJpbnMuZG9uZV0pO1xuXHRcdH1cblxuXHRcdGlmIChiaW5zLmxlaXN1cmUubGVuZ3RoID4gMCkge1xuXHRcdFx0YXJyLnB1c2goW1wiaGVhZGVyXCIsIDIsIGBMZWlzdXJlICgke2JpbnMubGVpc3VyZS5sZW5ndGh9KWBdKTtcblx0XHRcdGFyci5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLm1lZGlhV2l0aExvZ3MsIGJpbnMubGVpc3VyZV0pO1xuXHRcdH1cblxuXHRcdGNvbnN0IHByb3Zpc2lvbnMgPSB0aGlzLmR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApXG5cdFx0XHQud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdFx0aWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci50eXBlICE9PSBUeXBlcy5Qcm92aXNpb24pIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5zdGF0dXMgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLnN0YXR1cyAhPT0gU3RhdHVzLlRvZG8pIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9KVxuXHRcdFx0LmFycmF5KCk7XG5cblx0XHRpZiAocHJvdmlzaW9ucy5sZW5ndGggPiAwKSB7XG5cdFx0XHRhcnIucHVzaChbXCJoZWFkZXJcIiwgMiwgYFByb3Zpc2lvbiAoJHtwcm92aXNpb25zLmxlbmd0aH0pYF0pO1xuXHRcdFx0YXJyLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIucHJvdmlzaW9uQmFzZSwgcHJvdmlzaW9uc10pO1xuXHRcdH1cblxuXHRcdHJldHVybiBhcnI7XG5cdH1cblxuXHRsaWJyYXJ5KCkge1xuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgZG9tYWlucyA9IFtdO1xuXHRcdGNvbnN0IHJlZkRvbWFpbnMgPSBbXTtcblxuXHRcdHtcblx0XHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Eb21haW5zfVwiYClcblx0XHRcdFx0LnNvcnQoKGspID0+IGsubmFtZSwgXCJhc2NcIilcblx0XHRcdFx0LmFycmF5KCk7XG5cblx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRmbS5yZXNvbHZlKHRoaXMuZHYpO1xuXHRcdFx0XHRkb21haW5zLnB1c2goZm0uZ2V0TmFtZSgpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR7XG5cdFx0XHRmb3IgKGNvbnN0IGRvbWFpbiBvZiBkb21haW5zKSB7XG5cdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGAke2RvbWFpbn1gXSk7XG5cdFx0XHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgXCI4MDIgUmVmc1wiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdC8vIGNvbnN0IGZtID0gcGFnZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRcdGNvbnN0IGNvbnRlbnQgPSBmbS5nZXRDb250ZW50KCk7XG5cdFx0XHRcdFx0aWYgKGNvbnRlbnQgPT09IFwicGVyc29uXCIgfHwgY29udGVudCA9PT0gXCJwbGFjZVwiKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFkb21haW5zLmNvbnRhaW5zKGZtLmdldERvbWFpbihmYWxzZSkpKSB7XG5cdFx0XHRcdFx0XHRpZiAoIXJlZkRvbWFpbnMuY29udGFpbnMoZm0uZ2V0RG9tYWluKGZhbHNlKSkpIHtcblx0XHRcdFx0XHRcdFx0cmVmRG9tYWlucy5wdXNoKGZtLmdldERvbWFpbihmYWxzZSkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBmbS5nZXREb21haW4oZmFsc2UpID09PSBkb21haW47XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIua25vd2xlZGdlQmFzZSwgcGFnZXNdKTtcblx0XHRcdH1cblxuXHRcdFx0e1xuXHRcdFx0XHRpZiAocmVmRG9tYWlucy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRyZXR1cm4gcnM7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBcInVuZGVjbGFyZWQgZG9tYWluc1wiXSk7XG5cdFx0XHRcdGZvciAoY29uc3QgZG9tYWluIG9mIHJlZkRvbWFpbnMpIHtcblx0XHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAzLCBkb21haW5dKTtcblx0XHRcdFx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHYucGFnZXMoYFwiODAyIFJlZnNcImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0Ly8gY29uc3QgZm0gPSBwYWdlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdFx0XHRjb25zdCBjb250ZW50ID0gZm0uZ2V0Q29udGVudCgpO1xuXHRcdFx0XHRcdFx0aWYgKGNvbnRlbnQgPT09IFwicGVyc29uXCIgfHwgY29udGVudCA9PT0gXCJwbGFjZVwiKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGZtLmdldERvbWFpbihmYWxzZSkgPT09IGRvbWFpbjtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIua25vd2xlZGdlQmFzZSwgcGFnZXNdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdHBsYW5uaW5nKCkge1xuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApXG5cdFx0XHQud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdFx0aWYgKGZtLmF0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZm0uZ2V0UHJvamVjdCgpICE9PSBcImRhaWx5XCIpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0pXG5cdFx0XHQuc29ydCgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLmF0LCBcImRlc2NcIik7XG5cblx0XHRjb25zdCBiaW5zID0ge307XG5cdFx0Zm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG5cdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0bGV0IGF0ID0gdW5kZWZpbmVkO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YXQgPSBmbS5hdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZGF0ZTogJyR7Zm0uZm0udXVpZH0nYCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXIoZm0uYXQpO1xuXHRcdFx0aWYgKGJpbnNbd2Vla051bWJlcl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3dlZWtOdW1iZXJdID0gW2ZtXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJpbnNbd2Vla051bWJlcl0ucHVzaChmbSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRjb25zdCBjdXJyZW50V2Vla051bWJlciA9IHRoaXMuZ2V0V2Vla051bWJlcihub3cpO1xuXHRcdGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGJpbnMpKSB7XG5cdFx0XHRjb25zdCB3ZWVrTnVtYmVyID0gTnVtYmVyKGtleSk7XG5cdFx0XHRpZiAod2Vla051bWJlciA8IGN1cnJlbnRXZWVrTnVtYmVyKSB7XG5cdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGB+fndlZWsgJHtrZXl9fn5gXSk7XG5cdFx0XHR9IGVsc2UgaWYgKHdlZWtOdW1iZXIgPT09IGN1cnJlbnRXZWVrTnVtYmVyKSB7XG5cdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGAqd2VlayAke2tleX0qYF0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYHdlZWsgJHtrZXl9YF0pO1xuXHRcdFx0fVxuXG5cdFx0XHRiaW5zW2tleV0uc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0XHRyZXR1cm4gYS5hdC5nZXRUaW1lKCkgLSBiLmF0LmdldFRpbWUoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgYmluc1trZXldKSB7XG5cdFx0XHRcdGNvbnN0IGRheSA9IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXVtcblx0XHRcdFx0XHR0YXNrLmF0LmdldERheSgpXG5cdFx0XHRcdF07XG5cdFx0XHRcdGNvbnN0IHRleHQgPSBSZW5kZXJlci5tYWtlTGluayhcblx0XHRcdFx0XHR0aGlzLmR2LFxuXHRcdFx0XHRcdHRhc2suZixcblx0XHRcdFx0XHRgJHt0YXNrLmF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApfSwgJHtkYXl9YCxcblx0XHRcdFx0XHRcImRhaWx5XCIsXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHdlZWtOdW1iZXIgPCBjdXJyZW50V2Vla051bWJlcikge1xuXHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGB+fiR7dGV4dH1+fmBdKTtcblx0XHRcdFx0fSBlbHNlIGlmICh3ZWVrTnVtYmVyID09PSBjdXJyZW50V2Vla051bWJlcikge1xuXHRcdFx0XHRcdGlmICh0aGlzLmRheU9mWWVhcih0YXNrLmF0KSA8IHRoaXMuZGF5T2ZZZWFyKG5vdykpIHtcblx0XHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGB+fiR7dGV4dH1+fmBdKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cnMucHVzaChbXCJwYXJhZ3JhcGhcIiwgYCR7dGV4dH1gXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGAke3RleHR9YF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0ZGF5T2ZZZWFyKGR0KTogbnVtYmVyIHtcblx0XHRjb25zdCB5ZWFyID0gZHQuZ2V0RnVsbFllYXIoKTtcblx0XHRjb25zdCBtb250aCA9IGR0LmdldE1vbnRoKCkgKyAxO1xuXHRcdGNvbnN0IGRheSA9IGR0LmdldERhdGUoKTtcblxuXHRcdGNvbnN0IE4xID0gTWF0aC5mbG9vcigoMjc1ICogbW9udGgpIC8gOSk7XG5cdFx0Y29uc3QgTjIgPSBNYXRoLmZsb29yKChtb250aCArIDkpIC8gMTIpO1xuXHRcdGNvbnN0IE4zID0gMSArIE1hdGguZmxvb3IoKHllYXIgLSA0ICogTWF0aC5mbG9vcih5ZWFyIC8gNCkgKyAyKSAvIDMpO1xuXHRcdHJldHVybiBOMSAtIE4yICogTjMgKyBkYXkgLSAzMDtcblx0fVxuXG5cdGdldFdlZWtOdW1iZXIoZCkge1xuXHRcdC8vIENvcHkgZGF0ZSBzbyBkb24ndCBtb2RpZnkgb3JpZ2luYWxcblx0XHRkID0gbmV3IERhdGUoRGF0ZS5VVEMoZC5nZXRGdWxsWWVhcigpLCBkLmdldE1vbnRoKCksIGQuZ2V0RGF0ZSgpKSk7XG5cdFx0Ly8gU2V0IHRvIG5lYXJlc3QgVGh1cnNkYXk6IGN1cnJlbnQgZGF0ZSArIDQgLSBjdXJyZW50IGRheSBudW1iZXJcblx0XHQvLyBNYWtlIFN1bmRheSdzIGRheSBudW1iZXIgN1xuXHRcdGQuc2V0VVRDRGF0ZShkLmdldFVUQ0RhdGUoKSArIDQgLSAoZC5nZXRVVENEYXkoKSB8fCA3KSk7XG5cdFx0Ly8gR2V0IGZpcnN0IGRheSBvZiB5ZWFyXG5cdFx0Y29uc3QgeWVhclN0YXJ0ID0gbmV3IERhdGUoRGF0ZS5VVEMoZC5nZXRVVENGdWxsWWVhcigpLCAwLCAxKSk7XG5cdFx0Ly8gQ2FsY3VsYXRlIGZ1bGwgd2Vla3MgdG8gbmVhcmVzdCBUaHVyc2RheVxuXHRcdHJldHVybiBNYXRoLmNlaWwoKChkIC0geWVhclN0YXJ0KSAvIDg2NDAwMDAwICsgMSkgLyA3KTtcblx0fVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBT087OztBQ1BBLElBQU0sUUFBUTtBQUFBLEVBQ3BCLE9BQU87QUFBQSxFQUNQLFlBQVk7QUFBQSxFQUNaLE9BQU87QUFBQSxFQUNQLFNBQVM7QUFBQSxFQUNULE9BQU87QUFBQSxFQUNQLE1BQU07QUFBQSxFQUNOLFVBQVU7QUFBQSxFQUNWLE1BQU07QUFBQSxFQUNOLGFBQWE7QUFBQSxFQUNiLFNBQVM7QUFBQSxFQUNU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YUFBYSxJQUFJLEVBQUU7QUFDaEQsWUFBSSxPQUFPLFFBQVc7QUFDckI7QUFBQSxRQUNEO0FBRUEsWUFBSSxHQUFHLGNBQWMsVUFBYSxHQUFHLFdBQVcsUUFBVztBQUMxRCxrQkFBUTtBQUFBLFlBQ1AsZUFBZSxHQUFHLHVCQUF1QixHQUFHO0FBQUEsVUFDN0M7QUFDQTtBQUFBLFFBQ0Q7QUFFQSxZQUNDLEdBQUcsU0FBUyxVQUNYLEdBQUcsU0FBUyxNQUFNLE9BQ2xCLEdBQUcsU0FBUyxNQUFNLFNBQ2xCLEdBQUcsU0FBUyxNQUFNLFVBQ2xCO0FBQ0Qsa0JBQVE7QUFBQSxZQUNQLGtCQUFrQixHQUFHLG9CQUFvQixHQUFHO0FBQUEsVUFDN0M7QUFDQTtBQUFBLFFBQ0Q7QUFNQSxjQUFNLFNBQ0wsR0FBRyxTQUFTLE1BQU0sTUFDZixHQUFHLE1BQU0sU0FBUyxHQUFHLGlCQUNyQixHQUFHLE1BQU0sUUFBUSxHQUFHO0FBQ3hCLGNBQU0sT0FBTyxJQUFJLE1BQU0sc0JBQXNCLE1BQU07QUFDbkQsWUFBSSxVQUFVLGFBQWEsUUFBUSxLQUFLLEtBQUs7QUFBQSxNQUM5QztBQUFBLElBQ0QsQ0FBQztBQUFBLEVBQ0Y7QUFBQSxFQUVBLFdBQVc7QUFDVixZQUFRLElBQUkscUJBQXFCO0FBQ2pDLFdBQU8sT0FBTztBQUFBLEVBQ2Y7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixTQUFLLFdBQVcsT0FBTztBQUFBLE1BQ3RCLENBQUM7QUFBQSxNQUNEO0FBQUEsTUFDQSxNQUFNLEtBQUssU0FBUztBQUFBLElBQ3JCO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUFBLEVBQ2xDO0FBQ0Q7QUFFTyxJQUFNLGVBQU4sY0FBMkIsc0JBQU07QUFBQSxFQUN2QyxZQUFZSyxNQUFVO0FBQ3JCLFVBQU1BLElBQUc7QUFBQSxFQUNWO0FBQUEsRUFFQSxTQUFTO0FBQ1IsVUFBTSxFQUFFLFVBQVUsSUFBSTtBQUN0QixVQUFNLEtBQUssS0FBSyxJQUFJLFFBQVEsUUFBUSxTQUFTO0FBQzdDLFVBQU0sUUFBUSxHQUFHLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxHQUFHLEVBQUU7QUFDNUMsUUFBSSxJQUFJO0FBQ1IsZUFBVyxRQUFRLE9BQU87QUFDekIsV0FBSyxHQUFHLEtBQUssS0FBSztBQUFBO0FBQUE7QUFBQSxJQUVuQjtBQUNBLGNBQVUsUUFBUSxDQUFDO0FBQUEsRUFDcEI7QUFBQSxFQUVBLFVBQVU7QUFDVCxVQUFNLEVBQUUsVUFBVSxJQUFJO0FBQ3RCLGNBQVUsTUFBTTtBQUFBLEVBQ2pCO0FBQ0Q7IiwKICAibmFtZXMiOiBbInBhZ2UiLCAiZW50cnkiLCAiZm0iLCAiVHlwZXMiLCAiZm91bmQiLCAiYXJlYXMiLCAiYnVmZiIsICJhcHAiXQp9Cg==
